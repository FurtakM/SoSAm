// starting begin ResetFog ;
   0: CALL_OW 335
// Init ;
   4: CALL 37 0 0
// DebugMode ;
   8: CALL 165 0 0
// PrepareNature ;
  12: CALL 340 0 0
// PrepareRussian ;
  16: CALL 11753 0 0
// PrepareAmerican ;
  20: CALL 1053 0 0
// PrepareOvsyenko ;
  24: CALL 1697 0 0
// Action ;
  28: CALL 2555 0 0
// SaveForQuickRestart ;
  32: CALL_OW 22
// end ;
  36: END
// export mission_prefix , debug , terminal ; export jmm_in_ovsyenko , powell_want_sib , powell_want_sib_counter , game_time , ru_can_attack , ru_can_attack_terminal , ar_can_arrive , ar_spawned , player_want_mortar , player_want_info , player_get_mortar , player_get_info , player_attacked_ar ; function Init ; begin
  37: LD_INT 0
  39: PPUSH
// debug := false ;
  40: LD_ADDR_EXP 2
  44: PUSH
  45: LD_INT 0
  47: ST_TO_ADDR
// jmm_in_ovsyenko := false ;
  48: LD_ADDR_EXP 4
  52: PUSH
  53: LD_INT 0
  55: ST_TO_ADDR
// mission_prefix := 09_ ;
  56: LD_ADDR_EXP 1
  60: PUSH
  61: LD_STRING 09_
  63: ST_TO_ADDR
// powell_want_sib := false ;
  64: LD_ADDR_EXP 5
  68: PUSH
  69: LD_INT 0
  71: ST_TO_ADDR
// powell_want_sib_counter := 15 15$00 ;
  72: LD_ADDR_EXP 6
  76: PUSH
  77: LD_INT 31500
  79: ST_TO_ADDR
// game_time := 52 52$00 ;
  80: LD_ADDR_EXP 7
  84: PUSH
  85: LD_INT 109200
  87: ST_TO_ADDR
// ru_can_attack := false ;
  88: LD_ADDR_EXP 8
  92: PUSH
  93: LD_INT 0
  95: ST_TO_ADDR
// ru_can_attack_terminal := false ;
  96: LD_ADDR_EXP 9
 100: PUSH
 101: LD_INT 0
 103: ST_TO_ADDR
// ar_can_arrive := false ;
 104: LD_ADDR_EXP 10
 108: PUSH
 109: LD_INT 0
 111: ST_TO_ADDR
// ar_spawned := false ;
 112: LD_ADDR_EXP 11
 116: PUSH
 117: LD_INT 0
 119: ST_TO_ADDR
// player_want_mortar := false ;
 120: LD_ADDR_EXP 12
 124: PUSH
 125: LD_INT 0
 127: ST_TO_ADDR
// player_want_info := false ;
 128: LD_ADDR_EXP 13
 132: PUSH
 133: LD_INT 0
 135: ST_TO_ADDR
// player_get_mortar := false ;
 136: LD_ADDR_EXP 14
 140: PUSH
 141: LD_INT 0
 143: ST_TO_ADDR
// player_get_info := false ;
 144: LD_ADDR_EXP 15
 148: PUSH
 149: LD_INT 0
 151: ST_TO_ADDR
// player_attacked_ar := false ;
 152: LD_ADDR_EXP 16
 156: PUSH
 157: LD_INT 0
 159: ST_TO_ADDR
// end ;
 160: LD_VAR 0 1
 164: RET
// function DebugMode ; begin
 165: LD_INT 0
 167: PPUSH
// if not debug then
 168: LD_EXP 2
 172: NOT
 173: IFFALSE 177
// exit ;
 175: GO 184
// FogOff ( 1 ) ;
 177: LD_INT 1
 179: PPUSH
 180: CALL_OW 344
// end ; end_of_file
 184: LD_VAR 0 1
 188: RET
// export function PrepareUnit ( ident , exist_mode , mission_prefix_prev ) ; var unit ; begin
 189: LD_INT 0
 191: PPUSH
 192: PPUSH
// if exist_mode then
 193: LD_VAR 0 2
 197: IFFALSE 222
// unit := CreateCharacter ( mission_prefix_prev & ident ) else
 199: LD_ADDR_VAR 0 5
 203: PUSH
 204: LD_VAR 0 3
 208: PUSH
 209: LD_VAR 0 1
 213: STR
 214: PPUSH
 215: CALL_OW 34
 219: ST_TO_ADDR
 220: GO 237
// unit := NewCharacter ( ident ) ;
 222: LD_ADDR_VAR 0 5
 226: PUSH
 227: LD_VAR 0 1
 231: PPUSH
 232: CALL_OW 25
 236: ST_TO_ADDR
// result := unit ;
 237: LD_ADDR_VAR 0 4
 241: PUSH
 242: LD_VAR 0 5
 246: ST_TO_ADDR
// end ;
 247: LD_VAR 0 4
 251: RET
// export function PrepareTank ( side , nation , chassis , engine , control , weapon , fuel ) ; begin
 252: LD_INT 0
 254: PPUSH
// uc_side := side ;
 255: LD_ADDR_OWVAR 20
 259: PUSH
 260: LD_VAR 0 1
 264: ST_TO_ADDR
// uc_nation := nation ;
 265: LD_ADDR_OWVAR 21
 269: PUSH
 270: LD_VAR 0 2
 274: ST_TO_ADDR
// vc_chassis := chassis ;
 275: LD_ADDR_OWVAR 37
 279: PUSH
 280: LD_VAR 0 3
 284: ST_TO_ADDR
// vc_engine := engine ;
 285: LD_ADDR_OWVAR 39
 289: PUSH
 290: LD_VAR 0 4
 294: ST_TO_ADDR
// vc_control := control ;
 295: LD_ADDR_OWVAR 38
 299: PUSH
 300: LD_VAR 0 5
 304: ST_TO_ADDR
// vc_weapon := weapon ;
 305: LD_ADDR_OWVAR 40
 309: PUSH
 310: LD_VAR 0 6
 314: ST_TO_ADDR
// vc_fuel_battery := fuel ;
 315: LD_ADDR_OWVAR 41
 319: PUSH
 320: LD_VAR 0 7
 324: ST_TO_ADDR
// result := CreateVehicle ;
 325: LD_ADDR_VAR 0 8
 329: PUSH
 330: CALL_OW 45
 334: ST_TO_ADDR
// end ;
 335: LD_VAR 0 8
 339: RET
// export function PrepareNature ; var i , animal , nat_area ; begin
 340: LD_INT 0
 342: PPUSH
 343: PPUSH
 344: PPUSH
 345: PPUSH
// uc_side = 0 ;
 346: LD_ADDR_OWVAR 20
 350: PUSH
 351: LD_INT 0
 353: ST_TO_ADDR
// uc_nation = 0 ;
 354: LD_ADDR_OWVAR 21
 358: PUSH
 359: LD_INT 0
 361: ST_TO_ADDR
// nat_area := natureArea ;
 362: LD_ADDR_VAR 0 4
 366: PUSH
 367: LD_INT 1
 369: ST_TO_ADDR
// InitHc ;
 370: CALL_OW 19
// for i = 1 to 4 do
 374: LD_ADDR_VAR 0 2
 378: PUSH
 379: DOUBLE
 380: LD_INT 1
 382: DEC
 383: ST_TO_ADDR
 384: LD_INT 4
 386: PUSH
 387: FOR_TO
 388: IFFALSE 443
// begin hc_class = 18 ;
 390: LD_ADDR_OWVAR 28
 394: PUSH
 395: LD_INT 18
 397: ST_TO_ADDR
// hc_gallery =  ;
 398: LD_ADDR_OWVAR 33
 402: PUSH
 403: LD_STRING 
 405: ST_TO_ADDR
// hc_face_number = 1 ;
 406: LD_ADDR_OWVAR 34
 410: PUSH
 411: LD_INT 1
 413: ST_TO_ADDR
// animal := CreateHuman ;
 414: LD_ADDR_VAR 0 3
 418: PUSH
 419: CALL_OW 44
 423: ST_TO_ADDR
// PlaceUnitArea ( animal , nat_area , false ) ;
 424: LD_VAR 0 3
 428: PPUSH
 429: LD_VAR 0 4
 433: PPUSH
 434: LD_INT 0
 436: PPUSH
 437: CALL_OW 49
// end ;
 441: GO 387
 443: POP
 444: POP
// for i = 1 to 4 do
 445: LD_ADDR_VAR 0 2
 449: PUSH
 450: DOUBLE
 451: LD_INT 1
 453: DEC
 454: ST_TO_ADDR
 455: LD_INT 4
 457: PUSH
 458: FOR_TO
 459: IFFALSE 530
// begin hc_class = class_tiger ;
 461: LD_ADDR_OWVAR 28
 465: PUSH
 466: LD_INT 14
 468: ST_TO_ADDR
// hc_gallery =  ;
 469: LD_ADDR_OWVAR 33
 473: PUSH
 474: LD_STRING 
 476: ST_TO_ADDR
// hc_agressivity = Rand ( 0 , 50 ) ;
 477: LD_ADDR_OWVAR 35
 481: PUSH
 482: LD_INT 0
 484: PPUSH
 485: LD_INT 50
 487: PPUSH
 488: CALL_OW 12
 492: ST_TO_ADDR
// hc_face_number = 3 ;
 493: LD_ADDR_OWVAR 34
 497: PUSH
 498: LD_INT 3
 500: ST_TO_ADDR
// animal := CreateHuman ;
 501: LD_ADDR_VAR 0 3
 505: PUSH
 506: CALL_OW 44
 510: ST_TO_ADDR
// PlaceUnitArea ( animal , nat_area , false ) ;
 511: LD_VAR 0 3
 515: PPUSH
 516: LD_VAR 0 4
 520: PPUSH
 521: LD_INT 0
 523: PPUSH
 524: CALL_OW 49
// end ;
 528: GO 458
 530: POP
 531: POP
// for i = 1 to 6 do
 532: LD_ADDR_VAR 0 2
 536: PUSH
 537: DOUBLE
 538: LD_INT 1
 540: DEC
 541: ST_TO_ADDR
 542: LD_INT 6
 544: PUSH
 545: FOR_TO
 546: IFFALSE 610
// begin hc_class = class_apeman ;
 548: LD_ADDR_OWVAR 28
 552: PUSH
 553: LD_INT 12
 555: ST_TO_ADDR
// hc_gallery =  ;
 556: LD_ADDR_OWVAR 33
 560: PUSH
 561: LD_STRING 
 563: ST_TO_ADDR
// hc_agressivity = rand ( - 10 , 10 ) ;
 564: LD_ADDR_OWVAR 35
 568: PUSH
 569: LD_INT 10
 571: NEG
 572: PPUSH
 573: LD_INT 10
 575: PPUSH
 576: CALL_OW 12
 580: ST_TO_ADDR
// animal := CreateHuman ;
 581: LD_ADDR_VAR 0 3
 585: PUSH
 586: CALL_OW 44
 590: ST_TO_ADDR
// PlaceUnitArea ( animal , nat_area , false ) ;
 591: LD_VAR 0 3
 595: PPUSH
 596: LD_VAR 0 4
 600: PPUSH
 601: LD_INT 0
 603: PPUSH
 604: CALL_OW 49
// end ;
 608: GO 545
 610: POP
 611: POP
// for i = 1 to 6 do
 612: LD_ADDR_VAR 0 2
 616: PUSH
 617: DOUBLE
 618: LD_INT 1
 620: DEC
 621: ST_TO_ADDR
 622: LD_INT 6
 624: PUSH
 625: FOR_TO
 626: IFFALSE 681
// begin hc_class = 13 ;
 628: LD_ADDR_OWVAR 28
 632: PUSH
 633: LD_INT 13
 635: ST_TO_ADDR
// hc_gallery =  ;
 636: LD_ADDR_OWVAR 33
 640: PUSH
 641: LD_STRING 
 643: ST_TO_ADDR
// hc_face_number = 4 ;
 644: LD_ADDR_OWVAR 34
 648: PUSH
 649: LD_INT 4
 651: ST_TO_ADDR
// animal := CreateHuman ;
 652: LD_ADDR_VAR 0 3
 656: PUSH
 657: CALL_OW 44
 661: ST_TO_ADDR
// PlaceUnitArea ( animal , nat_area , false ) ;
 662: LD_VAR 0 3
 666: PPUSH
 667: LD_VAR 0 4
 671: PPUSH
 672: LD_INT 0
 674: PPUSH
 675: CALL_OW 49
// end ;
 679: GO 625
 681: POP
 682: POP
// for i = 1 to 1 do
 683: LD_ADDR_VAR 0 2
 687: PUSH
 688: DOUBLE
 689: LD_INT 1
 691: DEC
 692: ST_TO_ADDR
 693: LD_INT 1
 695: PUSH
 696: FOR_TO
 697: IFFALSE 745
// begin vc_chassis := 31 ;
 699: LD_ADDR_OWVAR 37
 703: PUSH
 704: LD_INT 31
 706: ST_TO_ADDR
// vc_control := control_rider ;
 707: LD_ADDR_OWVAR 38
 711: PUSH
 712: LD_INT 4
 714: ST_TO_ADDR
// animal := CreateVehicle ;
 715: LD_ADDR_VAR 0 3
 719: PUSH
 720: CALL_OW 45
 724: ST_TO_ADDR
// PlaceUnitXY ( animal , 21 , 22 , false ) ;
 725: LD_VAR 0 3
 729: PPUSH
 730: LD_INT 21
 732: PPUSH
 733: LD_INT 22
 735: PPUSH
 736: LD_INT 0
 738: PPUSH
 739: CALL_OW 48
// end ;
 743: GO 696
 745: POP
 746: POP
// end ;
 747: LD_VAR 0 1
 751: RET
// export function GetTerminalCargo ; begin
 752: LD_INT 0
 754: PPUSH
// result := GetResourceType ( GetBase ( terminal ) , mat_siberit ) ;
 755: LD_ADDR_VAR 0 1
 759: PUSH
 760: LD_EXP 3
 764: PPUSH
 765: CALL_OW 274
 769: PPUSH
 770: LD_INT 3
 772: PPUSH
 773: CALL_OW 275
 777: ST_TO_ADDR
// end ;
 778: LD_VAR 0 1
 782: RET
// export function GetPlayerSib ( side ) ; var i , tmp ; begin
 783: LD_INT 0
 785: PPUSH
 786: PPUSH
 787: PPUSH
// result := 0 ;
 788: LD_ADDR_VAR 0 2
 792: PUSH
 793: LD_INT 0
 795: ST_TO_ADDR
// tmp := FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
 796: LD_ADDR_VAR 0 4
 800: PUSH
 801: LD_INT 22
 803: PUSH
 804: LD_VAR 0 1
 808: PUSH
 809: EMPTY
 810: LIST
 811: LIST
 812: PUSH
 813: LD_INT 2
 815: PUSH
 816: LD_INT 30
 818: PUSH
 819: LD_INT 0
 821: PUSH
 822: EMPTY
 823: LIST
 824: LIST
 825: PUSH
 826: LD_INT 30
 828: PUSH
 829: LD_INT 1
 831: PUSH
 832: EMPTY
 833: LIST
 834: LIST
 835: PUSH
 836: EMPTY
 837: LIST
 838: LIST
 839: LIST
 840: PUSH
 841: EMPTY
 842: LIST
 843: LIST
 844: PPUSH
 845: CALL_OW 69
 849: ST_TO_ADDR
// if not tmp then
 850: LD_VAR 0 4
 854: NOT
 855: IFFALSE 859
// exit ;
 857: GO 905
// for i in tmp do
 859: LD_ADDR_VAR 0 3
 863: PUSH
 864: LD_VAR 0 4
 868: PUSH
 869: FOR_IN
 870: IFFALSE 903
// result := result + GetResourceType ( GetBase ( i ) , mat_siberit ) ;
 872: LD_ADDR_VAR 0 2
 876: PUSH
 877: LD_VAR 0 2
 881: PUSH
 882: LD_VAR 0 3
 886: PPUSH
 887: CALL_OW 274
 891: PPUSH
 892: LD_INT 3
 894: PPUSH
 895: CALL_OW 275
 899: PLUS
 900: ST_TO_ADDR
 901: GO 869
 903: POP
 904: POP
// end ;
 905: LD_VAR 0 2
 909: RET
// export function CutTreeInArea ( bulldozer , area ) ; var i ; begin
 910: LD_INT 0
 912: PPUSH
 913: PPUSH
// area = ListEnvironmentArea ( area ) ;
 914: LD_ADDR_VAR 0 2
 918: PUSH
 919: LD_VAR 0 2
 923: PPUSH
 924: CALL_OW 353
 928: ST_TO_ADDR
// if bulldozer > 0 then
 929: LD_VAR 0 1
 933: PUSH
 934: LD_INT 0
 936: GREATER
 937: IFFALSE 1048
// for i = area downto 1 do
 939: LD_ADDR_VAR 0 4
 943: PUSH
 944: DOUBLE
 945: LD_VAR 0 2
 949: INC
 950: ST_TO_ADDR
 951: LD_INT 1
 953: PUSH
 954: FOR_DOWNTO
 955: IFFALSE 1046
// if IsEnvironment ( area [ i ] [ 1 ] , area [ i ] [ 2 ] ) then
 957: LD_VAR 0 2
 961: PUSH
 962: LD_VAR 0 4
 966: ARRAY
 967: PUSH
 968: LD_INT 1
 970: ARRAY
 971: PPUSH
 972: LD_VAR 0 2
 976: PUSH
 977: LD_VAR 0 4
 981: ARRAY
 982: PUSH
 983: LD_INT 2
 985: ARRAY
 986: PPUSH
 987: CALL_OW 351
 991: IFFALSE 1044
// if not HasTask ( bulldozer ) then
 993: LD_VAR 0 1
 997: PPUSH
 998: CALL_OW 314
1002: NOT
1003: IFFALSE 1044
// AddComMoveXY ( bulldozer , area [ i ] [ 1 ] , area [ i ] [ 2 ] ) ;
1005: LD_VAR 0 1
1009: PPUSH
1010: LD_VAR 0 2
1014: PUSH
1015: LD_VAR 0 4
1019: ARRAY
1020: PUSH
1021: LD_INT 1
1023: ARRAY
1024: PPUSH
1025: LD_VAR 0 2
1029: PUSH
1030: LD_VAR 0 4
1034: ARRAY
1035: PUSH
1036: LD_INT 2
1038: ARRAY
1039: PPUSH
1040: CALL_OW 171
1044: GO 954
1046: POP
1047: POP
// end ; end_of_file
1048: LD_VAR 0 3
1052: RET
// export JMM , Gary , Bobby , Cyrus , Houten , alpha_engs , powell_trans , Powell ; export function PrepareAmerican ; var tmp , un , veh , i ; begin
1053: LD_INT 0
1055: PPUSH
1056: PPUSH
1057: PPUSH
1058: PPUSH
1059: PPUSH
// uc_side := 1 ;
1060: LD_ADDR_OWVAR 20
1064: PUSH
1065: LD_INT 1
1067: ST_TO_ADDR
// uc_nation := 1 ;
1068: LD_ADDR_OWVAR 21
1072: PUSH
1073: LD_INT 1
1075: ST_TO_ADDR
// JMM := PrepareUnit ( JMM , ( not debug ) , 08_ ) ;
1076: LD_ADDR_EXP 17
1080: PUSH
1081: LD_STRING JMM
1083: PPUSH
1084: LD_EXP 2
1088: NOT
1089: PPUSH
1090: LD_STRING 08_
1092: PPUSH
1093: CALL 189 0 3
1097: ST_TO_ADDR
// veh := PrepareTank ( 1 , 1 , us_medium_tracked , engine_solar , control_manual , us_double_gun , 55 ) ;
1098: LD_ADDR_VAR 0 4
1102: PUSH
1103: LD_INT 1
1105: PPUSH
1106: LD_INT 1
1108: PPUSH
1109: LD_INT 3
1111: PPUSH
1112: LD_INT 2
1114: PPUSH
1115: LD_INT 1
1117: PPUSH
1118: LD_INT 5
1120: PPUSH
1121: LD_INT 55
1123: PPUSH
1124: CALL 252 0 7
1128: ST_TO_ADDR
// SetDir ( veh , 3 ) ;
1129: LD_VAR 0 4
1133: PPUSH
1134: LD_INT 3
1136: PPUSH
1137: CALL_OW 233
// PlaceUnitXY ( veh , 43 , 3 , false ) ;
1141: LD_VAR 0 4
1145: PPUSH
1146: LD_INT 43
1148: PPUSH
1149: LD_INT 3
1151: PPUSH
1152: LD_INT 0
1154: PPUSH
1155: CALL_OW 48
// PlaceHumanInUnit ( JMM , veh ) ;
1159: LD_EXP 17
1163: PPUSH
1164: LD_VAR 0 4
1168: PPUSH
1169: CALL_OW 52
// tmp := [ ] ;
1173: LD_ADDR_VAR 0 2
1177: PUSH
1178: EMPTY
1179: ST_TO_ADDR
// uc_side := 4 ;
1180: LD_ADDR_OWVAR 20
1184: PUSH
1185: LD_INT 4
1187: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
1188: LD_ADDR_OWVAR 33
1192: PUSH
1193: LD_STRING SecondCharsGal
1195: ST_TO_ADDR
// hc_class := 2 ;
1196: LD_ADDR_OWVAR 28
1200: PUSH
1201: LD_INT 2
1203: ST_TO_ADDR
// hc_sex := sex_female ;
1204: LD_ADDR_OWVAR 27
1208: PUSH
1209: LD_INT 2
1211: ST_TO_ADDR
// hc_basic_skills := [ 0 , 1 , 1 , 0 ] ;
1212: LD_ADDR_OWVAR 30
1216: PUSH
1217: LD_INT 0
1219: PUSH
1220: LD_INT 1
1222: PUSH
1223: LD_INT 1
1225: PUSH
1226: LD_INT 0
1228: PUSH
1229: EMPTY
1230: LIST
1231: LIST
1232: LIST
1233: LIST
1234: ST_TO_ADDR
// hc_skills := [ 3 , 4 , 2 , 1 ] ;
1235: LD_ADDR_OWVAR 31
1239: PUSH
1240: LD_INT 3
1242: PUSH
1243: LD_INT 4
1245: PUSH
1246: LD_INT 2
1248: PUSH
1249: LD_INT 1
1251: PUSH
1252: EMPTY
1253: LIST
1254: LIST
1255: LIST
1256: LIST
1257: ST_TO_ADDR
// hc_attr := [ 10 , 11 ] ;
1258: LD_ADDR_OWVAR 29
1262: PUSH
1263: LD_INT 10
1265: PUSH
1266: LD_INT 11
1268: PUSH
1269: EMPTY
1270: LIST
1271: LIST
1272: ST_TO_ADDR
// hc_name := Naoma Goichman ;
1273: LD_ADDR_OWVAR 26
1277: PUSH
1278: LD_STRING Naoma Goichman
1280: ST_TO_ADDR
// hc_face_number := 43 ;
1281: LD_ADDR_OWVAR 34
1285: PUSH
1286: LD_INT 43
1288: ST_TO_ADDR
// tmp := tmp ^ CreateHuman ;
1289: LD_ADDR_VAR 0 2
1293: PUSH
1294: LD_VAR 0 2
1298: PUSH
1299: CALL_OW 44
1303: ADD
1304: ST_TO_ADDR
// hc_basic_skills := [ 0 , 2 , 0 , 1 ] ;
1305: LD_ADDR_OWVAR 30
1309: PUSH
1310: LD_INT 0
1312: PUSH
1313: LD_INT 2
1315: PUSH
1316: LD_INT 0
1318: PUSH
1319: LD_INT 1
1321: PUSH
1322: EMPTY
1323: LIST
1324: LIST
1325: LIST
1326: LIST
1327: ST_TO_ADDR
// hc_skills := [ 0 , 5 , 3 , 1 ] ;
1328: LD_ADDR_OWVAR 31
1332: PUSH
1333: LD_INT 0
1335: PUSH
1336: LD_INT 5
1338: PUSH
1339: LD_INT 3
1341: PUSH
1342: LD_INT 1
1344: PUSH
1345: EMPTY
1346: LIST
1347: LIST
1348: LIST
1349: LIST
1350: ST_TO_ADDR
// hc_attr := [ 10 , 10 ] ;
1351: LD_ADDR_OWVAR 29
1355: PUSH
1356: LD_INT 10
1358: PUSH
1359: LD_INT 10
1361: PUSH
1362: EMPTY
1363: LIST
1364: LIST
1365: ST_TO_ADDR
// hc_name := Magdalene Glance ;
1366: LD_ADDR_OWVAR 26
1370: PUSH
1371: LD_STRING Magdalene Glance
1373: ST_TO_ADDR
// hc_face_number := 44 ;
1374: LD_ADDR_OWVAR 34
1378: PUSH
1379: LD_INT 44
1381: ST_TO_ADDR
// tmp := tmp ^ CreateHuman ;
1382: LD_ADDR_VAR 0 2
1386: PUSH
1387: LD_VAR 0 2
1391: PUSH
1392: CALL_OW 44
1396: ADD
1397: ST_TO_ADDR
// hc_sex := sex_male ;
1398: LD_ADDR_OWVAR 27
1402: PUSH
1403: LD_INT 1
1405: ST_TO_ADDR
// hc_basic_skills := [ 2 , 2 , 0 , 0 ] ;
1406: LD_ADDR_OWVAR 30
1410: PUSH
1411: LD_INT 2
1413: PUSH
1414: LD_INT 2
1416: PUSH
1417: LD_INT 0
1419: PUSH
1420: LD_INT 0
1422: PUSH
1423: EMPTY
1424: LIST
1425: LIST
1426: LIST
1427: LIST
1428: ST_TO_ADDR
// hc_skills := [ 3 , 4 , 1 , 0 ] ;
1429: LD_ADDR_OWVAR 31
1433: PUSH
1434: LD_INT 3
1436: PUSH
1437: LD_INT 4
1439: PUSH
1440: LD_INT 1
1442: PUSH
1443: LD_INT 0
1445: PUSH
1446: EMPTY
1447: LIST
1448: LIST
1449: LIST
1450: LIST
1451: ST_TO_ADDR
// hc_attr := [ 12 , 10 ] ;
1452: LD_ADDR_OWVAR 29
1456: PUSH
1457: LD_INT 12
1459: PUSH
1460: LD_INT 10
1462: PUSH
1463: EMPTY
1464: LIST
1465: LIST
1466: ST_TO_ADDR
// hc_name := Steve Holland ;
1467: LD_ADDR_OWVAR 26
1471: PUSH
1472: LD_STRING Steve Holland
1474: ST_TO_ADDR
// hc_face_number := 60 ;
1475: LD_ADDR_OWVAR 34
1479: PUSH
1480: LD_INT 60
1482: ST_TO_ADDR
// tmp := tmp ^ CreateHuman ;
1483: LD_ADDR_VAR 0 2
1487: PUSH
1488: LD_VAR 0 2
1492: PUSH
1493: CALL_OW 44
1497: ADD
1498: ST_TO_ADDR
// alpha_engs := tmp diff 0 ;
1499: LD_ADDR_EXP 22
1503: PUSH
1504: LD_VAR 0 2
1508: PUSH
1509: LD_INT 0
1511: DIFF
1512: ST_TO_ADDR
// for un in alpha_engs do
1513: LD_ADDR_VAR 0 3
1517: PUSH
1518: LD_EXP 22
1522: PUSH
1523: FOR_IN
1524: IFFALSE 1549
// PlaceUnitXYR ( un , 52 , 35 , 3 , false ) ;
1526: LD_VAR 0 3
1530: PPUSH
1531: LD_INT 52
1533: PPUSH
1534: LD_INT 35
1536: PPUSH
1537: LD_INT 3
1539: PPUSH
1540: LD_INT 0
1542: PPUSH
1543: CALL_OW 50
1547: GO 1523
1549: POP
1550: POP
// for tmp = 1 to 4 do
1551: LD_ADDR_VAR 0 2
1555: PUSH
1556: DOUBLE
1557: LD_INT 1
1559: DEC
1560: ST_TO_ADDR
1561: LD_INT 4
1563: PUSH
1564: FOR_TO
1565: IFFALSE 1591
// CreateResourcesXYR ( mat_cans , 5 , 54 , 40 , 2 , false ) ;
1567: LD_INT 1
1569: PPUSH
1570: LD_INT 5
1572: PPUSH
1573: LD_INT 54
1575: PPUSH
1576: LD_INT 40
1578: PPUSH
1579: LD_INT 2
1581: PPUSH
1582: LD_INT 0
1584: PPUSH
1585: CALL_OW 60
1589: GO 1564
1591: POP
1592: POP
// if LoadVariable ( gamma_commander , 0 ) < 3 then
1593: LD_STRING gamma_commander
1595: PPUSH
1596: LD_INT 0
1598: PPUSH
1599: CALL_OW 30
1603: PUSH
1604: LD_INT 3
1606: LESS
1607: IFFALSE 1665
// begin Houten := PrepareUnit ( VanHouten , false ,  ) ;
1609: LD_ADDR_EXP 21
1613: PUSH
1614: LD_STRING VanHouten
1616: PPUSH
1617: LD_INT 0
1619: PPUSH
1620: LD_STRING 
1622: PPUSH
1623: CALL 189 0 3
1627: ST_TO_ADDR
// for i = 1 to 4 do
1628: LD_ADDR_VAR 0 5
1632: PUSH
1633: DOUBLE
1634: LD_INT 1
1636: DEC
1637: ST_TO_ADDR
1638: LD_INT 4
1640: PUSH
1641: FOR_TO
1642: IFFALSE 1663
// AddExperience ( Houten , i , 10000 ) ;
1644: LD_EXP 21
1648: PPUSH
1649: LD_VAR 0 5
1653: PPUSH
1654: LD_INT 10000
1656: PPUSH
1657: CALL_OW 492
1661: GO 1641
1663: POP
1664: POP
// end ; Powell := PrepareUnit ( Powell , false ,  ) ;
1665: LD_ADDR_EXP 24
1669: PUSH
1670: LD_STRING Powell
1672: PPUSH
1673: LD_INT 0
1675: PPUSH
1676: LD_STRING 
1678: PPUSH
1679: CALL 189 0 3
1683: ST_TO_ADDR
// InitHc ;
1684: CALL_OW 19
// InitUc ;
1688: CALL_OW 18
// end ;
1692: LD_VAR 0 1
1696: RET
// export function PrepareOvsyenko ; var i , b , tmp , un ; begin
1697: LD_INT 0
1699: PPUSH
1700: PPUSH
1701: PPUSH
1702: PPUSH
1703: PPUSH
// uc_side := 4 ;
1704: LD_ADDR_OWVAR 20
1708: PUSH
1709: LD_INT 4
1711: ST_TO_ADDR
// uc_nation := 3 ;
1712: LD_ADDR_OWVAR 21
1716: PUSH
1717: LD_INT 3
1719: ST_TO_ADDR
// tmp := LoadVariable ( 09_ovsyenko_base , [ [ b_depot , 101 , 118 , 2 ] , [ b_breastwork , 109 , 114 , 4 ] , [ b_breastwork , 115 , 132 , 5 ] , [ b_breastwork , 98 , 120 , 1 ] ] ) ;
1720: LD_ADDR_VAR 0 4
1724: PUSH
1725: LD_STRING 09_ovsyenko_base
1727: PPUSH
1728: LD_INT 0
1730: PUSH
1731: LD_INT 101
1733: PUSH
1734: LD_INT 118
1736: PUSH
1737: LD_INT 2
1739: PUSH
1740: EMPTY
1741: LIST
1742: LIST
1743: LIST
1744: LIST
1745: PUSH
1746: LD_INT 31
1748: PUSH
1749: LD_INT 109
1751: PUSH
1752: LD_INT 114
1754: PUSH
1755: LD_INT 4
1757: PUSH
1758: EMPTY
1759: LIST
1760: LIST
1761: LIST
1762: LIST
1763: PUSH
1764: LD_INT 31
1766: PUSH
1767: LD_INT 115
1769: PUSH
1770: LD_INT 132
1772: PUSH
1773: LD_INT 5
1775: PUSH
1776: EMPTY
1777: LIST
1778: LIST
1779: LIST
1780: LIST
1781: PUSH
1782: LD_INT 31
1784: PUSH
1785: LD_INT 98
1787: PUSH
1788: LD_INT 120
1790: PUSH
1791: LD_INT 1
1793: PUSH
1794: EMPTY
1795: LIST
1796: LIST
1797: LIST
1798: LIST
1799: PUSH
1800: EMPTY
1801: LIST
1802: LIST
1803: LIST
1804: LIST
1805: PPUSH
1806: CALL_OW 30
1810: ST_TO_ADDR
// for i in tmp do
1811: LD_ADDR_VAR 0 2
1815: PUSH
1816: LD_VAR 0 4
1820: PUSH
1821: FOR_IN
1822: IFFALSE 1978
// begin bc_type := i [ 1 ] ;
1824: LD_ADDR_OWVAR 42
1828: PUSH
1829: LD_VAR 0 2
1833: PUSH
1834: LD_INT 1
1836: ARRAY
1837: ST_TO_ADDR
// bc_level := 3 ;
1838: LD_ADDR_OWVAR 43
1842: PUSH
1843: LD_INT 3
1845: ST_TO_ADDR
// b := CreateAndPlaceBuildingXYD ( i [ 2 ] , i [ 3 ] , i [ 4 ] ) ;
1846: LD_ADDR_VAR 0 3
1850: PUSH
1851: LD_VAR 0 2
1855: PUSH
1856: LD_INT 2
1858: ARRAY
1859: PPUSH
1860: LD_VAR 0 2
1864: PUSH
1865: LD_INT 3
1867: ARRAY
1868: PPUSH
1869: LD_VAR 0 2
1873: PUSH
1874: LD_INT 4
1876: ARRAY
1877: PPUSH
1878: CALL_OW 47
1882: ST_TO_ADDR
// if GetBType ( b ) = b_depot then
1883: LD_VAR 0 3
1887: PPUSH
1888: CALL_OW 266
1892: PUSH
1893: LD_INT 0
1895: EQUAL
1896: IFFALSE 1930
// begin SetBName ( b , ovsyenko ) ;
1898: LD_VAR 0 3
1902: PPUSH
1903: LD_STRING ovsyenko
1905: PPUSH
1906: CALL_OW 500
// SetResourceType ( GetBase ( b ) , mat_cans , 50 ) ;
1910: LD_VAR 0 3
1914: PPUSH
1915: CALL_OW 274
1919: PPUSH
1920: LD_INT 1
1922: PPUSH
1923: LD_INT 50
1925: PPUSH
1926: CALL_OW 277
// end ; if i [ 4 ] < 250 then
1930: LD_VAR 0 2
1934: PUSH
1935: LD_INT 4
1937: ARRAY
1938: PUSH
1939: LD_INT 250
1941: LESS
1942: IFFALSE 1958
// SetLives ( b , 251 ) else
1944: LD_VAR 0 3
1948: PPUSH
1949: LD_INT 251
1951: PPUSH
1952: CALL_OW 234
1956: GO 1976
// SetLives ( b , i [ 4 ] ) ;
1958: LD_VAR 0 3
1962: PPUSH
1963: LD_VAR 0 2
1967: PUSH
1968: LD_INT 4
1970: ARRAY
1971: PPUSH
1972: CALL_OW 234
// end ;
1976: GO 1821
1978: POP
1979: POP
// uc_nation := 1 ;
1980: LD_ADDR_OWVAR 21
1984: PUSH
1985: LD_INT 1
1987: ST_TO_ADDR
// tmp := [ ] ;
1988: LD_ADDR_VAR 0 4
1992: PUSH
1993: EMPTY
1994: ST_TO_ADDR
// Gary := PrepareUnit ( Gary , ( not debug ) ,  ) ;
1995: LD_ADDR_EXP 18
1999: PUSH
2000: LD_STRING Gary
2002: PPUSH
2003: LD_EXP 2
2007: NOT
2008: PPUSH
2009: LD_STRING 
2011: PPUSH
2012: CALL 189 0 3
2016: ST_TO_ADDR
// tmp := tmp ^ Gary ;
2017: LD_ADDR_VAR 0 4
2021: PUSH
2022: LD_VAR 0 4
2026: PUSH
2027: LD_EXP 18
2031: ADD
2032: ST_TO_ADDR
// Bobby := PrepareUnit ( Bobby , ( not debug ) , 03_ ) ;
2033: LD_ADDR_EXP 19
2037: PUSH
2038: LD_STRING Bobby
2040: PPUSH
2041: LD_EXP 2
2045: NOT
2046: PPUSH
2047: LD_STRING 03_
2049: PPUSH
2050: CALL 189 0 3
2054: ST_TO_ADDR
// if Bobby then
2055: LD_EXP 19
2059: IFFALSE 2077
// tmp := tmp ^ Bobby ;
2061: LD_ADDR_VAR 0 4
2065: PUSH
2066: LD_VAR 0 4
2070: PUSH
2071: LD_EXP 19
2075: ADD
2076: ST_TO_ADDR
// Cyrus := PrepareUnit ( Cyrus , ( not debug ) , 03_ ) ;
2077: LD_ADDR_EXP 20
2081: PUSH
2082: LD_STRING Cyrus
2084: PPUSH
2085: LD_EXP 2
2089: NOT
2090: PPUSH
2091: LD_STRING 03_
2093: PPUSH
2094: CALL 189 0 3
2098: ST_TO_ADDR
// if Cyrus then
2099: LD_EXP 20
2103: IFFALSE 2121
// tmp := tmp ^ Cyrus ;
2105: LD_ADDR_VAR 0 4
2109: PUSH
2110: LD_VAR 0 4
2114: PUSH
2115: LD_EXP 20
2119: ADD
2120: ST_TO_ADDR
// tmp := tmp ^ CreateCharacterSet ( 09_prev_squad ) ;
2121: LD_ADDR_VAR 0 4
2125: PUSH
2126: LD_VAR 0 4
2130: PUSH
2131: LD_STRING 09_prev_squad
2133: PPUSH
2134: CALL_OW 31
2138: ADD
2139: ST_TO_ADDR
// tmp := tmp diff 0 ;
2140: LD_ADDR_VAR 0 4
2144: PUSH
2145: LD_VAR 0 4
2149: PUSH
2150: LD_INT 0
2152: DIFF
2153: ST_TO_ADDR
// if tmp < 4 then
2154: LD_VAR 0 4
2158: PUSH
2159: LD_INT 4
2161: LESS
2162: IFFALSE 2242
// begin for i = 1 to 3 do
2164: LD_ADDR_VAR 0 2
2168: PUSH
2169: DOUBLE
2170: LD_INT 1
2172: DEC
2173: ST_TO_ADDR
2174: LD_INT 3
2176: PUSH
2177: FOR_TO
2178: IFFALSE 2211
// begin PrepareHuman ( false , 1 , 5 ) ;
2180: LD_INT 0
2182: PPUSH
2183: LD_INT 1
2185: PPUSH
2186: LD_INT 5
2188: PPUSH
2189: CALL_OW 380
// tmp := tmp ^ CreateHuman ;
2193: LD_ADDR_VAR 0 4
2197: PUSH
2198: LD_VAR 0 4
2202: PUSH
2203: CALL_OW 44
2207: ADD
2208: ST_TO_ADDR
// end ;
2209: GO 2177
2211: POP
2212: POP
// PrepareHuman ( false , 4 , 5 ) ;
2213: LD_INT 0
2215: PPUSH
2216: LD_INT 4
2218: PPUSH
2219: LD_INT 5
2221: PPUSH
2222: CALL_OW 380
// tmp := tmp ^ CreateHuman ;
2226: LD_ADDR_VAR 0 4
2230: PUSH
2231: LD_VAR 0 4
2235: PUSH
2236: CALL_OW 44
2240: ADD
2241: ST_TO_ADDR
// end ; for i in tmp do
2242: LD_ADDR_VAR 0 2
2246: PUSH
2247: LD_VAR 0 4
2251: PUSH
2252: FOR_IN
2253: IFFALSE 2278
// PlaceUnitXYR ( i , 106 , 122 , 5 , false ) ;
2255: LD_VAR 0 2
2259: PPUSH
2260: LD_INT 106
2262: PPUSH
2263: LD_INT 122
2265: PPUSH
2266: LD_INT 5
2268: PPUSH
2269: LD_INT 0
2271: PPUSH
2272: CALL_OW 50
2276: GO 2252
2278: POP
2279: POP
// tmp := tmp diff Gary ;
2280: LD_ADDR_VAR 0 4
2284: PUSH
2285: LD_VAR 0 4
2289: PUSH
2290: LD_EXP 18
2294: DIFF
2295: ST_TO_ADDR
// b := FilterAllUnits ( [ [ f_side , 4 ] , [ f_btype , b_breastwork ] ] ) ;
2296: LD_ADDR_VAR 0 3
2300: PUSH
2301: LD_INT 22
2303: PUSH
2304: LD_INT 4
2306: PUSH
2307: EMPTY
2308: LIST
2309: LIST
2310: PUSH
2311: LD_INT 30
2313: PUSH
2314: LD_INT 31
2316: PUSH
2317: EMPTY
2318: LIST
2319: LIST
2320: PUSH
2321: EMPTY
2322: LIST
2323: LIST
2324: PPUSH
2325: CALL_OW 69
2329: ST_TO_ADDR
// for i = 1 to b do
2330: LD_ADDR_VAR 0 2
2334: PUSH
2335: DOUBLE
2336: LD_INT 1
2338: DEC
2339: ST_TO_ADDR
2340: LD_VAR 0 3
2344: PUSH
2345: FOR_TO
2346: IFFALSE 2376
// begin ComEnterUnit ( tmp [ i ] , b [ i ] ) ;
2348: LD_VAR 0 4
2352: PUSH
2353: LD_VAR 0 2
2357: ARRAY
2358: PPUSH
2359: LD_VAR 0 3
2363: PUSH
2364: LD_VAR 0 2
2368: ARRAY
2369: PPUSH
2370: CALL_OW 120
// end ;
2374: GO 2345
2376: POP
2377: POP
// InitHc ;
2378: CALL_OW 19
// InitUc ;
2382: CALL_OW 18
// end ;
2386: LD_VAR 0 1
2390: RET
// export function PowellTransport ; var i , un ; begin
2391: LD_INT 0
2393: PPUSH
2394: PPUSH
2395: PPUSH
// uc_side := 4 ;
2396: LD_ADDR_OWVAR 20
2400: PUSH
2401: LD_INT 4
2403: ST_TO_ADDR
// uc_nation := 1 ;
2404: LD_ADDR_OWVAR 21
2408: PUSH
2409: LD_INT 1
2411: ST_TO_ADDR
// PrepareHuman ( sex_male , 3 , 6 ) ;
2412: LD_INT 1
2414: PPUSH
2415: LD_INT 3
2417: PPUSH
2418: LD_INT 6
2420: PPUSH
2421: CALL_OW 380
// hc_name :=  ;
2425: LD_ADDR_OWVAR 26
2429: PUSH
2430: LD_STRING 
2432: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
2433: LD_ADDR_OWVAR 33
2437: PUSH
2438: LD_STRING SecondCharsGal
2440: ST_TO_ADDR
// hc_face_number := 30 ;
2441: LD_ADDR_OWVAR 34
2445: PUSH
2446: LD_INT 30
2448: ST_TO_ADDR
// powell_trans := CreateHuman ;
2449: LD_ADDR_EXP 23
2453: PUSH
2454: CALL_OW 44
2458: ST_TO_ADDR
// hc_face_number := 31 ;
2459: LD_ADDR_OWVAR 34
2463: PUSH
2464: LD_INT 31
2466: ST_TO_ADDR
// powell_trans := powell_trans ^ CreateHuman ;
2467: LD_ADDR_EXP 23
2471: PUSH
2472: LD_EXP 23
2476: PUSH
2477: CALL_OW 44
2481: ADD
2482: ST_TO_ADDR
// for i = 1 to 2 do
2483: LD_ADDR_VAR 0 2
2487: PUSH
2488: DOUBLE
2489: LD_INT 1
2491: DEC
2492: ST_TO_ADDR
2493: LD_INT 2
2495: PUSH
2496: FOR_TO
2497: IFFALSE 2548
// begin un := PrepareTank ( 4 , 1 , us_medium_tracked , engine_combustion , control_manual , us_cargo_bay , 66 ) ;
2499: LD_ADDR_VAR 0 3
2503: PUSH
2504: LD_INT 4
2506: PPUSH
2507: LD_INT 1
2509: PPUSH
2510: LD_INT 3
2512: PPUSH
2513: LD_INT 1
2515: PPUSH
2516: LD_INT 1
2518: PPUSH
2519: LD_INT 12
2521: PPUSH
2522: LD_INT 66
2524: PPUSH
2525: CALL 252 0 7
2529: ST_TO_ADDR
// powell_trans := powell_trans ^ un ;
2530: LD_ADDR_EXP 23
2534: PUSH
2535: LD_EXP 23
2539: PUSH
2540: LD_VAR 0 3
2544: ADD
2545: ST_TO_ADDR
// end ;
2546: GO 2496
2548: POP
2549: POP
// end ; end_of_file
2550: LD_VAR 0 1
2554: RET
// export function Action ; var i , veh ; begin
2555: LD_INT 0
2557: PPUSH
2558: PPUSH
2559: PPUSH
// ComBuild ( alpha_engs , b_depot , 50 , 38 , 2 ) ;
2560: LD_EXP 22
2564: PPUSH
2565: LD_INT 0
2567: PPUSH
2568: LD_INT 50
2570: PPUSH
2571: LD_INT 38
2573: PPUSH
2574: LD_INT 2
2576: PPUSH
2577: CALL_OW 145
// InGameOn ;
2581: CALL_OW 8
// CenterNowOnXY ( 43 , 9 ) ;
2585: LD_INT 43
2587: PPUSH
2588: LD_INT 9
2590: PPUSH
2591: CALL_OW 86
// ComMoveXY ( JMM , 54 , 34 ) ;
2595: LD_EXP 17
2599: PPUSH
2600: LD_INT 54
2602: PPUSH
2603: LD_INT 34
2605: PPUSH
2606: CALL_OW 111
// AddComExitVehicle ( JMM ) ;
2610: LD_EXP 17
2614: PPUSH
2615: CALL_OW 181
// AddComTurnUnit ( JMM , alpha_engs [ 1 ] ) ;
2619: LD_EXP 17
2623: PPUSH
2624: LD_EXP 22
2628: PUSH
2629: LD_INT 1
2631: ARRAY
2632: PPUSH
2633: CALL_OW 179
// repeat wait ( 0 0$01 ) ;
2637: LD_INT 35
2639: PPUSH
2640: CALL_OW 67
// until See ( 4 , JMM ) ;
2644: LD_INT 4
2646: PPUSH
2647: LD_EXP 17
2651: PPUSH
2652: CALL_OW 292
2656: IFFALSE 2637
// CenterNowOnUnits ( JMM ) ;
2658: LD_EXP 17
2662: PPUSH
2663: CALL_OW 87
// Say ( JMM , D2-JMM-1 ) ;
2667: LD_EXP 17
2671: PPUSH
2672: LD_STRING D2-JMM-1
2674: PPUSH
2675: CALL_OW 88
// ComTurnUnit ( alpha_engs [ 3 ] , JMM ) ;
2679: LD_EXP 22
2683: PUSH
2684: LD_INT 3
2686: ARRAY
2687: PPUSH
2688: LD_EXP 17
2692: PPUSH
2693: CALL_OW 119
// Say ( alpha_engs [ 3 ] , D2-Eng1-1 ) ;
2697: LD_EXP 22
2701: PUSH
2702: LD_INT 3
2704: ARRAY
2705: PPUSH
2706: LD_STRING D2-Eng1-1
2708: PPUSH
2709: CALL_OW 88
// Say ( JMM , D2-JMM-2 ) ;
2713: LD_EXP 17
2717: PPUSH
2718: LD_STRING D2-JMM-2
2720: PPUSH
2721: CALL_OW 88
// Say ( alpha_engs [ 3 ] , D2-Eng1-2 ) ;
2725: LD_EXP 22
2729: PUSH
2730: LD_INT 3
2732: ARRAY
2733: PPUSH
2734: LD_STRING D2-Eng1-2
2736: PPUSH
2737: CALL_OW 88
// Say ( JMM , D2-JMM-3 ) ;
2741: LD_EXP 17
2745: PPUSH
2746: LD_STRING D2-JMM-3
2748: PPUSH
2749: CALL_OW 88
// if Houten then
2753: LD_EXP 21
2757: IFFALSE 2955
// begin veh := PrepareTank ( 4 , 1 , us_medium_tracked , engine_solar , control_manual , us_gatling_gun , 55 ) ;
2759: LD_ADDR_VAR 0 3
2763: PUSH
2764: LD_INT 4
2766: PPUSH
2767: LD_INT 1
2769: PPUSH
2770: LD_INT 3
2772: PPUSH
2773: LD_INT 2
2775: PPUSH
2776: LD_INT 1
2778: PPUSH
2779: LD_INT 4
2781: PPUSH
2782: LD_INT 55
2784: PPUSH
2785: CALL 252 0 7
2789: ST_TO_ADDR
// SetDir ( veh , 3 ) ;
2790: LD_VAR 0 3
2794: PPUSH
2795: LD_INT 3
2797: PPUSH
2798: CALL_OW 233
// PlaceUnitXY ( veh , 46 , 19 , false ) ;
2802: LD_VAR 0 3
2806: PPUSH
2807: LD_INT 46
2809: PPUSH
2810: LD_INT 19
2812: PPUSH
2813: LD_INT 0
2815: PPUSH
2816: CALL_OW 48
// PlaceHumanInUnit ( Houten , veh ) ;
2820: LD_EXP 21
2824: PPUSH
2825: LD_VAR 0 3
2829: PPUSH
2830: CALL_OW 52
// ComMoveXY ( Houten , 49 , 33 ) ;
2834: LD_EXP 21
2838: PPUSH
2839: LD_INT 49
2841: PPUSH
2842: LD_INT 33
2844: PPUSH
2845: CALL_OW 111
// AddComExitVehicle ( Houten ) ;
2849: LD_EXP 21
2853: PPUSH
2854: CALL_OW 181
// AddComTurnUnit ( Houten , JMM ) ;
2858: LD_EXP 21
2862: PPUSH
2863: LD_EXP 17
2867: PPUSH
2868: CALL_OW 179
// repeat wait ( 0 0$01 ) ;
2872: LD_INT 35
2874: PPUSH
2875: CALL_OW 67
// until See ( 1 , Houten ) ;
2879: LD_INT 1
2881: PPUSH
2882: LD_EXP 21
2886: PPUSH
2887: CALL_OW 292
2891: IFFALSE 2872
// ComTurnUnit ( JMM , Houten ) ;
2893: LD_EXP 17
2897: PPUSH
2898: LD_EXP 21
2902: PPUSH
2903: CALL_OW 119
// Say ( JMM , D1d-JMM-1 ) ;
2907: LD_EXP 17
2911: PPUSH
2912: LD_STRING D1d-JMM-1
2914: PPUSH
2915: CALL_OW 88
// Say ( Houten , D1-VanH-1 ) ;
2919: LD_EXP 21
2923: PPUSH
2924: LD_STRING D1-VanH-1
2926: PPUSH
2927: CALL_OW 88
// Say ( JMM , D1-JMM-1v ) ;
2931: LD_EXP 17
2935: PPUSH
2936: LD_STRING D1-JMM-1v
2938: PPUSH
2939: CALL_OW 88
// Say ( JMM , D1-JMM-2v ) ;
2943: LD_EXP 17
2947: PPUSH
2948: LD_STRING D1-JMM-2v
2950: PPUSH
2951: CALL_OW 88
// end ; InGameOff ;
2955: CALL_OW 9
// ChangeMissionObjectives ( M1 ) ;
2959: LD_STRING M1
2961: PPUSH
2962: CALL_OW 337
// SetSide ( FilterAllUnits ( [ [ f_side , 4 ] , [ f_distxy , GetX ( JMM ) , GetY ( JMM ) , 15 ] ] ) , 1 ) ;
2966: LD_INT 22
2968: PUSH
2969: LD_INT 4
2971: PUSH
2972: EMPTY
2973: LIST
2974: LIST
2975: PUSH
2976: LD_INT 92
2978: PUSH
2979: LD_EXP 17
2983: PPUSH
2984: CALL_OW 250
2988: PUSH
2989: LD_EXP 17
2993: PPUSH
2994: CALL_OW 251
2998: PUSH
2999: LD_INT 15
3001: PUSH
3002: EMPTY
3003: LIST
3004: LIST
3005: LIST
3006: LIST
3007: PUSH
3008: EMPTY
3009: LIST
3010: LIST
3011: PPUSH
3012: CALL_OW 69
3016: PPUSH
3017: LD_INT 1
3019: PPUSH
3020: CALL_OW 235
// ComStop ( alpha_engs ^ JMM ^ Houten ) ;
3024: LD_EXP 22
3028: PUSH
3029: LD_EXP 17
3033: ADD
3034: PUSH
3035: LD_EXP 21
3039: ADD
3040: PPUSH
3041: CALL_OW 141
// end ;
3045: LD_VAR 0 1
3049: RET
// every 0 0$1 trigger See ( 1 , Gary ) and GetDistUnits ( JMM , Gary ) < 6 do var un1 , un2 , un3 , tmp , i ;
3050: LD_INT 1
3052: PPUSH
3053: LD_EXP 18
3057: PPUSH
3058: CALL_OW 292
3062: PUSH
3063: LD_EXP 17
3067: PPUSH
3068: LD_EXP 18
3072: PPUSH
3073: CALL_OW 296
3077: PUSH
3078: LD_INT 6
3080: LESS
3081: AND
3082: IFFALSE 3805
3084: GO 3086
3086: DISABLE
3087: LD_INT 0
3089: PPUSH
3090: PPUSH
3091: PPUSH
3092: PPUSH
3093: PPUSH
// begin InGameOn ;
3094: CALL_OW 8
// SetSide ( FilterAllUnits ( [ f_side , 4 ] ) , 1 ) ;
3098: LD_INT 22
3100: PUSH
3101: LD_INT 4
3103: PUSH
3104: EMPTY
3105: LIST
3106: LIST
3107: PPUSH
3108: CALL_OW 69
3112: PPUSH
3113: LD_INT 1
3115: PPUSH
3116: CALL_OW 235
// tmp := FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) ;
3120: LD_ADDR_VAR 0 4
3124: PUSH
3125: LD_INT 22
3127: PUSH
3128: LD_INT 1
3130: PUSH
3131: EMPTY
3132: LIST
3133: LIST
3134: PUSH
3135: LD_INT 21
3137: PUSH
3138: LD_INT 1
3140: PUSH
3141: EMPTY
3142: LIST
3143: LIST
3144: PUSH
3145: EMPTY
3146: LIST
3147: LIST
3148: PPUSH
3149: CALL_OW 69
3153: ST_TO_ADDR
// ComHold ( tmp ) ;
3154: LD_VAR 0 4
3158: PPUSH
3159: CALL_OW 140
// Say ( JMM , D2-JMM-3a ) ;
3163: LD_EXP 17
3167: PPUSH
3168: LD_STRING D2-JMM-3a
3170: PPUSH
3171: CALL_OW 88
// ComTurnUnit ( Gary , JMM ) ;
3175: LD_EXP 18
3179: PPUSH
3180: LD_EXP 17
3184: PPUSH
3185: CALL_OW 119
// Say ( Gary , D2-Gary-3 ) ;
3189: LD_EXP 18
3193: PPUSH
3194: LD_STRING D2-Gary-3
3196: PPUSH
3197: CALL_OW 88
// ComTurnUnit ( JMM , Gary ) ;
3201: LD_EXP 17
3205: PPUSH
3206: LD_EXP 18
3210: PPUSH
3211: CALL_OW 119
// for i in tmp do
3215: LD_ADDR_VAR 0 5
3219: PUSH
3220: LD_VAR 0 4
3224: PUSH
3225: FOR_IN
3226: IFFALSE 3271
// begin if IsInUnit ( i ) then
3228: LD_VAR 0 5
3232: PPUSH
3233: CALL_OW 310
3237: IFFALSE 3248
// ComExitBuilding ( i ) ;
3239: LD_VAR 0 5
3243: PPUSH
3244: CALL_OW 122
// wait ( 1 ) ;
3248: LD_INT 1
3250: PPUSH
3251: CALL_OW 67
// ComTurnUnit ( i , JMM ) ;
3255: LD_VAR 0 5
3259: PPUSH
3260: LD_EXP 17
3264: PPUSH
3265: CALL_OW 119
// end ;
3269: GO 3225
3271: POP
3272: POP
// tmp := tmp diff [ JMM , Houten , Gary , Cyrus , Bobby ] ^ alpha_engs ;
3273: LD_ADDR_VAR 0 4
3277: PUSH
3278: LD_VAR 0 4
3282: PUSH
3283: LD_EXP 17
3287: PUSH
3288: LD_EXP 21
3292: PUSH
3293: LD_EXP 18
3297: PUSH
3298: LD_EXP 20
3302: PUSH
3303: LD_EXP 19
3307: PUSH
3308: EMPTY
3309: LIST
3310: LIST
3311: LIST
3312: LIST
3313: LIST
3314: PUSH
3315: LD_EXP 22
3319: ADD
3320: DIFF
3321: ST_TO_ADDR
// if Bobby then
3322: LD_EXP 19
3326: IFFALSE 3340
// Say ( Bobby , D2-Bobby-3 ) ;
3328: LD_EXP 19
3332: PPUSH
3333: LD_STRING D2-Bobby-3
3335: PPUSH
3336: CALL_OW 88
// if Cyrus then
3340: LD_EXP 20
3344: IFFALSE 3358
// Say ( Cyrus , D2-Cyrus-3 ) ;
3346: LD_EXP 20
3350: PPUSH
3351: LD_STRING D2-Cyrus-3
3353: PPUSH
3354: CALL_OW 88
// Say ( JMM , D2-JMM-4 ) ;
3358: LD_EXP 17
3362: PPUSH
3363: LD_STRING D2-JMM-4
3365: PPUSH
3366: CALL_OW 88
// Say ( Gary , D2-Gary-4 ) ;
3370: LD_EXP 18
3374: PPUSH
3375: LD_STRING D2-Gary-4
3377: PPUSH
3378: CALL_OW 88
// un1 := UnitFilter ( tmp , [ f_sex , sex_male ] ) [ 1 ] ;
3382: LD_ADDR_VAR 0 1
3386: PUSH
3387: LD_VAR 0 4
3391: PPUSH
3392: LD_INT 26
3394: PUSH
3395: LD_INT 1
3397: PUSH
3398: EMPTY
3399: LIST
3400: LIST
3401: PPUSH
3402: CALL_OW 72
3406: PUSH
3407: LD_INT 1
3409: ARRAY
3410: ST_TO_ADDR
// if Cyrus then
3411: LD_EXP 20
3415: IFFALSE 3431
// Say ( Cyrus , D2-Cyrus-4 ) else
3417: LD_EXP 20
3421: PPUSH
3422: LD_STRING D2-Cyrus-4
3424: PPUSH
3425: CALL_OW 88
3429: GO 3443
// Say ( un1 , D2-Sol1-4 ) ;
3431: LD_VAR 0 1
3435: PPUSH
3436: LD_STRING D2-Sol1-4
3438: PPUSH
3439: CALL_OW 88
// Say ( JMM , D2-JMM-5 ) ;
3443: LD_EXP 17
3447: PPUSH
3448: LD_STRING D2-JMM-5
3450: PPUSH
3451: CALL_OW 88
// un2 := UnitFilter ( alpha_engs , [ [ f_dist , JMM , 10 ] , [ f_sex , sex_female ] ] ) ;
3455: LD_ADDR_VAR 0 2
3459: PUSH
3460: LD_EXP 22
3464: PPUSH
3465: LD_INT 91
3467: PUSH
3468: LD_EXP 17
3472: PUSH
3473: LD_INT 10
3475: PUSH
3476: EMPTY
3477: LIST
3478: LIST
3479: LIST
3480: PUSH
3481: LD_INT 26
3483: PUSH
3484: LD_INT 2
3486: PUSH
3487: EMPTY
3488: LIST
3489: LIST
3490: PUSH
3491: EMPTY
3492: LIST
3493: LIST
3494: PPUSH
3495: CALL_OW 72
3499: ST_TO_ADDR
// if un2 then
3500: LD_VAR 0 2
3504: IFFALSE 3558
// begin un2 := un2 [ un2 ] ;
3506: LD_ADDR_VAR 0 2
3510: PUSH
3511: LD_VAR 0 2
3515: PUSH
3516: LD_VAR 0 2
3520: ARRAY
3521: ST_TO_ADDR
// Say ( un2 , D2-FEng1-5 ) ;
3522: LD_VAR 0 2
3526: PPUSH
3527: LD_STRING D2-FEng1-5
3529: PPUSH
3530: CALL_OW 88
// Say ( JMM , D2-JMM-6 ) ;
3534: LD_EXP 17
3538: PPUSH
3539: LD_STRING D2-JMM-6
3541: PPUSH
3542: CALL_OW 88
// Say ( un2 , D2-FEng1-6 ) ;
3546: LD_VAR 0 2
3550: PPUSH
3551: LD_STRING D2-FEng1-6
3553: PPUSH
3554: CALL_OW 88
// end ; un3 := UnitFilter ( alpha_engs , [ [ f_dist , JMM , 10 ] , [ f_sex , sex_male ] ] ) ;
3558: LD_ADDR_VAR 0 3
3562: PUSH
3563: LD_EXP 22
3567: PPUSH
3568: LD_INT 91
3570: PUSH
3571: LD_EXP 17
3575: PUSH
3576: LD_INT 10
3578: PUSH
3579: EMPTY
3580: LIST
3581: LIST
3582: LIST
3583: PUSH
3584: LD_INT 26
3586: PUSH
3587: LD_INT 1
3589: PUSH
3590: EMPTY
3591: LIST
3592: LIST
3593: PUSH
3594: EMPTY
3595: LIST
3596: LIST
3597: PPUSH
3598: CALL_OW 72
3602: ST_TO_ADDR
// if un3 then
3603: LD_VAR 0 3
3607: IFFALSE 3662
// begin un3 := un3 [ 1 ] ;
3609: LD_ADDR_VAR 0 3
3613: PUSH
3614: LD_VAR 0 3
3618: PUSH
3619: LD_INT 1
3621: ARRAY
3622: ST_TO_ADDR
// ComMoveXY ( un3 , 114 , 122 ) ;
3623: LD_VAR 0 3
3627: PPUSH
3628: LD_INT 114
3630: PPUSH
3631: LD_INT 122
3633: PPUSH
3634: CALL_OW 111
// Say ( un3 , D2-Eng1-6 ) ;
3638: LD_VAR 0 3
3642: PPUSH
3643: LD_STRING D2-Eng1-6
3645: PPUSH
3646: CALL_OW 88
// Say ( JMM , D2-JMM-7 ) ;
3650: LD_EXP 17
3654: PPUSH
3655: LD_STRING D2-JMM-7
3657: PPUSH
3658: CALL_OW 88
// end ; Say ( Gary , D2-Gary-7 ) ;
3662: LD_EXP 18
3666: PPUSH
3667: LD_STRING D2-Gary-7
3669: PPUSH
3670: CALL_OW 88
// if un2 then
3674: LD_VAR 0 2
3678: IFFALSE 3692
// Say ( un2 , D2-FEng1-7 ) ;
3680: LD_VAR 0 2
3684: PPUSH
3685: LD_STRING D2-FEng1-7
3687: PPUSH
3688: CALL_OW 88
// Say ( un1 , D2-Sol1-7 ) ;
3692: LD_VAR 0 1
3696: PPUSH
3697: LD_STRING D2-Sol1-7
3699: PPUSH
3700: CALL_OW 88
// Say ( JMM , D2-JMM-8 ) ;
3704: LD_EXP 17
3708: PPUSH
3709: LD_STRING D2-JMM-8
3711: PPUSH
3712: CALL_OW 88
// ComStop ( FilterAllUnits ( [ f_side , 1 ] ) ) ;
3716: LD_INT 22
3718: PUSH
3719: LD_INT 1
3721: PUSH
3722: EMPTY
3723: LIST
3724: LIST
3725: PPUSH
3726: CALL_OW 69
3730: PPUSH
3731: CALL_OW 141
// InGameOff ;
3735: CALL_OW 9
// ChangeMissionObjectives ( M1a ) ;
3739: LD_STRING M1a
3741: PPUSH
3742: CALL_OW 337
// jmm_in_ovsyenko := true ;
3746: LD_ADDR_EXP 4
3750: PUSH
3751: LD_INT 1
3753: ST_TO_ADDR
// wait ( 0 0$30 ) ;
3754: LD_INT 1050
3756: PPUSH
3757: CALL_OW 67
// tmp := FilterAllUnits ( [ f_class , class_tiger ] ) ;
3761: LD_ADDR_VAR 0 4
3765: PUSH
3766: LD_INT 25
3768: PUSH
3769: LD_INT 14
3771: PUSH
3772: EMPTY
3773: LIST
3774: LIST
3775: PPUSH
3776: CALL_OW 69
3780: ST_TO_ADDR
// if not tmp then
3781: LD_VAR 0 4
3785: NOT
3786: IFFALSE 3790
// exit ;
3788: GO 3805
// ComMoveXY ( tmp , 75 , 75 ) ;
3790: LD_VAR 0 4
3794: PPUSH
3795: LD_INT 75
3797: PPUSH
3798: LD_INT 75
3800: PPUSH
3801: CALL_OW 111
// end ;
3805: PPOPN 5
3807: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , b_siberite_mine ] ] ) do var tmp ;
3808: LD_INT 22
3810: PUSH
3811: LD_INT 1
3813: PUSH
3814: EMPTY
3815: LIST
3816: LIST
3817: PUSH
3818: LD_INT 30
3820: PUSH
3821: LD_INT 30
3823: PUSH
3824: EMPTY
3825: LIST
3826: LIST
3827: PUSH
3828: EMPTY
3829: LIST
3830: LIST
3831: PPUSH
3832: CALL_OW 69
3836: IFFALSE 3878
3838: GO 3840
3840: DISABLE
3841: LD_INT 0
3843: PPUSH
// begin tmp := [ M2easy , M2 , M2hard ] ;
3844: LD_ADDR_VAR 0 1
3848: PUSH
3849: LD_STRING M2easy
3851: PUSH
3852: LD_STRING M2
3854: PUSH
3855: LD_STRING M2hard
3857: PUSH
3858: EMPTY
3859: LIST
3860: LIST
3861: LIST
3862: ST_TO_ADDR
// ChangeMissionObjectives ( tmp [ Difficulty ] ) ;
3863: LD_VAR 0 1
3867: PUSH
3868: LD_OWVAR 67
3872: ARRAY
3873: PPUSH
3874: CALL_OW 337
// end ;
3878: PPOPN 1
3880: END
// every 3 3$00 do
3881: GO 3883
3883: DISABLE
// begin DialogueOn ;
3884: CALL_OW 6
// SayRadio ( Powell , D3-Pow-1 ) ;
3888: LD_EXP 24
3892: PPUSH
3893: LD_STRING D3-Pow-1
3895: PPUSH
3896: CALL_OW 94
// if jmm_in_ovsyenko then
3900: LD_EXP 4
3904: IFFALSE 3932
// begin Say ( JMM , D3-JMM-1 ) ;
3906: LD_EXP 17
3910: PPUSH
3911: LD_STRING D3-JMM-1
3913: PPUSH
3914: CALL_OW 88
// Say ( JMM , D3-JMM-1b ) ;
3918: LD_EXP 17
3922: PPUSH
3923: LD_STRING D3-JMM-1b
3925: PPUSH
3926: CALL_OW 88
// end else
3930: GO 3944
// Say ( JMM , D3-JMM-1a ) ;
3932: LD_EXP 17
3936: PPUSH
3937: LD_STRING D3-JMM-1a
3939: PPUSH
3940: CALL_OW 88
// SayRadio ( Powell , D3-Pow-2 ) ;
3944: LD_EXP 24
3948: PPUSH
3949: LD_STRING D3-Pow-2
3951: PPUSH
3952: CALL_OW 94
// DialogueOff ;
3956: CALL_OW 7
// ChangeMissionObjectives ( M3 ) ;
3960: LD_STRING M3
3962: PPUSH
3963: CALL_OW 337
// powell_want_sib := true ;
3967: LD_ADDR_EXP 5
3971: PUSH
3972: LD_INT 1
3974: ST_TO_ADDR
// end ;
3975: END
// every 0 0$1 trigger powell_want_sib_counter = 0 0$00 do var x , y , i , un , powell_happy , take_cargo ;
3976: LD_EXP 6
3980: PUSH
3981: LD_INT 0
3983: EQUAL
3984: IFFALSE 5168
3986: GO 3988
3988: DISABLE
3989: LD_INT 0
3991: PPUSH
3992: PPUSH
3993: PPUSH
3994: PPUSH
3995: PPUSH
3996: PPUSH
// begin ChangeSideFog ( 4 , 1 ) ;
3997: LD_INT 4
3999: PPUSH
4000: LD_INT 1
4002: PPUSH
4003: CALL_OW 343
// PowellTransport ;
4007: CALL 2391 0 0
// x := 43 ;
4011: LD_ADDR_VAR 0 1
4015: PUSH
4016: LD_INT 43
4018: ST_TO_ADDR
// y := 3 ;
4019: LD_ADDR_VAR 0 2
4023: PUSH
4024: LD_INT 3
4026: ST_TO_ADDR
// for i = 3 to 4 do
4027: LD_ADDR_VAR 0 3
4031: PUSH
4032: DOUBLE
4033: LD_INT 3
4035: DEC
4036: ST_TO_ADDR
4037: LD_INT 4
4039: PUSH
4040: FOR_TO
4041: IFFALSE 4251
// begin SetDir ( powell_trans [ i ] , 4 ) ;
4043: LD_EXP 23
4047: PUSH
4048: LD_VAR 0 3
4052: ARRAY
4053: PPUSH
4054: LD_INT 4
4056: PPUSH
4057: CALL_OW 233
// PlaceUnitXY ( powell_trans [ i ] , x , y , false ) ;
4061: LD_EXP 23
4065: PUSH
4066: LD_VAR 0 3
4070: ARRAY
4071: PPUSH
4072: LD_VAR 0 1
4076: PPUSH
4077: LD_VAR 0 2
4081: PPUSH
4082: LD_INT 0
4084: PPUSH
4085: CALL_OW 48
// PlaceHumanInUnit ( powell_trans [ i - 2 ] , powell_trans [ i ] ) ;
4089: LD_EXP 23
4093: PUSH
4094: LD_VAR 0 3
4098: PUSH
4099: LD_INT 2
4101: MINUS
4102: ARRAY
4103: PPUSH
4104: LD_EXP 23
4108: PUSH
4109: LD_VAR 0 3
4113: ARRAY
4114: PPUSH
4115: CALL_OW 52
// SetCargo ( powell_trans [ i ] , mat_cans , 100 ) ;
4119: LD_EXP 23
4123: PUSH
4124: LD_VAR 0 3
4128: ARRAY
4129: PPUSH
4130: LD_INT 1
4132: PPUSH
4133: LD_INT 100
4135: PPUSH
4136: CALL_OW 290
// ComMoveXY ( powell_trans [ i - 2 ] , 54 , 42 ) ;
4140: LD_EXP 23
4144: PUSH
4145: LD_VAR 0 3
4149: PUSH
4150: LD_INT 2
4152: MINUS
4153: ARRAY
4154: PPUSH
4155: LD_INT 54
4157: PPUSH
4158: LD_INT 42
4160: PPUSH
4161: CALL_OW 111
// AddComUnload ( powell_trans [ i - 2 ] ) ;
4165: LD_EXP 23
4169: PUSH
4170: LD_VAR 0 3
4174: PUSH
4175: LD_INT 2
4177: MINUS
4178: ARRAY
4179: PPUSH
4180: CALL_OW 219
// AddComMoveXY ( powell_trans [ i - 2 ] , GetX ( terminal ) , GetY ( terminal ) ) ;
4184: LD_EXP 23
4188: PUSH
4189: LD_VAR 0 3
4193: PUSH
4194: LD_INT 2
4196: MINUS
4197: ARRAY
4198: PPUSH
4199: LD_EXP 3
4203: PPUSH
4204: CALL_OW 250
4208: PPUSH
4209: LD_EXP 3
4213: PPUSH
4214: CALL_OW 251
4218: PPUSH
4219: CALL_OW 171
// AddComHold ( powell_trans [ i - 2 ] ) ;
4223: LD_EXP 23
4227: PUSH
4228: LD_VAR 0 3
4232: PUSH
4233: LD_INT 2
4235: MINUS
4236: ARRAY
4237: PPUSH
4238: CALL_OW 200
// Wait ( 0 0$02 ) ;
4242: LD_INT 70
4244: PPUSH
4245: CALL_OW 67
// end ;
4249: GO 4040
4251: POP
4252: POP
// repeat wait ( 0 0$01 ) ;
4253: LD_INT 35
4255: PPUSH
4256: CALL_OW 67
// for i = 3 to 4 do
4260: LD_ADDR_VAR 0 3
4264: PUSH
4265: DOUBLE
4266: LD_INT 3
4268: DEC
4269: ST_TO_ADDR
4270: LD_INT 4
4272: PUSH
4273: FOR_TO
4274: IFFALSE 4424
// if GetCargo ( powell_trans [ i ] , mat_cans ) > 0 and not HasTask ( powell_trans [ i ] ) then
4276: LD_EXP 23
4280: PUSH
4281: LD_VAR 0 3
4285: ARRAY
4286: PPUSH
4287: LD_INT 1
4289: PPUSH
4290: CALL_OW 289
4294: PUSH
4295: LD_INT 0
4297: GREATER
4298: PUSH
4299: LD_EXP 23
4303: PUSH
4304: LD_VAR 0 3
4308: ARRAY
4309: PPUSH
4310: CALL_OW 314
4314: NOT
4315: AND
4316: IFFALSE 4422
// begin ComUnload ( powell_trans [ i ] ) ;
4318: LD_EXP 23
4322: PUSH
4323: LD_VAR 0 3
4327: ARRAY
4328: PPUSH
4329: CALL_OW 159
// x := rand ( 0 , 5 ) ;
4333: LD_ADDR_VAR 0 1
4337: PUSH
4338: LD_INT 0
4340: PPUSH
4341: LD_INT 5
4343: PPUSH
4344: CALL_OW 12
4348: ST_TO_ADDR
// AddComMoveXY ( powell_trans [ i ] , ShiftX ( GetX ( powell_trans [ i ] ) , x , 3 ) , ShiftY ( GetY ( powell_trans [ i ] ) , x , 3 ) ) ;
4349: LD_EXP 23
4353: PUSH
4354: LD_VAR 0 3
4358: ARRAY
4359: PPUSH
4360: LD_EXP 23
4364: PUSH
4365: LD_VAR 0 3
4369: ARRAY
4370: PPUSH
4371: CALL_OW 250
4375: PPUSH
4376: LD_VAR 0 1
4380: PPUSH
4381: LD_INT 3
4383: PPUSH
4384: CALL_OW 272
4388: PPUSH
4389: LD_EXP 23
4393: PUSH
4394: LD_VAR 0 3
4398: ARRAY
4399: PPUSH
4400: CALL_OW 251
4404: PPUSH
4405: LD_VAR 0 1
4409: PPUSH
4410: LD_INT 3
4412: PPUSH
4413: CALL_OW 273
4417: PPUSH
4418: CALL_OW 171
// end ;
4422: GO 4273
4424: POP
4425: POP
// until GetDistUnitXY ( powell_trans [ 1 ] , 54 , 42 ) < 4 and ( GetCargo ( powell_trans [ 3 ] , mat_cans ) = 0 ) and ( GetCargo ( powell_trans [ 4 ] , mat_cans ) = 0 ) ;
4426: LD_EXP 23
4430: PUSH
4431: LD_INT 1
4433: ARRAY
4434: PPUSH
4435: LD_INT 54
4437: PPUSH
4438: LD_INT 42
4440: PPUSH
4441: CALL_OW 297
4445: PUSH
4446: LD_INT 4
4448: LESS
4449: PUSH
4450: LD_EXP 23
4454: PUSH
4455: LD_INT 3
4457: ARRAY
4458: PPUSH
4459: LD_INT 1
4461: PPUSH
4462: CALL_OW 289
4466: PUSH
4467: LD_INT 0
4469: EQUAL
4470: AND
4471: PUSH
4472: LD_EXP 23
4476: PUSH
4477: LD_INT 4
4479: ARRAY
4480: PPUSH
4481: LD_INT 1
4483: PPUSH
4484: CALL_OW 289
4488: PUSH
4489: LD_INT 0
4491: EQUAL
4492: AND
4493: IFFALSE 4253
// DialogueOn ;
4495: CALL_OW 6
// CenterNowOnXY ( 53 , 35 ) ;
4499: LD_INT 53
4501: PPUSH
4502: LD_INT 35
4504: PPUSH
4505: CALL_OW 86
// un := powell_trans [ 1 ] ;
4509: LD_ADDR_VAR 0 4
4513: PUSH
4514: LD_EXP 23
4518: PUSH
4519: LD_INT 1
4521: ARRAY
4522: ST_TO_ADDR
// Say ( un , D4-Mech1-1 ) ;
4523: LD_VAR 0 4
4527: PPUSH
4528: LD_STRING D4-Mech1-1
4530: PPUSH
4531: CALL_OW 88
// Say ( JMM , D4-JMM-1 ) ;
4535: LD_EXP 17
4539: PPUSH
4540: LD_STRING D4-JMM-1
4542: PPUSH
4543: CALL_OW 88
// Say ( un , D4-Mech1-2 ) ;
4547: LD_VAR 0 4
4551: PPUSH
4552: LD_STRING D4-Mech1-2
4554: PPUSH
4555: CALL_OW 88
// powell_happy := false ;
4559: LD_ADDR_VAR 0 5
4563: PUSH
4564: LD_INT 0
4566: ST_TO_ADDR
// take_cargo := false ;
4567: LD_ADDR_VAR 0 6
4571: PUSH
4572: LD_INT 0
4574: ST_TO_ADDR
// if GetTerminalCargo >= 60 then
4575: CALL 752 0 0
4579: PUSH
4580: LD_INT 60
4582: GREATEREQUAL
4583: IFFALSE 4631
// begin Say ( JMM , D5-JMM-1 ) ;
4585: LD_EXP 17
4589: PPUSH
4590: LD_STRING D5-JMM-1
4592: PPUSH
4593: CALL_OW 88
// Say ( un , D6-Mech1-1 ) ;
4597: LD_VAR 0 4
4601: PPUSH
4602: LD_STRING D6-Mech1-1
4604: PPUSH
4605: CALL_OW 88
// powell_happy := true ;
4609: LD_ADDR_VAR 0 5
4613: PUSH
4614: LD_INT 1
4616: ST_TO_ADDR
// take_cargo := true ;
4617: LD_ADDR_VAR 0 6
4621: PUSH
4622: LD_INT 1
4624: ST_TO_ADDR
// DialogueOff ;
4625: CALL_OW 7
// end else
4629: GO 4865
// if GetTerminalCargo > 0 then
4631: CALL 752 0 0
4635: PUSH
4636: LD_INT 0
4638: GREATER
4639: IFFALSE 4837
// begin case Query ( QWait ) of 1 :
4641: LD_STRING QWait
4643: PPUSH
4644: CALL_OW 97
4648: PUSH
4649: LD_INT 1
4651: DOUBLE
4652: EQUAL
4653: IFTRUE 4657
4655: GO 4748
4657: POP
// begin Say ( JMM , D5b-JMM-1 ) ;
4658: LD_EXP 17
4662: PPUSH
4663: LD_STRING D5b-JMM-1
4665: PPUSH
4666: CALL_OW 88
// DialogueOff ;
4670: CALL_OW 7
// wait ( 5 5$00 ) ;
4674: LD_INT 10500
4676: PPUSH
4677: CALL_OW 67
// if GetTerminalCargo < 60 then
4681: CALL 752 0 0
4685: PUSH
4686: LD_INT 60
4688: LESS
4689: IFFALSE 4730
// begin DialogueOn ;
4691: CALL_OW 6
// CenterNowOnUnits ( terminal ) ;
4695: LD_EXP 3
4699: PPUSH
4700: CALL_OW 87
// Say ( un , D6-Mech1-1a ) ;
4704: LD_VAR 0 4
4708: PPUSH
4709: LD_STRING D6-Mech1-1a
4711: PPUSH
4712: CALL_OW 88
// DialogueOff ;
4716: CALL_OW 7
// powell_happy := false ;
4720: LD_ADDR_VAR 0 5
4724: PUSH
4725: LD_INT 0
4727: ST_TO_ADDR
// end else
4728: GO 4746
// begin powell_happy := true ;
4730: LD_ADDR_VAR 0 5
4734: PUSH
4735: LD_INT 1
4737: ST_TO_ADDR
// take_cargo := true ;
4738: LD_ADDR_VAR 0 6
4742: PUSH
4743: LD_INT 1
4745: ST_TO_ADDR
// end ; end ; 2 :
4746: GO 4835
4748: LD_INT 2
4750: DOUBLE
4751: EQUAL
4752: IFTRUE 4756
4754: GO 4795
4756: POP
// begin Say ( JMM , D5b-JMM-1 ) ;
4757: LD_EXP 17
4761: PPUSH
4762: LD_STRING D5b-JMM-1
4764: PPUSH
4765: CALL_OW 88
// Say ( un , D6-Mech1-1a ) ;
4769: LD_VAR 0 4
4773: PPUSH
4774: LD_STRING D6-Mech1-1a
4776: PPUSH
4777: CALL_OW 88
// DialogueOff ;
4781: CALL_OW 7
// take_cargo := true ;
4785: LD_ADDR_VAR 0 6
4789: PUSH
4790: LD_INT 1
4792: ST_TO_ADDR
// end ; 3 :
4793: GO 4835
4795: LD_INT 3
4797: DOUBLE
4798: EQUAL
4799: IFTRUE 4803
4801: GO 4834
4803: POP
// begin Say ( JMM , D5c-JMM-1 ) ;
4804: LD_EXP 17
4808: PPUSH
4809: LD_STRING D5c-JMM-1
4811: PPUSH
4812: CALL_OW 88
// Say ( un , D6-Mech1-1b ) ;
4816: LD_VAR 0 4
4820: PPUSH
4821: LD_STRING D6-Mech1-1b
4823: PPUSH
4824: CALL_OW 88
// DialogueOff ;
4828: CALL_OW 7
// end ; end ;
4832: GO 4835
4834: POP
// end else
4835: GO 4865
// begin Say ( JMM , D5c-JMM-1 ) ;
4837: LD_EXP 17
4841: PPUSH
4842: LD_STRING D5c-JMM-1
4844: PPUSH
4845: CALL_OW 88
// Say ( un , D6-Mech1-1b ) ;
4849: LD_VAR 0 4
4853: PPUSH
4854: LD_STRING D6-Mech1-1b
4856: PPUSH
4857: CALL_OW 88
// DialogueOff ;
4861: CALL_OW 7
// end ; if take_cargo then
4865: LD_VAR 0 6
4869: IFFALSE 4948
// begin x := GetTerminalCargo ;
4871: LD_ADDR_VAR 0 1
4875: PUSH
4876: CALL 752 0 0
4880: ST_TO_ADDR
// if x > 60 then
4881: LD_VAR 0 1
4885: PUSH
4886: LD_INT 60
4888: GREATER
4889: IFFALSE 4899
// x := 60 ;
4891: LD_ADDR_VAR 0 1
4895: PUSH
4896: LD_INT 60
4898: ST_TO_ADDR
// SetResourceType ( GetBase ( terminal ) , mat_siberit , GetTerminalCargo ( ) - x ) ;
4899: LD_EXP 3
4903: PPUSH
4904: CALL_OW 274
4908: PPUSH
4909: LD_INT 3
4911: PPUSH
4912: CALL 752 0 0
4916: PUSH
4917: LD_VAR 0 1
4921: MINUS
4922: PPUSH
4923: CALL_OW 277
// AddCargo ( powell_trans [ 3 ] , mat_siberit , x ) ;
4927: LD_EXP 23
4931: PUSH
4932: LD_INT 3
4934: ARRAY
4935: PPUSH
4936: LD_INT 3
4938: PPUSH
4939: LD_VAR 0 1
4943: PPUSH
4944: CALL_OW 291
// end ; AddComMoveXY ( powell_trans , 43 , 3 ) ;
4948: LD_EXP 23
4952: PPUSH
4953: LD_INT 43
4955: PPUSH
4956: LD_INT 3
4958: PPUSH
4959: CALL_OW 171
// x := 0 0$20 ;
4963: LD_ADDR_VAR 0 1
4967: PUSH
4968: LD_INT 700
4970: ST_TO_ADDR
// repeat wait ( 0 0$01 ) ;
4971: LD_INT 35
4973: PPUSH
4974: CALL_OW 67
// x := x - 0 0$01 ;
4978: LD_ADDR_VAR 0 1
4982: PUSH
4983: LD_VAR 0 1
4987: PUSH
4988: LD_INT 35
4990: MINUS
4991: ST_TO_ADDR
// until x = 0 0$00 or ( GetDistUnitXY ( powell_trans [ 3 ] , 43 , 3 ) < 4 and GetDistUnitXY ( powell_trans [ 3 ] , 43 , 3 ) < 4 ) ;
4992: LD_VAR 0 1
4996: PUSH
4997: LD_INT 0
4999: EQUAL
5000: PUSH
5001: LD_EXP 23
5005: PUSH
5006: LD_INT 3
5008: ARRAY
5009: PPUSH
5010: LD_INT 43
5012: PPUSH
5013: LD_INT 3
5015: PPUSH
5016: CALL_OW 297
5020: PUSH
5021: LD_INT 4
5023: LESS
5024: PUSH
5025: LD_EXP 23
5029: PUSH
5030: LD_INT 3
5032: ARRAY
5033: PPUSH
5034: LD_INT 43
5036: PPUSH
5037: LD_INT 3
5039: PPUSH
5040: CALL_OW 297
5044: PUSH
5045: LD_INT 4
5047: LESS
5048: AND
5049: OR
5050: IFFALSE 4971
// for i in powell_trans do
5052: LD_ADDR_VAR 0 3
5056: PUSH
5057: LD_EXP 23
5061: PUSH
5062: FOR_IN
5063: IFFALSE 5076
// RemoveUnit ( i ) ;
5065: LD_VAR 0 3
5069: PPUSH
5070: CALL_OW 64
5074: GO 5062
5076: POP
5077: POP
// if not powell_happy then
5078: LD_VAR 0 5
5082: NOT
5083: IFFALSE 5094
// powell_happy := - 1 ;
5085: LD_ADDR_VAR 0 5
5089: PUSH
5090: LD_INT 1
5092: NEG
5093: ST_TO_ADDR
// AddMedal ( powell_happy , EarlySiberite ) ;
5094: LD_VAR 0 5
5098: PPUSH
5099: LD_STRING EarlySiberite
5101: PPUSH
5102: CALL_OW 101
// if powell_happy then
5106: LD_VAR 0 5
5110: IFFALSE 5121
// ChangeMissionObjectives ( M3a ) else
5112: LD_STRING M3a
5114: PPUSH
5115: CALL_OW 337
5119: GO 5128
// ChangeMissionObjectives ( M3b ) ;
5121: LD_STRING M3b
5123: PPUSH
5124: CALL_OW 337
// ru_can_attack_terminal := true ;
5128: LD_ADDR_EXP 9
5132: PUSH
5133: LD_INT 1
5135: ST_TO_ADDR
// Wait ( 9 9$00 ) ;
5136: LD_INT 18900
5138: PPUSH
5139: CALL_OW 67
// repeat wait ( 0 0$03 ) ;
5143: LD_INT 105
5145: PPUSH
5146: CALL_OW 67
// until ru_can_attack = false ;
5150: LD_EXP 8
5154: PUSH
5155: LD_INT 0
5157: EQUAL
5158: IFFALSE 5143
// ar_can_arrive := true ;
5160: LD_ADDR_EXP 10
5164: PUSH
5165: LD_INT 1
5167: ST_TO_ADDR
// end ;
5168: PPOPN 6
5170: END
// every 0 0$1 trigger Researched ( 1 , 20 ) do var un ;
5171: LD_INT 1
5173: PPUSH
5174: LD_INT 20
5176: PPUSH
5177: CALL_OW 325
5181: IFFALSE 5322
5183: GO 5185
5185: DISABLE
5186: LD_INT 0
5188: PPUSH
// begin un := FilterAllUnits ( [ [ f_side , 1 ] , [ f_sex , sex_male ] , [ f_class , 4 ] ] ) diff [ JMM , Cyrus , Bobby , Houten ] ;
5189: LD_ADDR_VAR 0 1
5193: PUSH
5194: LD_INT 22
5196: PUSH
5197: LD_INT 1
5199: PUSH
5200: EMPTY
5201: LIST
5202: LIST
5203: PUSH
5204: LD_INT 26
5206: PUSH
5207: LD_INT 1
5209: PUSH
5210: EMPTY
5211: LIST
5212: LIST
5213: PUSH
5214: LD_INT 25
5216: PUSH
5217: LD_INT 4
5219: PUSH
5220: EMPTY
5221: LIST
5222: LIST
5223: PUSH
5224: EMPTY
5225: LIST
5226: LIST
5227: LIST
5228: PPUSH
5229: CALL_OW 69
5233: PUSH
5234: LD_EXP 17
5238: PUSH
5239: LD_EXP 20
5243: PUSH
5244: LD_EXP 19
5248: PUSH
5249: LD_EXP 21
5253: PUSH
5254: EMPTY
5255: LIST
5256: LIST
5257: LIST
5258: LIST
5259: DIFF
5260: ST_TO_ADDR
// if not un then
5261: LD_VAR 0 1
5265: NOT
5266: IFFALSE 5270
// exit ;
5268: GO 5322
// DialogueOn ;
5270: CALL_OW 6
// Say ( un [ 1 ] , D13-Sci1-1 ) ;
5274: LD_VAR 0 1
5278: PUSH
5279: LD_INT 1
5281: ARRAY
5282: PPUSH
5283: LD_STRING D13-Sci1-1
5285: PPUSH
5286: CALL_OW 88
// Say ( JMM , D13-JMM-1 ) ;
5290: LD_EXP 17
5294: PPUSH
5295: LD_STRING D13-JMM-1
5297: PPUSH
5298: CALL_OW 88
// Say ( un [ 1 ] , D13-Sci1-2 ) ;
5302: LD_VAR 0 1
5306: PUSH
5307: LD_INT 1
5309: ARRAY
5310: PPUSH
5311: LD_STRING D13-Sci1-2
5313: PPUSH
5314: CALL_OW 88
// DialogueOff ;
5318: CALL_OW 7
// end ;
5322: PPOPN 1
5324: END
// every 0 0$1 trigger GetPlayerSib ( 1 ) > 77 and ( not ru_can_attack ) and FilterAllUnits ( [ [ f_side , 1 ] , [ f_class , 4 ] , [ f_sex , sex_male ] ] ) diff [ JMM , Bobby , Cyrus , Gary , Houten ] do var sci ;
5325: LD_INT 1
5327: PPUSH
5328: CALL 783 0 1
5332: PUSH
5333: LD_INT 77
5335: GREATER
5336: PUSH
5337: LD_EXP 8
5341: NOT
5342: AND
5343: PUSH
5344: LD_INT 22
5346: PUSH
5347: LD_INT 1
5349: PUSH
5350: EMPTY
5351: LIST
5352: LIST
5353: PUSH
5354: LD_INT 25
5356: PUSH
5357: LD_INT 4
5359: PUSH
5360: EMPTY
5361: LIST
5362: LIST
5363: PUSH
5364: LD_INT 26
5366: PUSH
5367: LD_INT 1
5369: PUSH
5370: EMPTY
5371: LIST
5372: LIST
5373: PUSH
5374: EMPTY
5375: LIST
5376: LIST
5377: LIST
5378: PPUSH
5379: CALL_OW 69
5383: PUSH
5384: LD_EXP 17
5388: PUSH
5389: LD_EXP 19
5393: PUSH
5394: LD_EXP 20
5398: PUSH
5399: LD_EXP 18
5403: PUSH
5404: LD_EXP 21
5408: PUSH
5409: EMPTY
5410: LIST
5411: LIST
5412: LIST
5413: LIST
5414: LIST
5415: DIFF
5416: AND
5417: IFFALSE 5595
5419: GO 5421
5421: DISABLE
5422: LD_INT 0
5424: PPUSH
// begin sci := FilterAllUnits ( [ [ f_side , 1 ] , [ f_class , 4 ] , [ f_sex , sex_male ] ] ) diff [ JMM , Bobby , Cyrus , Gary , Houten ] ;
5425: LD_ADDR_VAR 0 1
5429: PUSH
5430: LD_INT 22
5432: PUSH
5433: LD_INT 1
5435: PUSH
5436: EMPTY
5437: LIST
5438: LIST
5439: PUSH
5440: LD_INT 25
5442: PUSH
5443: LD_INT 4
5445: PUSH
5446: EMPTY
5447: LIST
5448: LIST
5449: PUSH
5450: LD_INT 26
5452: PUSH
5453: LD_INT 1
5455: PUSH
5456: EMPTY
5457: LIST
5458: LIST
5459: PUSH
5460: EMPTY
5461: LIST
5462: LIST
5463: LIST
5464: PPUSH
5465: CALL_OW 69
5469: PUSH
5470: LD_EXP 17
5474: PUSH
5475: LD_EXP 19
5479: PUSH
5480: LD_EXP 20
5484: PUSH
5485: LD_EXP 18
5489: PUSH
5490: LD_EXP 21
5494: PUSH
5495: EMPTY
5496: LIST
5497: LIST
5498: LIST
5499: LIST
5500: LIST
5501: DIFF
5502: ST_TO_ADDR
// DialogueOn ;
5503: CALL_OW 6
// Say ( sci [ 1 ] , D7-Sci1-1 ) ;
5507: LD_VAR 0 1
5511: PUSH
5512: LD_INT 1
5514: ARRAY
5515: PPUSH
5516: LD_STRING D7-Sci1-1
5518: PPUSH
5519: CALL_OW 88
// Say ( JMM , D7-JMM-1 ) ;
5523: LD_EXP 17
5527: PPUSH
5528: LD_STRING D7-JMM-1
5530: PPUSH
5531: CALL_OW 88
// Say ( sci [ 1 ] , D7-Sci1-2 ) ;
5535: LD_VAR 0 1
5539: PUSH
5540: LD_INT 1
5542: ARRAY
5543: PPUSH
5544: LD_STRING D7-Sci1-2
5546: PPUSH
5547: CALL_OW 88
// Say ( JMM , D7-JMM-2 ) ;
5551: LD_EXP 17
5555: PPUSH
5556: LD_STRING D7-JMM-2
5558: PPUSH
5559: CALL_OW 88
// Say ( sci [ 1 ] , D7-Sci1-3 ) ;
5563: LD_VAR 0 1
5567: PUSH
5568: LD_INT 1
5570: ARRAY
5571: PPUSH
5572: LD_STRING D7-Sci1-3
5574: PPUSH
5575: CALL_OW 88
// Say ( JMM , D7-JMM-3 ) ;
5579: LD_EXP 17
5583: PPUSH
5584: LD_STRING D7-JMM-3
5586: PPUSH
5587: CALL_OW 88
// DialogueOff ;
5591: CALL_OW 7
// end ;
5595: PPOPN 1
5597: END
// every 0 0$1 trigger ar_can_arrive do var i , x , tmp , dep , time , no_oil_gain , first_warn , b ;
5598: LD_EXP 10
5602: IFFALSE 8828
5604: GO 5606
5606: DISABLE
5607: LD_INT 0
5609: PPUSH
5610: PPUSH
5611: PPUSH
5612: PPUSH
5613: PPUSH
5614: PPUSH
5615: PPUSH
5616: PPUSH
// begin PrepareArabian ;
5617: CALL 10876 0 0
// repeat wait ( 0 0$01 ) ;
5621: LD_INT 35
5623: PPUSH
5624: CALL_OW 67
// until ar_spawned ;
5628: LD_EXP 11
5632: IFFALSE 5621
// DialogueOn ;
5634: CALL_OW 6
// SayRadio ( Vervecken , D8-Ar1-1 ) ;
5638: LD_EXP 25
5642: PPUSH
5643: LD_STRING D8-Ar1-1
5645: PPUSH
5646: CALL_OW 94
// Say ( JMM , D8-JMM-1 ) ;
5650: LD_EXP 17
5654: PPUSH
5655: LD_STRING D8-JMM-1
5657: PPUSH
5658: CALL_OW 88
// SayRadio ( Vervecken , D8-Ar1-2 ) ;
5662: LD_EXP 25
5666: PPUSH
5667: LD_STRING D8-Ar1-2
5669: PPUSH
5670: CALL_OW 94
// Say ( JMM , D8-JMM-2 ) ;
5674: LD_EXP 17
5678: PPUSH
5679: LD_STRING D8-JMM-2
5681: PPUSH
5682: CALL_OW 88
// SayRadio ( Vervecken , D8-Ar1-3 ) ;
5686: LD_EXP 25
5690: PPUSH
5691: LD_STRING D8-Ar1-3
5693: PPUSH
5694: CALL_OW 94
// Say ( JMM , D8-JMM-3 ) ;
5698: LD_EXP 17
5702: PPUSH
5703: LD_STRING D8-JMM-3
5705: PPUSH
5706: CALL_OW 88
// SayRadio ( Vervecken , D8-Ar1-4 ) ;
5710: LD_EXP 25
5714: PPUSH
5715: LD_STRING D8-Ar1-4
5717: PPUSH
5718: CALL_OW 94
// Say ( JMM , D8-JMM-4 ) ;
5722: LD_EXP 17
5726: PPUSH
5727: LD_STRING D8-JMM-4
5729: PPUSH
5730: CALL_OW 88
// SayRadio ( Vervecken , D8-Ar1-5 ) ;
5734: LD_EXP 25
5738: PPUSH
5739: LD_STRING D8-Ar1-5
5741: PPUSH
5742: CALL_OW 94
// Say ( JMM , D8-JMM-5 ) ;
5746: LD_EXP 17
5750: PPUSH
5751: LD_STRING D8-JMM-5
5753: PPUSH
5754: CALL_OW 88
// SayRadio ( Vervecken , D8-Ar1-6 ) ;
5758: LD_EXP 25
5762: PPUSH
5763: LD_STRING D8-Ar1-6
5765: PPUSH
5766: CALL_OW 94
// SayRadio ( Gali , D8-Ar2-6 ) ;
5770: LD_EXP 26
5774: PPUSH
5775: LD_STRING D8-Ar2-6
5777: PPUSH
5778: CALL_OW 94
// Say ( JMM , D8-JMM-6 ) ;
5782: LD_EXP 17
5786: PPUSH
5787: LD_STRING D8-JMM-6
5789: PPUSH
5790: CALL_OW 88
// SayRadio ( Gali , D8-Ar2-7 ) ;
5794: LD_EXP 26
5798: PPUSH
5799: LD_STRING D8-Ar2-7
5801: PPUSH
5802: CALL_OW 94
// case Query ( QBarracks ) of 1 :
5806: LD_STRING QBarracks
5808: PPUSH
5809: CALL_OW 97
5813: PUSH
5814: LD_INT 1
5816: DOUBLE
5817: EQUAL
5818: IFTRUE 5822
5820: GO 5857
5822: POP
// begin Say ( JMM , D8a-JMM-1 ) ;
5823: LD_EXP 17
5827: PPUSH
5828: LD_STRING D8a-JMM-1
5830: PPUSH
5831: CALL_OW 88
// SayRadio ( Vervecken , D8a-Ar1-1 ) ;
5835: LD_EXP 25
5839: PPUSH
5840: LD_STRING D8a-Ar1-1
5842: PPUSH
5843: CALL_OW 94
// player_want_mortar := true ;
5847: LD_ADDR_EXP 12
5851: PUSH
5852: LD_INT 1
5854: ST_TO_ADDR
// end ; 2 :
5855: GO 6015
5857: LD_INT 2
5859: DOUBLE
5860: EQUAL
5861: IFTRUE 5865
5863: GO 5979
5865: POP
// begin Say ( JMM , D8b-JMM-1 ) ;
5866: LD_EXP 17
5870: PPUSH
5871: LD_STRING D8b-JMM-1
5873: PPUSH
5874: CALL_OW 88
// SayRadio ( Vervecken , D8b-Ar1-1 ) ;
5878: LD_EXP 25
5882: PPUSH
5883: LD_STRING D8b-Ar1-1
5885: PPUSH
5886: CALL_OW 94
// case Query ( QInfo ) of 1 :
5890: LD_STRING QInfo
5892: PPUSH
5893: CALL_OW 97
5897: PUSH
5898: LD_INT 1
5900: DOUBLE
5901: EQUAL
5902: IFTRUE 5906
5904: GO 5941
5906: POP
// begin Say ( JMM , D8b1-JMM-1 ) ;
5907: LD_EXP 17
5911: PPUSH
5912: LD_STRING D8b1-JMM-1
5914: PPUSH
5915: CALL_OW 88
// SayRadio ( Vervecken , D8b1-Ar1-1 ) ;
5919: LD_EXP 25
5923: PPUSH
5924: LD_STRING D8b1-Ar1-1
5926: PPUSH
5927: CALL_OW 94
// player_want_info := 2 ;
5931: LD_ADDR_EXP 13
5935: PUSH
5936: LD_INT 2
5938: ST_TO_ADDR
// end ; 2 :
5939: GO 5977
5941: LD_INT 2
5943: DOUBLE
5944: EQUAL
5945: IFTRUE 5949
5947: GO 5976
5949: POP
// begin Say ( JMM , D8b2-JMM-1 ) ;
5950: LD_EXP 17
5954: PPUSH
5955: LD_STRING D8b2-JMM-1
5957: PPUSH
5958: CALL_OW 88
// SayRadio ( Vervecken , D8b2-Ar1-1 ) ;
5962: LD_EXP 25
5966: PPUSH
5967: LD_STRING D8b2-Ar1-1
5969: PPUSH
5970: CALL_OW 94
// end ; end ;
5974: GO 5977
5976: POP
// end ; 3 :
5977: GO 6015
5979: LD_INT 3
5981: DOUBLE
5982: EQUAL
5983: IFTRUE 5987
5985: GO 6014
5987: POP
// begin Say ( JMM , D8c-JMM-1 ) ;
5988: LD_EXP 17
5992: PPUSH
5993: LD_STRING D8c-JMM-1
5995: PPUSH
5996: CALL_OW 88
// SayRadio ( Vervecken , D8c-Ar1-1 ) ;
6000: LD_EXP 25
6004: PPUSH
6005: LD_STRING D8c-Ar1-1
6007: PPUSH
6008: CALL_OW 94
// end ; end ;
6012: GO 6015
6014: POP
// DialogueOff ;
6015: CALL_OW 7
// dep := NearestUnitToUnit ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) , Gali ) ;
6019: LD_ADDR_VAR 0 4
6023: PUSH
6024: LD_INT 22
6026: PUSH
6027: LD_INT 1
6029: PUSH
6030: EMPTY
6031: LIST
6032: LIST
6033: PUSH
6034: LD_INT 2
6036: PUSH
6037: LD_INT 30
6039: PUSH
6040: LD_INT 0
6042: PUSH
6043: EMPTY
6044: LIST
6045: LIST
6046: PUSH
6047: LD_INT 30
6049: PUSH
6050: LD_INT 1
6052: PUSH
6053: EMPTY
6054: LIST
6055: LIST
6056: PUSH
6057: EMPTY
6058: LIST
6059: LIST
6060: LIST
6061: PUSH
6062: EMPTY
6063: LIST
6064: LIST
6065: PPUSH
6066: CALL_OW 69
6070: PPUSH
6071: LD_EXP 26
6075: PPUSH
6076: CALL_OW 74
6080: ST_TO_ADDR
// tmp := FilterAllUnits ( [ [ f_side , 2 ] , [ f_type , unit_vehicle ] ] ) ;
6081: LD_ADDR_VAR 0 3
6085: PUSH
6086: LD_INT 22
6088: PUSH
6089: LD_INT 2
6091: PUSH
6092: EMPTY
6093: LIST
6094: LIST
6095: PUSH
6096: LD_INT 21
6098: PUSH
6099: LD_INT 2
6101: PUSH
6102: EMPTY
6103: LIST
6104: LIST
6105: PUSH
6106: EMPTY
6107: LIST
6108: LIST
6109: PPUSH
6110: CALL_OW 69
6114: ST_TO_ADDR
// time := 1 1$35 ;
6115: LD_ADDR_VAR 0 5
6119: PUSH
6120: LD_INT 3325
6122: ST_TO_ADDR
// no_oil_gain := false ;
6123: LD_ADDR_VAR 0 6
6127: PUSH
6128: LD_INT 0
6130: ST_TO_ADDR
// first_warn := false ;
6131: LD_ADDR_VAR 0 7
6135: PUSH
6136: LD_INT 0
6138: ST_TO_ADDR
// if player_want_mortar or player_want_info then
6139: LD_EXP 12
6143: PUSH
6144: LD_EXP 13
6148: OR
6149: IFFALSE 6254
// begin ComPlaceRemoteCharge ( UnitFilter ( ar_force , [ f_class , 1 ] ) , GetX ( dep ) , GetY ( dep ) , dep ) ;
6151: LD_EXP 32
6155: PPUSH
6156: LD_INT 25
6158: PUSH
6159: LD_INT 1
6161: PUSH
6162: EMPTY
6163: LIST
6164: LIST
6165: PPUSH
6166: CALL_OW 72
6170: PPUSH
6171: LD_VAR 0 4
6175: PPUSH
6176: CALL_OW 250
6180: PPUSH
6181: LD_VAR 0 4
6185: PPUSH
6186: CALL_OW 251
6190: PPUSH
6191: LD_VAR 0 4
6195: PPUSH
6196: CALL_OW 133
// AddComMoveXY ( UnitFilter ( ar_force , [ f_class , 1 ] ) , 86 , 121 ) ;
6200: LD_EXP 32
6204: PPUSH
6205: LD_INT 25
6207: PUSH
6208: LD_INT 1
6210: PUSH
6211: EMPTY
6212: LIST
6213: LIST
6214: PPUSH
6215: CALL_OW 72
6219: PPUSH
6220: LD_INT 86
6222: PPUSH
6223: LD_INT 121
6225: PPUSH
6226: CALL_OW 171
// AddComHold ( UnitFilter ( ar_force , [ f_class , 1 ] ) ) ;
6230: LD_EXP 32
6234: PPUSH
6235: LD_INT 25
6237: PUSH
6238: LD_INT 1
6240: PUSH
6241: EMPTY
6242: LIST
6243: LIST
6244: PPUSH
6245: CALL_OW 72
6249: PPUSH
6250: CALL_OW 200
// end ; if player_attacked_ar then
6254: LD_EXP 16
6258: IFFALSE 6262
// exit ;
6260: GO 8828
// if player_want_mortar then
6262: LD_EXP 12
6266: IFFALSE 7658
// begin ComMoveXY ( Gali , GetX ( dep ) + 1 , GetY ( dep ) + 1 ) ;
6268: LD_EXP 26
6272: PPUSH
6273: LD_VAR 0 4
6277: PPUSH
6278: CALL_OW 250
6282: PUSH
6283: LD_INT 1
6285: PLUS
6286: PPUSH
6287: LD_VAR 0 4
6291: PPUSH
6292: CALL_OW 251
6296: PUSH
6297: LD_INT 1
6299: PLUS
6300: PPUSH
6301: CALL_OW 111
// repeat wait ( 0 0$1 ) ;
6305: LD_INT 35
6307: PPUSH
6308: CALL_OW 67
// until GetDistUnits ( Gali , dep ) < 4 ;
6312: LD_EXP 26
6316: PPUSH
6317: LD_VAR 0 4
6321: PPUSH
6322: CALL_OW 296
6326: PUSH
6327: LD_INT 4
6329: LESS
6330: IFFALSE 6305
// for i = 1 to 6 do
6332: LD_ADDR_VAR 0 1
6336: PUSH
6337: DOUBLE
6338: LD_INT 1
6340: DEC
6341: ST_TO_ADDR
6342: LD_INT 6
6344: PUSH
6345: FOR_TO
6346: IFFALSE 6543
// begin if player_attacked_ar then
6348: LD_EXP 16
6352: IFFALSE 6358
// exit ;
6354: POP
6355: POP
6356: GO 8828
// if GetResourceType ( GetBase ( dep ) , mat_oil ) < 10 and not first_warn then
6358: LD_VAR 0 4
6362: PPUSH
6363: CALL_OW 274
6367: PPUSH
6368: LD_INT 2
6370: PPUSH
6371: CALL_OW 275
6375: PUSH
6376: LD_INT 10
6378: LESS
6379: PUSH
6380: LD_VAR 0 7
6384: NOT
6385: AND
6386: IFFALSE 6449
// begin first_warn := true ;
6388: LD_ADDR_VAR 0 7
6392: PUSH
6393: LD_INT 1
6395: ST_TO_ADDR
// DialogueOn ;
6396: CALL_OW 6
// Say ( Bogdanovic , D9a-FAr1-1 ) ;
6400: LD_EXP 27
6404: PPUSH
6405: LD_STRING D9a-FAr1-1
6407: PPUSH
6408: CALL_OW 88
// Say ( JMM , D9a-JMM-1 ) ;
6412: LD_EXP 17
6416: PPUSH
6417: LD_STRING D9a-JMM-1
6419: PPUSH
6420: CALL_OW 88
// Say ( Vervecken , D9a2-Ar1-1 ) ;
6424: LD_EXP 25
6428: PPUSH
6429: LD_STRING D9a2-Ar1-1
6431: PPUSH
6432: CALL_OW 88
// DialogueOff ;
6436: CALL_OW 7
// wait ( time ) ;
6440: LD_VAR 0 5
6444: PPUSH
6445: CALL_OW 67
// end ; if GetResourceType ( GetBase ( dep ) , mat_oil ) < 10 then
6449: LD_VAR 0 4
6453: PPUSH
6454: CALL_OW 274
6458: PPUSH
6459: LD_INT 2
6461: PPUSH
6462: CALL_OW 275
6466: PUSH
6467: LD_INT 10
6469: LESS
6470: IFFALSE 6496
// begin Say ( Vervecken , D9a3-Ar1-1 ) ;
6472: LD_EXP 25
6476: PPUSH
6477: LD_STRING D9a3-Ar1-1
6479: PPUSH
6480: CALL_OW 88
// no_oil_gain := true ;
6484: LD_ADDR_VAR 0 6
6488: PUSH
6489: LD_INT 1
6491: ST_TO_ADDR
// break ;
6492: GO 6543
// end else
6494: GO 6541
// begin AddComTransport ( Gali , dep , mat_oil ) ;
6496: LD_EXP 26
6500: PPUSH
6501: LD_VAR 0 4
6505: PPUSH
6506: LD_INT 2
6508: PPUSH
6509: CALL_OW 211
// AddComRefuel ( Gali , tmp [ i mod 3 + 1 ] ) ;
6513: LD_EXP 26
6517: PPUSH
6518: LD_VAR 0 3
6522: PUSH
6523: LD_VAR 0 1
6527: PUSH
6528: LD_INT 3
6530: MOD
6531: PUSH
6532: LD_INT 1
6534: PLUS
6535: ARRAY
6536: PPUSH
6537: CALL_OW 210
// end ; end ;
6541: GO 6345
6543: POP
6544: POP
// if not no_oil_gain then
6545: LD_VAR 0 6
6549: NOT
6550: IFFALSE 7658
// begin repeat wait ( 0 0$01 ) ;
6552: LD_INT 35
6554: PPUSH
6555: CALL_OW 67
// if player_attacked_ar then
6559: LD_EXP 16
6563: IFFALSE 6567
// exit ;
6565: GO 8828
// until ( GetFuel ( tmp [ 1 ] ) > 80 and GetFuel ( tmp [ 2 ] ) > 80 and GetFuel ( tmp [ 3 ] ) > 80 ) ;
6567: LD_VAR 0 3
6571: PUSH
6572: LD_INT 1
6574: ARRAY
6575: PPUSH
6576: CALL_OW 261
6580: PUSH
6581: LD_INT 80
6583: GREATER
6584: PUSH
6585: LD_VAR 0 3
6589: PUSH
6590: LD_INT 2
6592: ARRAY
6593: PPUSH
6594: CALL_OW 261
6598: PUSH
6599: LD_INT 80
6601: GREATER
6602: AND
6603: PUSH
6604: LD_VAR 0 3
6608: PUSH
6609: LD_INT 3
6611: ARRAY
6612: PPUSH
6613: CALL_OW 261
6617: PUSH
6618: LD_INT 80
6620: GREATER
6621: AND
6622: IFFALSE 6552
// ComMoveXY ( Gali , 105 , 127 ) ;
6624: LD_EXP 26
6628: PPUSH
6629: LD_INT 105
6631: PPUSH
6632: LD_INT 127
6634: PPUSH
6635: CALL_OW 111
// AddComMoveToArea ( Gali , mortarArea ) ;
6639: LD_EXP 26
6643: PPUSH
6644: LD_INT 2
6646: PPUSH
6647: CALL_OW 173
// AddComHold ( Gali ) ;
6651: LD_EXP 26
6655: PPUSH
6656: CALL_OW 200
// repeat wait ( 0 0$01 ) ;
6660: LD_INT 35
6662: PPUSH
6663: CALL_OW 67
// if player_attacked_ar then
6667: LD_EXP 16
6671: IFFALSE 6675
// exit ;
6673: GO 8828
// until GetDistUnitXY ( Gali , 105 , 127 ) < 4 ;
6675: LD_EXP 26
6679: PPUSH
6680: LD_INT 105
6682: PPUSH
6683: LD_INT 127
6685: PPUSH
6686: CALL_OW 297
6690: PUSH
6691: LD_INT 4
6693: LESS
6694: IFFALSE 6660
// if GetResourceType ( GetBase ( dep ) , mat_cans ) < 50 then
6696: LD_VAR 0 4
6700: PPUSH
6701: CALL_OW 274
6705: PPUSH
6706: LD_INT 1
6708: PPUSH
6709: CALL_OW 275
6713: PUSH
6714: LD_INT 50
6716: LESS
6717: IFFALSE 7013
// begin case GetResourceType ( GetBase ( dep ) , mat_cans ) of 0 .. 24 :
6719: LD_VAR 0 4
6723: PPUSH
6724: CALL_OW 274
6728: PPUSH
6729: LD_INT 1
6731: PPUSH
6732: CALL_OW 275
6736: PUSH
6737: LD_INT 0
6739: DOUBLE
6740: GREATEREQUAL
6741: IFFALSE 6749
6743: LD_INT 24
6745: DOUBLE
6746: LESSEQUAL
6747: IFTRUE 6751
6749: GO 6766
6751: POP
// Say ( Gali , D9b-Ar2-1 ) ; 25 .. 49 :
6752: LD_EXP 26
6756: PPUSH
6757: LD_STRING D9b-Ar2-1
6759: PPUSH
6760: CALL_OW 88
6764: GO 6796
6766: LD_INT 25
6768: DOUBLE
6769: GREATEREQUAL
6770: IFFALSE 6778
6772: LD_INT 49
6774: DOUBLE
6775: LESSEQUAL
6776: IFTRUE 6780
6778: GO 6795
6780: POP
// Say ( Gali , D9b-Ar2-1a ) ; end ;
6781: LD_EXP 26
6785: PPUSH
6786: LD_STRING D9b-Ar2-1a
6788: PPUSH
6789: CALL_OW 88
6793: GO 6796
6795: POP
// Say ( JMM , D9b-JMM-1 ) ;
6796: LD_EXP 17
6800: PPUSH
6801: LD_STRING D9b-JMM-1
6803: PPUSH
6804: CALL_OW 88
// x := 0 0$0 ;
6808: LD_ADDR_VAR 0 2
6812: PUSH
6813: LD_INT 0
6815: ST_TO_ADDR
// repeat wait ( 0 0$1 ) ;
6816: LD_INT 35
6818: PPUSH
6819: CALL_OW 67
// x := x + 0 0$1 ;
6823: LD_ADDR_VAR 0 2
6827: PUSH
6828: LD_VAR 0 2
6832: PUSH
6833: LD_INT 35
6835: PLUS
6836: ST_TO_ADDR
// if player_attacked_ar then
6837: LD_EXP 16
6841: IFFALSE 6845
// exit ;
6843: GO 8828
// until x >= time ;
6845: LD_VAR 0 2
6849: PUSH
6850: LD_VAR 0 5
6854: GREATEREQUAL
6855: IFFALSE 6816
// if GetResourceType ( GetBase ( dep ) , mat_cans ) < 50 then
6857: LD_VAR 0 4
6861: PPUSH
6862: CALL_OW 274
6866: PPUSH
6867: LD_INT 1
6869: PPUSH
6870: CALL_OW 275
6874: PUSH
6875: LD_INT 50
6877: LESS
6878: IFFALSE 7011
// begin DialogueOn ;
6880: CALL_OW 6
// Say ( Vervecken , D9c-Ar1-1 ) ;
6884: LD_EXP 25
6888: PPUSH
6889: LD_STRING D9c-Ar1-1
6891: PPUSH
6892: CALL_OW 88
// Say ( JMM , D9c-JMM-1 ) ;
6896: LD_EXP 17
6900: PPUSH
6901: LD_STRING D9c-JMM-1
6903: PPUSH
6904: CALL_OW 88
// Say ( Vervecken , D9c-Ar1-2 ) ;
6908: LD_EXP 25
6912: PPUSH
6913: LD_STRING D9c-Ar1-2
6915: PPUSH
6916: CALL_OW 88
// Say ( Bogdanovic , D9c-FAr1-2 ) ;
6920: LD_EXP 27
6924: PPUSH
6925: LD_STRING D9c-FAr1-2
6927: PPUSH
6928: CALL_OW 88
// Say ( Vervecken , D9c-Ar1-3 ) ;
6932: LD_EXP 25
6936: PPUSH
6937: LD_STRING D9c-Ar1-3
6939: PPUSH
6940: CALL_OW 88
// case Query ( QInfo ) of 1 :
6944: LD_STRING QInfo
6946: PPUSH
6947: CALL_OW 97
6951: PUSH
6952: LD_INT 1
6954: DOUBLE
6955: EQUAL
6956: IFTRUE 6960
6958: GO 6983
6960: POP
// begin Say ( JMM , D8b1-JMM-1 ) ;
6961: LD_EXP 17
6965: PPUSH
6966: LD_STRING D8b1-JMM-1
6968: PPUSH
6969: CALL_OW 88
// player_want_info := 2 ;
6973: LD_ADDR_EXP 13
6977: PUSH
6978: LD_INT 2
6980: ST_TO_ADDR
// end ; 2 :
6981: GO 7007
6983: LD_INT 2
6985: DOUBLE
6986: EQUAL
6987: IFTRUE 6991
6989: GO 7006
6991: POP
// begin Say ( Vervecken , D8b2-Ar1-1 ) ;
6992: LD_EXP 25
6996: PPUSH
6997: LD_STRING D8b2-Ar1-1
6999: PPUSH
7000: CALL_OW 88
// end ; end ;
7004: GO 7007
7006: POP
// DialogueOff ;
7007: CALL_OW 7
// end ; end else
7011: GO 7658
// begin RemoveEnvironmentArea ( mortarArea ) ;
7013: LD_INT 2
7015: PPUSH
7016: CALL_OW 355
// wait ( 1 ) ;
7020: LD_INT 1
7022: PPUSH
7023: CALL_OW 67
// SetSide ( Gali , 1 ) ;
7027: LD_EXP 26
7031: PPUSH
7032: LD_INT 1
7034: PPUSH
7035: CALL_OW 235
// ComBuild ( Gali , b_armoury , 107 , 130 , 0 ) ;
7039: LD_EXP 26
7043: PPUSH
7044: LD_INT 4
7046: PPUSH
7047: LD_INT 107
7049: PPUSH
7050: LD_INT 130
7052: PPUSH
7053: LD_INT 0
7055: PPUSH
7056: CALL_OW 145
// repeat wait ( 1 ) ;
7060: LD_INT 1
7062: PPUSH
7063: CALL_OW 67
// until FilterAllUnits ( [ [ f_btype , b_armoury ] , [ f_nation , nation_arabian ] ] ) ;
7067: LD_INT 30
7069: PUSH
7070: LD_INT 4
7072: PUSH
7073: EMPTY
7074: LIST
7075: LIST
7076: PUSH
7077: LD_INT 23
7079: PUSH
7080: LD_INT 2
7082: PUSH
7083: EMPTY
7084: LIST
7085: LIST
7086: PUSH
7087: EMPTY
7088: LIST
7089: LIST
7090: PPUSH
7091: CALL_OW 69
7095: IFFALSE 7060
// SetSide ( Gali , 2 ) ;
7097: LD_EXP 26
7101: PPUSH
7102: LD_INT 2
7104: PPUSH
7105: CALL_OW 235
// b := FilterAllUnits ( [ [ f_btype , b_armoury ] , [ f_nation , nation_arabian ] ] ) [ 1 ] ;
7109: LD_ADDR_VAR 0 8
7113: PUSH
7114: LD_INT 30
7116: PUSH
7117: LD_INT 4
7119: PUSH
7120: EMPTY
7121: LIST
7122: LIST
7123: PUSH
7124: LD_INT 23
7126: PUSH
7127: LD_INT 2
7129: PUSH
7130: EMPTY
7131: LIST
7132: LIST
7133: PUSH
7134: EMPTY
7135: LIST
7136: LIST
7137: PPUSH
7138: CALL_OW 69
7142: PUSH
7143: LD_INT 1
7145: ARRAY
7146: ST_TO_ADDR
// repeat wait ( 0 0$01 ) ;
7147: LD_INT 35
7149: PPUSH
7150: CALL_OW 67
// if player_attacked_ar then
7154: LD_EXP 16
7158: IFFALSE 7162
// exit ;
7160: GO 8828
// until BuildingStatus ( b ) <> bs_build ;
7162: LD_VAR 0 8
7166: PPUSH
7167: CALL_OW 461
7171: PUSH
7172: LD_INT 1
7174: NONEQUAL
7175: IFFALSE 7147
// if IsOk ( b ) and GetResourceType ( GetBase ( dep ) , mat_cans ) >= 25 then
7177: LD_VAR 0 8
7181: PPUSH
7182: CALL_OW 302
7186: PUSH
7187: LD_VAR 0 4
7191: PPUSH
7192: CALL_OW 274
7196: PPUSH
7197: LD_INT 1
7199: PPUSH
7200: CALL_OW 275
7204: PUSH
7205: LD_INT 25
7207: GREATEREQUAL
7208: AND
7209: IFFALSE 7308
// begin ComUpgrade ( b ) ;
7211: LD_VAR 0 8
7215: PPUSH
7216: CALL_OW 146
// SetTaskList ( Gali , [ [ h , GetX ( b ) , GetY ( b ) , b , 0 , 0 , 0 ] ] ) ;
7220: LD_EXP 26
7224: PPUSH
7225: LD_STRING h
7227: PUSH
7228: LD_VAR 0 8
7232: PPUSH
7233: CALL_OW 250
7237: PUSH
7238: LD_VAR 0 8
7242: PPUSH
7243: CALL_OW 251
7247: PUSH
7248: LD_VAR 0 8
7252: PUSH
7253: LD_INT 0
7255: PUSH
7256: LD_INT 0
7258: PUSH
7259: LD_INT 0
7261: PUSH
7262: EMPTY
7263: LIST
7264: LIST
7265: LIST
7266: LIST
7267: LIST
7268: LIST
7269: LIST
7270: PUSH
7271: EMPTY
7272: LIST
7273: PPUSH
7274: CALL_OW 446
// repeat wait ( 0 0$01 ) ;
7278: LD_INT 35
7280: PPUSH
7281: CALL_OW 67
// if player_attacked_ar then
7285: LD_EXP 16
7289: IFFALSE 7293
// exit ;
7291: GO 8828
// until BuildingStatus ( b ) <> bs_build ;
7293: LD_VAR 0 8
7297: PPUSH
7298: CALL_OW 461
7302: PUSH
7303: LD_INT 1
7305: NONEQUAL
7306: IFFALSE 7278
// end ; if b then
7308: LD_VAR 0 8
7312: IFFALSE 7323
// CenterNowOnUnits ( b ) ;
7314: LD_VAR 0 8
7318: PPUSH
7319: CALL_OW 87
// DialogueOn ;
7323: CALL_OW 6
// Say ( Gali , D9d-Ar2-1 ) ;
7327: LD_EXP 26
7331: PPUSH
7332: LD_STRING D9d-Ar2-1
7334: PPUSH
7335: CALL_OW 88
// Say ( Vervecken , D9d-Ar1-1 ) ;
7339: LD_EXP 25
7343: PPUSH
7344: LD_STRING D9d-Ar1-1
7346: PPUSH
7347: CALL_OW 88
// Say ( JMM , D9d-JMM-1 ) ;
7351: LD_EXP 17
7355: PPUSH
7356: LD_STRING D9d-JMM-1
7358: PPUSH
7359: CALL_OW 88
// Say ( Vervecken , D9d-Ar1-2 ) ;
7363: LD_EXP 25
7367: PPUSH
7368: LD_STRING D9d-Ar1-2
7370: PPUSH
7371: CALL_OW 88
// DialogueOff ;
7375: CALL_OW 7
// i := [ ] ;
7379: LD_ADDR_VAR 0 1
7383: PUSH
7384: EMPTY
7385: ST_TO_ADDR
// if GetResourceType ( GetBase ( dep ) , mat_siberit ) >= 20 then
7386: LD_VAR 0 4
7390: PPUSH
7391: CALL_OW 274
7395: PPUSH
7396: LD_INT 3
7398: PPUSH
7399: CALL_OW 275
7403: PUSH
7404: LD_INT 20
7406: GREATEREQUAL
7407: IFFALSE 7426
// i := i ^ [ 1 ] ;
7409: LD_ADDR_VAR 0 1
7413: PUSH
7414: LD_VAR 0 1
7418: PUSH
7419: LD_INT 1
7421: PUSH
7422: EMPTY
7423: LIST
7424: ADD
7425: ST_TO_ADDR
// if GetResourceType ( GetBase ( dep ) , mat_cans ) >= 50 then
7426: LD_VAR 0 4
7430: PPUSH
7431: CALL_OW 274
7435: PPUSH
7436: LD_INT 1
7438: PPUSH
7439: CALL_OW 275
7443: PUSH
7444: LD_INT 50
7446: GREATEREQUAL
7447: IFFALSE 7466
// i := i ^ [ 2 ] ;
7449: LD_ADDR_VAR 0 1
7453: PUSH
7454: LD_VAR 0 1
7458: PUSH
7459: LD_INT 2
7461: PUSH
7462: EMPTY
7463: LIST
7464: ADD
7465: ST_TO_ADDR
// if GetResourceType ( GetBase ( dep ) , mat_oil ) >= 80 then
7466: LD_VAR 0 4
7470: PPUSH
7471: CALL_OW 274
7475: PPUSH
7476: LD_INT 2
7478: PPUSH
7479: CALL_OW 275
7483: PUSH
7484: LD_INT 80
7486: GREATEREQUAL
7487: IFFALSE 7506
// i := i ^ [ 3 ] ;
7489: LD_ADDR_VAR 0 1
7493: PUSH
7494: LD_VAR 0 1
7498: PUSH
7499: LD_INT 3
7501: PUSH
7502: EMPTY
7503: LIST
7504: ADD
7505: ST_TO_ADDR
// i := i diff 0 ;
7506: LD_ADDR_VAR 0 1
7510: PUSH
7511: LD_VAR 0 1
7515: PUSH
7516: LD_INT 0
7518: DIFF
7519: ST_TO_ADDR
// if i then
7520: LD_VAR 0 1
7524: IFFALSE 7630
// begin i := i ^ [ 4 ] ;
7526: LD_ADDR_VAR 0 1
7530: PUSH
7531: LD_VAR 0 1
7535: PUSH
7536: LD_INT 4
7538: PUSH
7539: EMPTY
7540: LIST
7541: ADD
7542: ST_TO_ADDR
// case Query ( QInfo2 ) of 1 :
7543: LD_STRING QInfo2
7545: PPUSH
7546: CALL_OW 97
7550: PUSH
7551: LD_INT 1
7553: DOUBLE
7554: EQUAL
7555: IFTRUE 7559
7557: GO 7570
7559: POP
// player_want_info := 3 ; 2 :
7560: LD_ADDR_EXP 13
7564: PUSH
7565: LD_INT 3
7567: ST_TO_ADDR
7568: GO 7628
7570: LD_INT 2
7572: DOUBLE
7573: EQUAL
7574: IFTRUE 7578
7576: GO 7589
7578: POP
// player_want_info := 1 ; 3 :
7579: LD_ADDR_EXP 13
7583: PUSH
7584: LD_INT 1
7586: ST_TO_ADDR
7587: GO 7628
7589: LD_INT 3
7591: DOUBLE
7592: EQUAL
7593: IFTRUE 7597
7595: GO 7608
7597: POP
// player_want_info := 2 ; 4 :
7598: LD_ADDR_EXP 13
7602: PUSH
7603: LD_INT 2
7605: ST_TO_ADDR
7606: GO 7628
7608: LD_INT 4
7610: DOUBLE
7611: EQUAL
7612: IFTRUE 7616
7614: GO 7627
7616: POP
// player_want_info := 0 ; end ;
7617: LD_ADDR_EXP 13
7621: PUSH
7622: LD_INT 0
7624: ST_TO_ADDR
7625: GO 7628
7627: POP
// end else
7628: GO 7658
// case Query ( QInfoNothing ) of 1 :
7630: LD_STRING QInfoNothing
7632: PPUSH
7633: CALL_OW 97
7637: PUSH
7638: LD_INT 1
7640: DOUBLE
7641: EQUAL
7642: IFTRUE 7646
7644: GO 7657
7646: POP
// player_want_info := 0 ; end ;
7647: LD_ADDR_EXP 13
7651: PUSH
7652: LD_INT 0
7654: ST_TO_ADDR
7655: GO 7658
7657: POP
// end ; end ; end ; if player_want_info then
7658: LD_EXP 13
7662: IFFALSE 8648
// begin tmp := UnitFilter ( tmp , [ f_weapon , ar_cargo_bay ] ) ;
7664: LD_ADDR_VAR 0 3
7668: PUSH
7669: LD_VAR 0 3
7673: PPUSH
7674: LD_INT 34
7676: PUSH
7677: LD_INT 32
7679: PUSH
7680: EMPTY
7681: LIST
7682: LIST
7683: PPUSH
7684: CALL_OW 72
7688: ST_TO_ADDR
// if player_want_mortar then
7689: LD_EXP 12
7693: IFFALSE 7987
// begin case player_want_info of 1 :
7695: LD_EXP 13
7699: PUSH
7700: LD_INT 1
7702: DOUBLE
7703: EQUAL
7704: IFTRUE 7708
7706: GO 7719
7708: POP
// x := 5 ; 2 :
7709: LD_ADDR_VAR 0 2
7713: PUSH
7714: LD_INT 5
7716: ST_TO_ADDR
7717: GO 7758
7719: LD_INT 2
7721: DOUBLE
7722: EQUAL
7723: IFTRUE 7727
7725: GO 7738
7727: POP
// x := 8 ; 3 :
7728: LD_ADDR_VAR 0 2
7732: PUSH
7733: LD_INT 8
7735: ST_TO_ADDR
7736: GO 7758
7738: LD_INT 3
7740: DOUBLE
7741: EQUAL
7742: IFTRUE 7746
7744: GO 7757
7746: POP
// x := 2 ; end ;
7747: LD_ADDR_VAR 0 2
7751: PUSH
7752: LD_INT 2
7754: ST_TO_ADDR
7755: GO 7758
7757: POP
// for i = 1 to x do
7758: LD_ADDR_VAR 0 1
7762: PUSH
7763: DOUBLE
7764: LD_INT 1
7766: DEC
7767: ST_TO_ADDR
7768: LD_VAR 0 2
7772: PUSH
7773: FOR_TO
7774: IFFALSE 7930
// begin AddComTransport ( Gali , dep , player_want_info ) ;
7776: LD_EXP 26
7780: PPUSH
7781: LD_VAR 0 4
7785: PPUSH
7786: LD_EXP 13
7790: PPUSH
7791: CALL_OW 211
// AddComMoveUnit ( Gali , tmp [ 1 ] ) ;
7795: LD_EXP 26
7799: PPUSH
7800: LD_VAR 0 3
7804: PUSH
7805: LD_INT 1
7807: ARRAY
7808: PPUSH
7809: CALL_OW 172
// repeat wait ( 0 0$1 ) ;
7813: LD_INT 35
7815: PPUSH
7816: CALL_OW 67
// if player_attacked_ar then
7820: LD_EXP 16
7824: IFFALSE 7830
// exit ;
7826: POP
7827: POP
7828: GO 8828
// until GetDistUnits ( Gali , tmp [ 1 ] ) < 4 and GetCargo ( Gali , player_want_info ) ;
7830: LD_EXP 26
7834: PPUSH
7835: LD_VAR 0 3
7839: PUSH
7840: LD_INT 1
7842: ARRAY
7843: PPUSH
7844: CALL_OW 296
7848: PUSH
7849: LD_INT 4
7851: LESS
7852: PUSH
7853: LD_EXP 26
7857: PPUSH
7858: LD_EXP 13
7862: PPUSH
7863: CALL_OW 289
7867: AND
7868: IFFALSE 7813
// SetCargo ( tmp [ 1 ] , player_want_info , GetCargo ( tmp [ 1 ] , player_want_info ) + 10 ) ;
7870: LD_VAR 0 3
7874: PUSH
7875: LD_INT 1
7877: ARRAY
7878: PPUSH
7879: LD_EXP 13
7883: PPUSH
7884: LD_VAR 0 3
7888: PUSH
7889: LD_INT 1
7891: ARRAY
7892: PPUSH
7893: LD_EXP 13
7897: PPUSH
7898: CALL_OW 289
7902: PUSH
7903: LD_INT 10
7905: PLUS
7906: PPUSH
7907: CALL_OW 290
// SetCargo ( Gali , player_want_info , 0 ) ;
7911: LD_EXP 26
7915: PPUSH
7916: LD_EXP 13
7920: PPUSH
7921: LD_INT 0
7923: PPUSH
7924: CALL_OW 290
// end ;
7928: GO 7773
7930: POP
7931: POP
// repeat wait ( 0 0$1 ) ;
7932: LD_INT 35
7934: PPUSH
7935: CALL_OW 67
// if player_attacked_ar then
7939: LD_EXP 16
7943: IFFALSE 7947
// exit ;
7945: GO 8828
// until GetCargo ( tmp [ 1 ] , player_want_info ) = x * 10 ;
7947: LD_VAR 0 3
7951: PUSH
7952: LD_INT 1
7954: ARRAY
7955: PPUSH
7956: LD_EXP 13
7960: PPUSH
7961: CALL_OW 289
7965: PUSH
7966: LD_VAR 0 2
7970: PUSH
7971: LD_INT 10
7973: MUL
7974: EQUAL
7975: IFFALSE 7932
// no_oil_gain := false ;
7977: LD_ADDR_VAR 0 6
7981: PUSH
7982: LD_INT 0
7984: ST_TO_ADDR
// end else
7985: GO 8469
// begin tmp := FilterAllUnits ( [ [ f_side , 2 ] , [ f_type , unit_vehicle ] ] ) ;
7987: LD_ADDR_VAR 0 3
7991: PUSH
7992: LD_INT 22
7994: PUSH
7995: LD_INT 2
7997: PUSH
7998: EMPTY
7999: LIST
8000: LIST
8001: PUSH
8002: LD_INT 21
8004: PUSH
8005: LD_INT 2
8007: PUSH
8008: EMPTY
8009: LIST
8010: LIST
8011: PUSH
8012: EMPTY
8013: LIST
8014: LIST
8015: PPUSH
8016: CALL_OW 69
8020: ST_TO_ADDR
// ComMoveXY ( Gali , GetX ( dep ) + 1 , GetY ( dep ) + 1 ) ;
8021: LD_EXP 26
8025: PPUSH
8026: LD_VAR 0 4
8030: PPUSH
8031: CALL_OW 250
8035: PUSH
8036: LD_INT 1
8038: PLUS
8039: PPUSH
8040: LD_VAR 0 4
8044: PPUSH
8045: CALL_OW 251
8049: PUSH
8050: LD_INT 1
8052: PLUS
8053: PPUSH
8054: CALL_OW 111
// repeat wait ( 0 0$1 ) ;
8058: LD_INT 35
8060: PPUSH
8061: CALL_OW 67
// until GetDistUnits ( Gali , dep ) < 4 ;
8065: LD_EXP 26
8069: PPUSH
8070: LD_VAR 0 4
8074: PPUSH
8075: CALL_OW 296
8079: PUSH
8080: LD_INT 4
8082: LESS
8083: IFFALSE 8058
// for i = 1 to 6 do
8085: LD_ADDR_VAR 0 1
8089: PUSH
8090: DOUBLE
8091: LD_INT 1
8093: DEC
8094: ST_TO_ADDR
8095: LD_INT 6
8097: PUSH
8098: FOR_TO
8099: IFFALSE 8296
// begin if player_attacked_ar then
8101: LD_EXP 16
8105: IFFALSE 8111
// exit ;
8107: POP
8108: POP
8109: GO 8828
// if GetResourceType ( GetBase ( dep ) , mat_oil ) < 10 and not first_warn then
8111: LD_VAR 0 4
8115: PPUSH
8116: CALL_OW 274
8120: PPUSH
8121: LD_INT 2
8123: PPUSH
8124: CALL_OW 275
8128: PUSH
8129: LD_INT 10
8131: LESS
8132: PUSH
8133: LD_VAR 0 7
8137: NOT
8138: AND
8139: IFFALSE 8202
// begin first_warn := true ;
8141: LD_ADDR_VAR 0 7
8145: PUSH
8146: LD_INT 1
8148: ST_TO_ADDR
// DialogueOn ;
8149: CALL_OW 6
// Say ( Bogdanovic , D9a-FAr1-1 ) ;
8153: LD_EXP 27
8157: PPUSH
8158: LD_STRING D9a-FAr1-1
8160: PPUSH
8161: CALL_OW 88
// Say ( JMM , D9a-JMM-1 ) ;
8165: LD_EXP 17
8169: PPUSH
8170: LD_STRING D9a-JMM-1
8172: PPUSH
8173: CALL_OW 88
// Say ( Vervecken , D9a2-Ar1-1 ) ;
8177: LD_EXP 25
8181: PPUSH
8182: LD_STRING D9a2-Ar1-1
8184: PPUSH
8185: CALL_OW 88
// DialogueOff ;
8189: CALL_OW 7
// wait ( time ) ;
8193: LD_VAR 0 5
8197: PPUSH
8198: CALL_OW 67
// end ; if GetResourceType ( GetBase ( dep ) , mat_oil ) < 10 then
8202: LD_VAR 0 4
8206: PPUSH
8207: CALL_OW 274
8211: PPUSH
8212: LD_INT 2
8214: PPUSH
8215: CALL_OW 275
8219: PUSH
8220: LD_INT 10
8222: LESS
8223: IFFALSE 8249
// begin Say ( Vervecken , D9a3-Ar1-1 ) ;
8225: LD_EXP 25
8229: PPUSH
8230: LD_STRING D9a3-Ar1-1
8232: PPUSH
8233: CALL_OW 88
// no_oil_gain := true ;
8237: LD_ADDR_VAR 0 6
8241: PUSH
8242: LD_INT 1
8244: ST_TO_ADDR
// break ;
8245: GO 8296
// end else
8247: GO 8294
// begin AddComTransport ( Gali , dep , mat_oil ) ;
8249: LD_EXP 26
8253: PPUSH
8254: LD_VAR 0 4
8258: PPUSH
8259: LD_INT 2
8261: PPUSH
8262: CALL_OW 211
// AddComRefuel ( Gali , tmp [ i mod 3 + 1 ] ) ;
8266: LD_EXP 26
8270: PPUSH
8271: LD_VAR 0 3
8275: PUSH
8276: LD_VAR 0 1
8280: PUSH
8281: LD_INT 3
8283: MOD
8284: PUSH
8285: LD_INT 1
8287: PLUS
8288: ARRAY
8289: PPUSH
8290: CALL_OW 210
// end ; end ;
8294: GO 8098
8296: POP
8297: POP
// repeat wait ( 0 0$1 ) ;
8298: LD_INT 35
8300: PPUSH
8301: CALL_OW 67
// if player_attacked_ar then
8305: LD_EXP 16
8309: IFFALSE 8313
// exit ;
8311: GO 8828
// for i in tmp do
8313: LD_ADDR_VAR 0 1
8317: PUSH
8318: LD_VAR 0 3
8322: PUSH
8323: FOR_IN
8324: IFFALSE 8355
// if GetFuel ( i ) < 100 then
8326: LD_VAR 0 1
8330: PPUSH
8331: CALL_OW 261
8335: PUSH
8336: LD_INT 100
8338: LESS
8339: IFFALSE 8353
// begin x := i ;
8341: LD_ADDR_VAR 0 2
8345: PUSH
8346: LD_VAR 0 1
8350: ST_TO_ADDR
// break ;
8351: GO 8355
// end ;
8353: GO 8323
8355: POP
8356: POP
// if not HasTask ( Gali ) and not Carry ( Gali ) then
8357: LD_EXP 26
8361: PPUSH
8362: CALL_OW 314
8366: NOT
8367: PUSH
8368: LD_EXP 26
8372: PPUSH
8373: CALL_OW 281
8377: NOT
8378: AND
8379: IFFALSE 8412
// begin ComTransport ( Gali , dep , mat_oil ) ;
8381: LD_EXP 26
8385: PPUSH
8386: LD_VAR 0 4
8390: PPUSH
8391: LD_INT 2
8393: PPUSH
8394: CALL_OW 151
// AddComRefuel ( Gali , x ) ;
8398: LD_EXP 26
8402: PPUSH
8403: LD_VAR 0 2
8407: PPUSH
8408: CALL_OW 210
// end ; until ( GetFuel ( tmp [ 1 ] ) > 80 and GetFuel ( tmp [ 2 ] ) > 80 and GetFuel ( tmp [ 3 ] ) > 80 ) ;
8412: LD_VAR 0 3
8416: PUSH
8417: LD_INT 1
8419: ARRAY
8420: PPUSH
8421: CALL_OW 261
8425: PUSH
8426: LD_INT 80
8428: GREATER
8429: PUSH
8430: LD_VAR 0 3
8434: PUSH
8435: LD_INT 2
8437: ARRAY
8438: PPUSH
8439: CALL_OW 261
8443: PUSH
8444: LD_INT 80
8446: GREATER
8447: AND
8448: PUSH
8449: LD_VAR 0 3
8453: PUSH
8454: LD_INT 3
8456: ARRAY
8457: PPUSH
8458: CALL_OW 261
8462: PUSH
8463: LD_INT 80
8465: GREATER
8466: AND
8467: IFFALSE 8298
// end ; ComHold ( Gali ) ;
8469: LD_EXP 26
8473: PPUSH
8474: CALL_OW 140
// if not no_oil_gain then
8478: LD_VAR 0 6
8482: NOT
8483: IFFALSE 8648
// begin DialogueOn ;
8485: CALL_OW 6
// CenterNowOnUnits ( Vervecken ) ;
8489: LD_EXP 25
8493: PPUSH
8494: CALL_OW 87
// if player_want_mortar then
8498: LD_EXP 12
8502: IFFALSE 8528
// begin Say ( Vervecken , D9e-Ar1-1 ) ;
8504: LD_EXP 25
8508: PPUSH
8509: LD_STRING D9e-Ar1-1
8511: PPUSH
8512: CALL_OW 88
// Say ( JMM , D10a-JMM-1 ) ;
8516: LD_EXP 17
8520: PPUSH
8521: LD_STRING D10a-JMM-1
8523: PPUSH
8524: CALL_OW 88
// end ; Say ( Vervecken , D10a-Ar1-1 ) ;
8528: LD_EXP 25
8532: PPUSH
8533: LD_STRING D10a-Ar1-1
8535: PPUSH
8536: CALL_OW 88
// Say ( Gali , D10a-Ar2-1 ) ;
8540: LD_EXP 26
8544: PPUSH
8545: LD_STRING D10a-Ar2-1
8547: PPUSH
8548: CALL_OW 88
// Say ( Bogdanovic , D10a-FAr1-1 ) ;
8552: LD_EXP 27
8556: PPUSH
8557: LD_STRING D10a-FAr1-1
8559: PPUSH
8560: CALL_OW 88
// Say ( Gali , D10a-Ar2-2 ) ;
8564: LD_EXP 26
8568: PPUSH
8569: LD_STRING D10a-Ar2-2
8571: PPUSH
8572: CALL_OW 88
// Say ( Bogdanovic , D10a-FAr1-2 ) ;
8576: LD_EXP 27
8580: PPUSH
8581: LD_STRING D10a-FAr1-2
8583: PPUSH
8584: CALL_OW 88
// Say ( Vervecken , D10a-Ar1-2 ) ;
8588: LD_EXP 25
8592: PPUSH
8593: LD_STRING D10a-Ar1-2
8595: PPUSH
8596: CALL_OW 88
// Say ( JMM , D10a-JMM-2 ) ;
8600: LD_EXP 17
8604: PPUSH
8605: LD_STRING D10a-JMM-2
8607: PPUSH
8608: CALL_OW 88
// Say ( Vervecken , D10a-Ar1-3 ) ;
8612: LD_EXP 25
8616: PPUSH
8617: LD_STRING D10a-Ar1-3
8619: PPUSH
8620: CALL_OW 88
// Say ( JMM , D10a-JMM-3 ) ;
8624: LD_EXP 17
8628: PPUSH
8629: LD_STRING D10a-JMM-3
8631: PPUSH
8632: CALL_OW 88
// player_get_info := true ;
8636: LD_ADDR_EXP 15
8640: PUSH
8641: LD_INT 1
8643: ST_TO_ADDR
// DialogueOff ;
8644: CALL_OW 7
// end ; end ; if player_attacked_ar then
8648: LD_EXP 16
8652: IFFALSE 8656
// exit ;
8654: GO 8828
// if player_want_mortar or player_want_info then
8656: LD_EXP 12
8660: PUSH
8661: LD_EXP 13
8665: OR
8666: IFFALSE 8680
// Say ( Vervecken , D9f-Ar1-1 ) ;
8668: LD_EXP 25
8672: PPUSH
8673: LD_STRING D9f-Ar1-1
8675: PPUSH
8676: CALL_OW 88
// repeat ComMoveXY ( FilterAllUnits ( [ f_side , 2 ] ) , 51 , 99 ) ;
8680: LD_INT 22
8682: PUSH
8683: LD_INT 2
8685: PUSH
8686: EMPTY
8687: LIST
8688: LIST
8689: PPUSH
8690: CALL_OW 69
8694: PPUSH
8695: LD_INT 51
8697: PPUSH
8698: LD_INT 99
8700: PPUSH
8701: CALL_OW 111
// wait ( 0 0$1 ) ;
8705: LD_INT 35
8707: PPUSH
8708: CALL_OW 67
// if FilterAllUnits ( [ [ f_side , 2 ] , [ f_distxy , 51 , 99 , 2 ] ] ) then
8712: LD_INT 22
8714: PUSH
8715: LD_INT 2
8717: PUSH
8718: EMPTY
8719: LIST
8720: LIST
8721: PUSH
8722: LD_INT 92
8724: PUSH
8725: LD_INT 51
8727: PUSH
8728: LD_INT 99
8730: PUSH
8731: LD_INT 2
8733: PUSH
8734: EMPTY
8735: LIST
8736: LIST
8737: LIST
8738: LIST
8739: PUSH
8740: EMPTY
8741: LIST
8742: LIST
8743: PPUSH
8744: CALL_OW 69
8748: IFFALSE 8808
// for i in FilterAllUnits ( [ [ f_side , 2 ] , [ f_distxy , 51 , 99 , 2 ] ] ) do
8750: LD_ADDR_VAR 0 1
8754: PUSH
8755: LD_INT 22
8757: PUSH
8758: LD_INT 2
8760: PUSH
8761: EMPTY
8762: LIST
8763: LIST
8764: PUSH
8765: LD_INT 92
8767: PUSH
8768: LD_INT 51
8770: PUSH
8771: LD_INT 99
8773: PUSH
8774: LD_INT 2
8776: PUSH
8777: EMPTY
8778: LIST
8779: LIST
8780: LIST
8781: LIST
8782: PUSH
8783: EMPTY
8784: LIST
8785: LIST
8786: PPUSH
8787: CALL_OW 69
8791: PUSH
8792: FOR_IN
8793: IFFALSE 8806
// RemoveUnit ( i ) ;
8795: LD_VAR 0 1
8799: PPUSH
8800: CALL_OW 64
8804: GO 8792
8806: POP
8807: POP
// until FilterAllUnits ( [ f_side , 2 ] ) = 0 ;
8808: LD_INT 22
8810: PUSH
8811: LD_INT 2
8813: PUSH
8814: EMPTY
8815: LIST
8816: LIST
8817: PPUSH
8818: CALL_OW 69
8822: PUSH
8823: LD_INT 0
8825: EQUAL
8826: IFFALSE 8680
// end ;
8828: PPOPN 8
8830: END
// every 0 0$1 trigger player_attacked_ar do var i , tmp , mine_launched , x ;
8831: LD_EXP 16
8835: IFFALSE 9188
8837: GO 8839
8839: DISABLE
8840: LD_INT 0
8842: PPUSH
8843: PPUSH
8844: PPUSH
8845: PPUSH
// begin ru_can_attack := true ;
8846: LD_ADDR_EXP 8
8850: PUSH
8851: LD_INT 1
8853: ST_TO_ADDR
// mine_launched := false ;
8854: LD_ADDR_VAR 0 3
8858: PUSH
8859: LD_INT 0
8861: ST_TO_ADDR
// ComMoveXY ( FilterAllUnits ( [ f_side , 2 ] ) , 51 , 99 ) ;
8862: LD_INT 22
8864: PUSH
8865: LD_INT 2
8867: PUSH
8868: EMPTY
8869: LIST
8870: LIST
8871: PPUSH
8872: CALL_OW 69
8876: PPUSH
8877: LD_INT 51
8879: PPUSH
8880: LD_INT 99
8882: PPUSH
8883: CALL_OW 111
// if IsOk ( Vervecken ) then
8887: LD_EXP 25
8891: PPUSH
8892: CALL_OW 302
8896: IFFALSE 8910
// Say ( Vervecken , D11a-Ar1-1 ) ;
8898: LD_EXP 25
8902: PPUSH
8903: LD_STRING D11a-Ar1-1
8905: PPUSH
8906: CALL_OW 88
// tmp := UnitFilter ( ar_force , [ f_class , 1 ] ) ;
8910: LD_ADDR_VAR 0 2
8914: PUSH
8915: LD_EXP 32
8919: PPUSH
8920: LD_INT 25
8922: PUSH
8923: LD_INT 1
8925: PUSH
8926: EMPTY
8927: LIST
8928: LIST
8929: PPUSH
8930: CALL_OW 72
8934: ST_TO_ADDR
// for i in tmp do
8935: LD_ADDR_VAR 0 1
8939: PUSH
8940: LD_VAR 0 2
8944: PUSH
8945: FOR_IN
8946: IFFALSE 9009
// if MineOfUnit ( i ) then
8948: LD_VAR 0 1
8952: PPUSH
8953: CALL_OW 459
8957: IFFALSE 9007
// begin x := MineOfUnit ( i ) ;
8959: LD_ADDR_VAR 0 4
8963: PUSH
8964: LD_VAR 0 1
8968: PPUSH
8969: CALL_OW 459
8973: ST_TO_ADDR
// mine_launched := true ;
8974: LD_ADDR_VAR 0 3
8978: PUSH
8979: LD_INT 1
8981: ST_TO_ADDR
// LaunchMineAtPos ( x [ 1 ] , x [ 2 ] , 2 ) ;
8982: LD_VAR 0 4
8986: PUSH
8987: LD_INT 1
8989: ARRAY
8990: PPUSH
8991: LD_VAR 0 4
8995: PUSH
8996: LD_INT 2
8998: ARRAY
8999: PPUSH
9000: LD_INT 2
9002: PPUSH
9003: CALL_OW 456
// end ;
9007: GO 8945
9009: POP
9010: POP
// if mine_launched and IsOk ( Vervecken ) then
9011: LD_VAR 0 3
9015: PUSH
9016: LD_EXP 25
9020: PPUSH
9021: CALL_OW 302
9025: AND
9026: IFFALSE 9040
// Say ( Vervecken , D11b-Ar1-1 ) ;
9028: LD_EXP 25
9032: PPUSH
9033: LD_STRING D11b-Ar1-1
9035: PPUSH
9036: CALL_OW 88
// repeat ComMoveXY ( FilterAllUnits ( [ f_side , 2 ] ) , 51 , 99 ) ;
9040: LD_INT 22
9042: PUSH
9043: LD_INT 2
9045: PUSH
9046: EMPTY
9047: LIST
9048: LIST
9049: PPUSH
9050: CALL_OW 69
9054: PPUSH
9055: LD_INT 51
9057: PPUSH
9058: LD_INT 99
9060: PPUSH
9061: CALL_OW 111
// wait ( 0 0$1 ) ;
9065: LD_INT 35
9067: PPUSH
9068: CALL_OW 67
// if FilterAllUnits ( [ [ f_side , 2 ] , [ f_distxy , 51 , 99 , 2 ] ] ) then
9072: LD_INT 22
9074: PUSH
9075: LD_INT 2
9077: PUSH
9078: EMPTY
9079: LIST
9080: LIST
9081: PUSH
9082: LD_INT 92
9084: PUSH
9085: LD_INT 51
9087: PUSH
9088: LD_INT 99
9090: PUSH
9091: LD_INT 2
9093: PUSH
9094: EMPTY
9095: LIST
9096: LIST
9097: LIST
9098: LIST
9099: PUSH
9100: EMPTY
9101: LIST
9102: LIST
9103: PPUSH
9104: CALL_OW 69
9108: IFFALSE 9168
// for i in FilterAllUnits ( [ [ f_side , 2 ] , [ f_distxy , 51 , 99 , 2 ] ] ) do
9110: LD_ADDR_VAR 0 1
9114: PUSH
9115: LD_INT 22
9117: PUSH
9118: LD_INT 2
9120: PUSH
9121: EMPTY
9122: LIST
9123: LIST
9124: PUSH
9125: LD_INT 92
9127: PUSH
9128: LD_INT 51
9130: PUSH
9131: LD_INT 99
9133: PUSH
9134: LD_INT 2
9136: PUSH
9137: EMPTY
9138: LIST
9139: LIST
9140: LIST
9141: LIST
9142: PUSH
9143: EMPTY
9144: LIST
9145: LIST
9146: PPUSH
9147: CALL_OW 69
9151: PUSH
9152: FOR_IN
9153: IFFALSE 9166
// RemoveUnit ( i ) ;
9155: LD_VAR 0 1
9159: PPUSH
9160: CALL_OW 64
9164: GO 9152
9166: POP
9167: POP
// until FilterAllUnits ( [ f_side , 2 ] ) = 0 ;
9168: LD_INT 22
9170: PUSH
9171: LD_INT 2
9173: PUSH
9174: EMPTY
9175: LIST
9176: LIST
9177: PPUSH
9178: CALL_OW 69
9182: PUSH
9183: LD_INT 0
9185: EQUAL
9186: IFFALSE 9040
// end ;
9188: PPOPN 4
9190: END
// every 0 0$1 trigger ar_can_arrive do var i ;
9191: LD_EXP 10
9195: IFFALSE 9374
9197: GO 9199
9199: DISABLE
9200: LD_INT 0
9202: PPUSH
// begin Wait ( 10 10$00 ) ;
9203: LD_INT 21000
9205: PPUSH
9206: CALL_OW 67
// if FilterAllUnits ( [ f_side , 2 ] ) then
9210: LD_INT 22
9212: PUSH
9213: LD_INT 2
9215: PUSH
9216: EMPTY
9217: LIST
9218: LIST
9219: PPUSH
9220: CALL_OW 69
9224: IFFALSE 9374
// begin repeat ComAgressiveMove ( FilterAllUnits ( [ f_side , 2 ] ) , 51 , 99 ) ;
9226: LD_INT 22
9228: PUSH
9229: LD_INT 2
9231: PUSH
9232: EMPTY
9233: LIST
9234: LIST
9235: PPUSH
9236: CALL_OW 69
9240: PPUSH
9241: LD_INT 51
9243: PPUSH
9244: LD_INT 99
9246: PPUSH
9247: CALL_OW 114
// wait ( 0 0$1 ) ;
9251: LD_INT 35
9253: PPUSH
9254: CALL_OW 67
// if FilterAllUnits ( [ [ f_side , 2 ] , [ f_distxy , 51 , 99 , 2 ] ] ) then
9258: LD_INT 22
9260: PUSH
9261: LD_INT 2
9263: PUSH
9264: EMPTY
9265: LIST
9266: LIST
9267: PUSH
9268: LD_INT 92
9270: PUSH
9271: LD_INT 51
9273: PUSH
9274: LD_INT 99
9276: PUSH
9277: LD_INT 2
9279: PUSH
9280: EMPTY
9281: LIST
9282: LIST
9283: LIST
9284: LIST
9285: PUSH
9286: EMPTY
9287: LIST
9288: LIST
9289: PPUSH
9290: CALL_OW 69
9294: IFFALSE 9354
// for i in FilterAllUnits ( [ [ f_side , 2 ] , [ f_distxy , 51 , 99 , 2 ] ] ) do
9296: LD_ADDR_VAR 0 1
9300: PUSH
9301: LD_INT 22
9303: PUSH
9304: LD_INT 2
9306: PUSH
9307: EMPTY
9308: LIST
9309: LIST
9310: PUSH
9311: LD_INT 92
9313: PUSH
9314: LD_INT 51
9316: PUSH
9317: LD_INT 99
9319: PUSH
9320: LD_INT 2
9322: PUSH
9323: EMPTY
9324: LIST
9325: LIST
9326: LIST
9327: LIST
9328: PUSH
9329: EMPTY
9330: LIST
9331: LIST
9332: PPUSH
9333: CALL_OW 69
9337: PUSH
9338: FOR_IN
9339: IFFALSE 9352
// RemoveUnit ( i ) ;
9341: LD_VAR 0 1
9345: PPUSH
9346: CALL_OW 64
9350: GO 9338
9352: POP
9353: POP
// until FilterAllUnits ( [ f_side , 2 ] ) = 0 ;
9354: LD_INT 22
9356: PUSH
9357: LD_INT 2
9359: PUSH
9360: EMPTY
9361: LIST
9362: LIST
9363: PPUSH
9364: CALL_OW 69
9368: PUSH
9369: LD_INT 0
9371: EQUAL
9372: IFFALSE 9226
// end ; end ;
9374: PPOPN 1
9376: END
// every 0 0$1 trigger jmm_in_ovsyenko do var i , tmp , sib ;
9377: LD_EXP 4
9381: IFFALSE 10163
9383: GO 9385
9385: DISABLE
9386: LD_INT 0
9388: PPUSH
9389: PPUSH
9390: PPUSH
// begin Wait ( game_time ) ;
9391: LD_EXP 7
9395: PPUSH
9396: CALL_OW 67
// repeat wait ( 0 0$1 ) ;
9400: LD_INT 35
9402: PPUSH
9403: CALL_OW 67
// until ( not ru_can_attack ) ;
9407: LD_EXP 8
9411: NOT
9412: IFFALSE 9400
// Wait ( 0 0$35 ) ;
9414: LD_INT 1225
9416: PPUSH
9417: CALL_OW 67
// DialogueOn ;
9421: CALL_OW 6
// InGameOn ;
9425: CALL_OW 8
// SayRadio ( Powell , D12-Pow-1 ) ;
9429: LD_EXP 24
9433: PPUSH
9434: LD_STRING D12-Pow-1
9436: PPUSH
9437: CALL_OW 94
// InGameOff ;
9441: CALL_OW 9
// DialogueOff ;
9445: CALL_OW 7
// ChangeMissionObjectives ( M4 ) ;
9449: LD_STRING M4
9451: PPUSH
9452: CALL_OW 337
// SetAreaMapShow ( endMissionArea , 1 ) ;
9456: LD_INT 5
9458: PPUSH
9459: LD_INT 1
9461: PPUSH
9462: CALL_OW 424
// repeat wait ( 0 0$1 ) ;
9466: LD_INT 35
9468: PPUSH
9469: CALL_OW 67
// until FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) = FilterUnitsInArea ( endMissionArea , [ [ f_side , 1 ] , [ f_or , [ f_type , unit_human ] , [ f_driving ] ] ] ) ;
9473: LD_INT 22
9475: PUSH
9476: LD_INT 1
9478: PUSH
9479: EMPTY
9480: LIST
9481: LIST
9482: PUSH
9483: LD_INT 21
9485: PUSH
9486: LD_INT 1
9488: PUSH
9489: EMPTY
9490: LIST
9491: LIST
9492: PUSH
9493: EMPTY
9494: LIST
9495: LIST
9496: PPUSH
9497: CALL_OW 69
9501: PUSH
9502: LD_INT 5
9504: PPUSH
9505: LD_INT 22
9507: PUSH
9508: LD_INT 1
9510: PUSH
9511: EMPTY
9512: LIST
9513: LIST
9514: PUSH
9515: LD_INT 2
9517: PUSH
9518: LD_INT 21
9520: PUSH
9521: LD_INT 1
9523: PUSH
9524: EMPTY
9525: LIST
9526: LIST
9527: PUSH
9528: LD_INT 55
9530: PUSH
9531: EMPTY
9532: LIST
9533: PUSH
9534: EMPTY
9535: LIST
9536: LIST
9537: LIST
9538: PUSH
9539: EMPTY
9540: LIST
9541: LIST
9542: PPUSH
9543: CALL_OW 70
9547: EQUAL
9548: IFFALSE 9466
// if not player_get_info then
9550: LD_EXP 15
9554: NOT
9555: IFFALSE 9566
// player_get_info := - 1 ;
9557: LD_ADDR_EXP 15
9561: PUSH
9562: LD_INT 1
9564: NEG
9565: ST_TO_ADDR
// AddMedal ( player_get_info , Information ) ;
9566: LD_EXP 15
9570: PPUSH
9571: LD_STRING Information
9573: PPUSH
9574: CALL_OW 101
// tmp := FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_class , 2 ] , [ f_class , 16 ] , [ f_weapon , us_cargo_bay ] ] ] ) ;
9578: LD_ADDR_VAR 0 2
9582: PUSH
9583: LD_INT 22
9585: PUSH
9586: LD_INT 1
9588: PUSH
9589: EMPTY
9590: LIST
9591: LIST
9592: PUSH
9593: LD_INT 2
9595: PUSH
9596: LD_INT 25
9598: PUSH
9599: LD_INT 2
9601: PUSH
9602: EMPTY
9603: LIST
9604: LIST
9605: PUSH
9606: LD_INT 25
9608: PUSH
9609: LD_INT 16
9611: PUSH
9612: EMPTY
9613: LIST
9614: LIST
9615: PUSH
9616: LD_INT 34
9618: PUSH
9619: LD_INT 12
9621: PUSH
9622: EMPTY
9623: LIST
9624: LIST
9625: PUSH
9626: EMPTY
9627: LIST
9628: LIST
9629: LIST
9630: LIST
9631: PUSH
9632: EMPTY
9633: LIST
9634: LIST
9635: PPUSH
9636: CALL_OW 69
9640: ST_TO_ADDR
// sib := GetTerminalCargo ;
9641: LD_ADDR_VAR 0 3
9645: PUSH
9646: CALL 752 0 0
9650: ST_TO_ADDR
// sib := sib + GetResourceArea ( terminalArea , mat_siberit ) ;
9651: LD_ADDR_VAR 0 3
9655: PUSH
9656: LD_VAR 0 3
9660: PUSH
9661: LD_INT 6
9663: PPUSH
9664: LD_INT 3
9666: PPUSH
9667: CALL_OW 287
9671: PLUS
9672: ST_TO_ADDR
// sib := sib + GetCargo ( tmp , mat_siberit ) ;
9673: LD_ADDR_VAR 0 3
9677: PUSH
9678: LD_VAR 0 3
9682: PUSH
9683: LD_VAR 0 2
9687: PPUSH
9688: LD_INT 3
9690: PPUSH
9691: CALL_OW 289
9695: PLUS
9696: ST_TO_ADDR
// if sib < ( 2 + Difficulty ) * 50 then
9697: LD_VAR 0 3
9701: PUSH
9702: LD_INT 2
9704: PUSH
9705: LD_OWVAR 67
9709: PLUS
9710: PUSH
9711: LD_INT 50
9713: MUL
9714: LESS
9715: IFFALSE 9740
// AddMedal ( - 2 * Difficulty + 1 , MuchSiberite ) else
9717: LD_INT 2
9719: NEG
9720: PUSH
9721: LD_OWVAR 67
9725: MUL
9726: PUSH
9727: LD_INT 1
9729: PLUS
9730: PPUSH
9731: LD_STRING MuchSiberite
9733: PPUSH
9734: CALL_OW 101
9738: GO 9750
// AddMedal ( 1 , MuchSiberite ) ;
9740: LD_INT 1
9742: PPUSH
9743: LD_STRING MuchSiberite
9745: PPUSH
9746: CALL_OW 101
// RewardPeople ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] , [ f_class , 8 ] ] ] ) ) ;
9750: LD_INT 22
9752: PUSH
9753: LD_INT 1
9755: PUSH
9756: EMPTY
9757: LIST
9758: LIST
9759: PUSH
9760: LD_INT 2
9762: PUSH
9763: LD_INT 25
9765: PUSH
9766: LD_INT 1
9768: PUSH
9769: EMPTY
9770: LIST
9771: LIST
9772: PUSH
9773: LD_INT 25
9775: PUSH
9776: LD_INT 2
9778: PUSH
9779: EMPTY
9780: LIST
9781: LIST
9782: PUSH
9783: LD_INT 25
9785: PUSH
9786: LD_INT 3
9788: PUSH
9789: EMPTY
9790: LIST
9791: LIST
9792: PUSH
9793: LD_INT 25
9795: PUSH
9796: LD_INT 4
9798: PUSH
9799: EMPTY
9800: LIST
9801: LIST
9802: PUSH
9803: LD_INT 25
9805: PUSH
9806: LD_INT 8
9808: PUSH
9809: EMPTY
9810: LIST
9811: LIST
9812: PUSH
9813: EMPTY
9814: LIST
9815: LIST
9816: LIST
9817: LIST
9818: LIST
9819: LIST
9820: PUSH
9821: EMPTY
9822: LIST
9823: LIST
9824: PPUSH
9825: CALL_OW 69
9829: PPUSH
9830: CALL_OW 43
// tmp := FilterAllUnits ( [ [ f_side , 1 ] , [ f_class , 8 ] ] ) ;
9834: LD_ADDR_VAR 0 2
9838: PUSH
9839: LD_INT 22
9841: PUSH
9842: LD_INT 1
9844: PUSH
9845: EMPTY
9846: LIST
9847: LIST
9848: PUSH
9849: LD_INT 25
9851: PUSH
9852: LD_INT 8
9854: PUSH
9855: EMPTY
9856: LIST
9857: LIST
9858: PUSH
9859: EMPTY
9860: LIST
9861: LIST
9862: PPUSH
9863: CALL_OW 69
9867: ST_TO_ADDR
// if tmp then
9868: LD_VAR 0 2
9872: IFFALSE 9903
// for i in tmp do
9874: LD_ADDR_VAR 0 1
9878: PUSH
9879: LD_VAR 0 2
9883: PUSH
9884: FOR_IN
9885: IFFALSE 9901
// SetClass ( i , 1 ) ;
9887: LD_VAR 0 1
9891: PPUSH
9892: LD_INT 1
9894: PPUSH
9895: CALL_OW 336
9899: GO 9884
9901: POP
9902: POP
// SaveVariable ( sib , 09_sibRes ) ;
9903: LD_VAR 0 3
9907: PPUSH
9908: LD_STRING 09_sibRes
9910: PPUSH
9911: CALL_OW 39
// SaveVariable ( player_get_info , 09_arInfo ) ;
9915: LD_EXP 15
9919: PPUSH
9920: LD_STRING 09_arInfo
9922: PPUSH
9923: CALL_OW 39
// SaveCharacters ( JMM , mission_prefix & JMM ) ;
9927: LD_EXP 17
9931: PPUSH
9932: LD_EXP 1
9936: PUSH
9937: LD_STRING JMM
9939: STR
9940: PPUSH
9941: CALL_OW 38
// if IsLive ( Gary ) then
9945: LD_EXP 18
9949: PPUSH
9950: CALL_OW 300
9954: IFFALSE 9974
// SaveCharacters ( Gary , mission_prefix & Gary ) ;
9956: LD_EXP 18
9960: PPUSH
9961: LD_EXP 1
9965: PUSH
9966: LD_STRING Gary
9968: STR
9969: PPUSH
9970: CALL_OW 38
// if IsLive ( Bobby ) then
9974: LD_EXP 19
9978: PPUSH
9979: CALL_OW 300
9983: IFFALSE 10003
// SaveCharacters ( Bobby , mission_prefix & Bobby ) ;
9985: LD_EXP 19
9989: PPUSH
9990: LD_EXP 1
9994: PUSH
9995: LD_STRING Bobby
9997: STR
9998: PPUSH
9999: CALL_OW 38
// if IsLive ( Cyrus ) then
10003: LD_EXP 20
10007: PPUSH
10008: CALL_OW 300
10012: IFFALSE 10032
// SaveCharacters ( Cyrus , mission_prefix & Cyrus ) ;
10014: LD_EXP 20
10018: PPUSH
10019: LD_EXP 1
10023: PUSH
10024: LD_STRING Cyrus
10026: STR
10027: PPUSH
10028: CALL_OW 38
// if IsLive ( Houten ) then
10032: LD_EXP 21
10036: PPUSH
10037: CALL_OW 300
10041: IFFALSE 10061
// SaveCharacters ( Houten , mission_prefix & Houten ) ;
10043: LD_EXP 21
10047: PPUSH
10048: LD_EXP 1
10052: PUSH
10053: LD_STRING Houten
10055: STR
10056: PPUSH
10057: CALL_OW 38
// tmp := FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) ;
10061: LD_ADDR_VAR 0 2
10065: PUSH
10066: LD_INT 22
10068: PUSH
10069: LD_INT 1
10071: PUSH
10072: EMPTY
10073: LIST
10074: LIST
10075: PUSH
10076: LD_INT 2
10078: PUSH
10079: LD_INT 25
10081: PUSH
10082: LD_INT 1
10084: PUSH
10085: EMPTY
10086: LIST
10087: LIST
10088: PUSH
10089: LD_INT 25
10091: PUSH
10092: LD_INT 2
10094: PUSH
10095: EMPTY
10096: LIST
10097: LIST
10098: PUSH
10099: LD_INT 25
10101: PUSH
10102: LD_INT 3
10104: PUSH
10105: EMPTY
10106: LIST
10107: LIST
10108: PUSH
10109: LD_INT 25
10111: PUSH
10112: LD_INT 4
10114: PUSH
10115: EMPTY
10116: LIST
10117: LIST
10118: PUSH
10119: EMPTY
10120: LIST
10121: LIST
10122: LIST
10123: LIST
10124: LIST
10125: PUSH
10126: EMPTY
10127: LIST
10128: LIST
10129: PPUSH
10130: CALL_OW 69
10134: ST_TO_ADDR
// if tmp then
10135: LD_VAR 0 2
10139: IFFALSE 10159
// SaveCharacters ( tmp , mission_prefix & others ) ;
10141: LD_VAR 0 2
10145: PPUSH
10146: LD_EXP 1
10150: PUSH
10151: LD_STRING others
10153: STR
10154: PPUSH
10155: CALL_OW 38
// YouWin ;
10159: CALL_OW 103
// end ; end_of_file
10163: PPOPN 3
10165: END
// on BuildingStarted ( b , eng ) do begin if GetBType ( b ) = b_depot and not terminal then
10166: LD_VAR 0 1
10170: PPUSH
10171: CALL_OW 266
10175: PUSH
10176: LD_INT 0
10178: EQUAL
10179: PUSH
10180: LD_EXP 3
10184: NOT
10185: AND
10186: IFFALSE 10210
// begin terminal := b ;
10188: LD_ADDR_EXP 3
10192: PUSH
10193: LD_VAR 0 1
10197: ST_TO_ADDR
// SetBName ( terminal , terminal ) ;
10198: LD_EXP 3
10202: PPUSH
10203: LD_STRING terminal
10205: PPUSH
10206: CALL_OW 500
// end ; end ;
10210: PPOPN 2
10212: END
// on BuildingComplete ( b ) do var i ;
10213: LD_INT 0
10215: PPUSH
// begin if GetSide ( b ) = 3 then
10216: LD_VAR 0 1
10220: PPUSH
10221: CALL_OW 255
10225: PUSH
10226: LD_INT 3
10228: EQUAL
10229: IFFALSE 10269
// for i = 1 to 4 do
10231: LD_ADDR_VAR 0 2
10235: PUSH
10236: DOUBLE
10237: LD_INT 1
10239: DEC
10240: ST_TO_ADDR
10241: LD_INT 4
10243: PUSH
10244: FOR_TO
10245: IFFALSE 10267
// ru_rebuild := Delete ( ru_rebuild , 1 ) ;
10247: LD_ADDR_EXP 34
10251: PUSH
10252: LD_EXP 34
10256: PPUSH
10257: LD_INT 1
10259: PPUSH
10260: CALL_OW 3
10264: ST_TO_ADDR
10265: GO 10244
10267: POP
10268: POP
// end ;
10269: PPOPN 2
10271: END
// on VehicleConstructed ( veh , fac ) do var i ;
10272: LD_INT 0
10274: PPUSH
// begin if GetSide ( veh ) = 3 then
10275: LD_VAR 0 1
10279: PPUSH
10280: CALL_OW 255
10284: PUSH
10285: LD_INT 3
10287: EQUAL
10288: IFFALSE 10371
// begin if not GetWeapon ( veh ) in [ ru_bulldozer , ru_crane , ru_cargo_bay ] then
10290: LD_VAR 0 1
10294: PPUSH
10295: CALL_OW 264
10299: PUSH
10300: LD_INT 53
10302: PUSH
10303: LD_INT 52
10305: PUSH
10306: LD_INT 51
10308: PUSH
10309: EMPTY
10310: LIST
10311: LIST
10312: LIST
10313: IN
10314: NOT
10315: IFFALSE 10333
// ru_force := ru_force ^ veh ;
10317: LD_ADDR_EXP 33
10321: PUSH
10322: LD_EXP 33
10326: PUSH
10327: LD_VAR 0 1
10331: ADD
10332: ST_TO_ADDR
// for i = 1 to 4 do
10333: LD_ADDR_VAR 0 3
10337: PUSH
10338: DOUBLE
10339: LD_INT 1
10341: DEC
10342: ST_TO_ADDR
10343: LD_INT 4
10345: PUSH
10346: FOR_TO
10347: IFFALSE 10369
// ru_produce_list := Delete ( ru_produce_list , 1 ) ;
10349: LD_ADDR_EXP 35
10353: PUSH
10354: LD_EXP 35
10358: PPUSH
10359: LD_INT 1
10361: PPUSH
10362: CALL_OW 3
10366: ST_TO_ADDR
10367: GO 10346
10369: POP
10370: POP
// end ; end ;
10371: PPOPN 3
10373: END
// on Contact ( s1 , s2 ) do begin if ( s1 = 1 and s2 = 2 ) or ( s1 = 2 and s2 = 1 ) then
10374: LD_VAR 0 1
10378: PUSH
10379: LD_INT 1
10381: EQUAL
10382: PUSH
10383: LD_VAR 0 2
10387: PUSH
10388: LD_INT 2
10390: EQUAL
10391: AND
10392: PUSH
10393: LD_VAR 0 1
10397: PUSH
10398: LD_INT 2
10400: EQUAL
10401: PUSH
10402: LD_VAR 0 2
10406: PUSH
10407: LD_INT 1
10409: EQUAL
10410: AND
10411: OR
10412: IFFALSE 10422
// player_attacked_ar := true ;
10414: LD_ADDR_EXP 16
10418: PUSH
10419: LD_INT 1
10421: ST_TO_ADDR
// end ;
10422: PPOPN 2
10424: END
// on UnitDestroyed ( un ) do begin if un = JMM then
10425: LD_VAR 0 1
10429: PUSH
10430: LD_EXP 17
10434: EQUAL
10435: IFFALSE 10444
// YouLost ( JMM ) ;
10437: LD_STRING JMM
10439: PPUSH
10440: CALL_OW 104
// if un = terminal then
10444: LD_VAR 0 1
10448: PUSH
10449: LD_EXP 3
10453: EQUAL
10454: IFFALSE 10463
// YouLost ( Terminal ) ;
10456: LD_STRING Terminal
10458: PPUSH
10459: CALL_OW 104
// if un in FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] ] ) then
10463: LD_VAR 0 1
10467: PUSH
10468: LD_INT 22
10470: PUSH
10471: LD_INT 3
10473: PUSH
10474: EMPTY
10475: LIST
10476: LIST
10477: PUSH
10478: LD_INT 21
10480: PUSH
10481: LD_INT 3
10483: PUSH
10484: EMPTY
10485: LIST
10486: LIST
10487: PUSH
10488: EMPTY
10489: LIST
10490: LIST
10491: PPUSH
10492: CALL_OW 69
10496: IN
10497: IFFALSE 10643
// begin if GetBType ( un ) in [ b_turret , b_oil_power ] then
10499: LD_VAR 0 1
10503: PPUSH
10504: CALL_OW 266
10508: PUSH
10509: LD_INT 33
10511: PUSH
10512: LD_INT 26
10514: PUSH
10515: EMPTY
10516: LIST
10517: LIST
10518: IN
10519: IFFALSE 10578
// ru_rebuild := ru_rebuild ^ [ GetBType ( un ) , GetX ( un ) , GetY ( un ) , GetDir ( un ) ] ;
10521: LD_ADDR_EXP 34
10525: PUSH
10526: LD_EXP 34
10530: PUSH
10531: LD_VAR 0 1
10535: PPUSH
10536: CALL_OW 266
10540: PUSH
10541: LD_VAR 0 1
10545: PPUSH
10546: CALL_OW 250
10550: PUSH
10551: LD_VAR 0 1
10555: PPUSH
10556: CALL_OW 251
10560: PUSH
10561: LD_VAR 0 1
10565: PPUSH
10566: CALL_OW 254
10570: PUSH
10571: EMPTY
10572: LIST
10573: LIST
10574: LIST
10575: LIST
10576: ADD
10577: ST_TO_ADDR
// if GetBType ( un ) = b_barracks then
10578: LD_VAR 0 1
10582: PPUSH
10583: CALL_OW 266
10587: PUSH
10588: LD_INT 5
10590: EQUAL
10591: IFFALSE 10643
// ru_rebuild := ru_rebuild ^ [ b_armoury , GetX ( un ) , GetY ( un ) , GetDir ( un ) ] ;
10593: LD_ADDR_EXP 34
10597: PUSH
10598: LD_EXP 34
10602: PUSH
10603: LD_INT 4
10605: PUSH
10606: LD_VAR 0 1
10610: PPUSH
10611: CALL_OW 250
10615: PUSH
10616: LD_VAR 0 1
10620: PPUSH
10621: CALL_OW 251
10625: PUSH
10626: LD_VAR 0 1
10630: PPUSH
10631: CALL_OW 254
10635: PUSH
10636: EMPTY
10637: LIST
10638: LIST
10639: LIST
10640: LIST
10641: ADD
10642: ST_TO_ADDR
// end ; if un in ru_force then
10643: LD_VAR 0 1
10647: PUSH
10648: LD_EXP 33
10652: IN
10653: IFFALSE 10686
// begin ru_force := ru_force diff un ;
10655: LD_ADDR_EXP 33
10659: PUSH
10660: LD_EXP 33
10664: PUSH
10665: LD_VAR 0 1
10669: DIFF
10670: ST_TO_ADDR
// if not ru_force then
10671: LD_EXP 33
10675: NOT
10676: IFFALSE 10686
// ru_can_attack := false ;
10678: LD_ADDR_EXP 8
10682: PUSH
10683: LD_INT 0
10685: ST_TO_ADDR
// end ; end ; end_of_file
10686: PPOPN 1
10688: END
// every 0 0$01 trigger powell_want_sib and powell_want_sib_counter do var sib ;
10689: LD_EXP 5
10693: PUSH
10694: LD_EXP 6
10698: AND
10699: IFFALSE 10777
10701: GO 10703
10703: DISABLE
10704: LD_INT 0
10706: PPUSH
// begin enable ;
10707: ENABLE
// sib := 60 - GetTerminalCargo ( ) ;
10708: LD_ADDR_VAR 0 1
10712: PUSH
10713: LD_INT 60
10715: PUSH
10716: CALL 752 0 0
10720: MINUS
10721: ST_TO_ADDR
// if sib < 0 then
10722: LD_VAR 0 1
10726: PUSH
10727: LD_INT 0
10729: LESS
10730: IFFALSE 10740
// sib := 0 ;
10732: LD_ADDR_VAR 0 1
10736: PUSH
10737: LD_INT 0
10739: ST_TO_ADDR
// display_strings := [ #Am09-1 , sib , powell_want_sib_counter ] ;
10740: LD_ADDR_OWVAR 47
10744: PUSH
10745: LD_STRING #Am09-1
10747: PUSH
10748: LD_VAR 0 1
10752: PUSH
10753: LD_EXP 6
10757: PUSH
10758: EMPTY
10759: LIST
10760: LIST
10761: LIST
10762: ST_TO_ADDR
// powell_want_sib_counter := powell_want_sib_counter - 0 0$01 ;
10763: LD_ADDR_EXP 6
10767: PUSH
10768: LD_EXP 6
10772: PUSH
10773: LD_INT 35
10775: MINUS
10776: ST_TO_ADDR
// end ;
10777: PPOPN 1
10779: END
// every 0 0$1 trigger powell_want_sib_counter = 0 0$00 do
10780: LD_EXP 6
10784: PUSH
10785: LD_INT 0
10787: EQUAL
10788: IFFALSE 10800
10790: GO 10792
10792: DISABLE
// display_strings := [ ] ;
10793: LD_ADDR_OWVAR 47
10797: PUSH
10798: EMPTY
10799: ST_TO_ADDR
10800: END
// every 0 0$35 + 1 1$0 do
10801: GO 10803
10803: DISABLE
// begin enable ;
10804: ENABLE
// CreateCratesXYR ( rand ( 1 , 5 ) , 75 , 75 , 20 , true ) ;
10805: LD_INT 1
10807: PPUSH
10808: LD_INT 5
10810: PPUSH
10811: CALL_OW 12
10815: PPUSH
10816: LD_INT 75
10818: PPUSH
10819: LD_INT 75
10821: PPUSH
10822: LD_INT 20
10824: PPUSH
10825: LD_INT 1
10827: PPUSH
10828: CALL_OW 56
// if tick > 40 40$0 then
10832: LD_OWVAR 1
10836: PUSH
10837: LD_INT 84000
10839: GREATER
10840: IFFALSE 10843
// disable ;
10842: DISABLE
// end ;
10843: END
// every 2 2$30 trigger jmm_in_ovsyenko do
10844: LD_EXP 4
10848: IFFALSE 10875
10850: GO 10852
10852: DISABLE
// begin enable ;
10853: ENABLE
// CreateCratesArea ( rand ( 2 , 5 ) , cratesArea , true ) ;
10854: LD_INT 2
10856: PPUSH
10857: LD_INT 5
10859: PPUSH
10860: CALL_OW 12
10864: PPUSH
10865: LD_INT 8
10867: PPUSH
10868: LD_INT 1
10870: PPUSH
10871: CALL_OW 55
// end ; end_of_file
10875: END
// export Vervecken , Gali , Bogdanovic , Kantor , Herczeg , Ronn , Mia ; export ar_force ; export function PrepareArabian ; var veh , tmp , i , x , y ; begin
10876: LD_INT 0
10878: PPUSH
10879: PPUSH
10880: PPUSH
10881: PPUSH
10882: PPUSH
10883: PPUSH
// x := 76 ;
10884: LD_ADDR_VAR 0 5
10888: PUSH
10889: LD_INT 76
10891: ST_TO_ADDR
// y := 147 ;
10892: LD_ADDR_VAR 0 6
10896: PUSH
10897: LD_INT 147
10899: ST_TO_ADDR
// uc_side := 2 ;
10900: LD_ADDR_OWVAR 20
10904: PUSH
10905: LD_INT 2
10907: ST_TO_ADDR
// uc_nation := 2 ;
10908: LD_ADDR_OWVAR 21
10912: PUSH
10913: LD_INT 2
10915: ST_TO_ADDR
// InitHc ;
10916: CALL_OW 19
// PrepareHuman ( sex_male , 1 , 6 ) ;
10920: LD_INT 1
10922: PPUSH
10923: LD_INT 1
10925: PPUSH
10926: LD_INT 6
10928: PPUSH
10929: CALL_OW 380
// hc_name := Nicolas Vervecken ;
10933: LD_ADDR_OWVAR 26
10937: PUSH
10938: LD_STRING Nicolas Vervecken
10940: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
10941: LD_ADDR_OWVAR 33
10945: PUSH
10946: LD_STRING SecondCharsGal
10948: ST_TO_ADDR
// hc_face_number := 3 ;
10949: LD_ADDR_OWVAR 34
10953: PUSH
10954: LD_INT 3
10956: ST_TO_ADDR
// hc_attr := [ 11 , 10 ] ;
10957: LD_ADDR_OWVAR 29
10961: PUSH
10962: LD_INT 11
10964: PUSH
10965: LD_INT 10
10967: PUSH
10968: EMPTY
10969: LIST
10970: LIST
10971: ST_TO_ADDR
// Vervecken := CreateHuman ;
10972: LD_ADDR_EXP 25
10976: PUSH
10977: CALL_OW 44
10981: ST_TO_ADDR
// ar_force := Vervecken ;
10982: LD_ADDR_EXP 32
10986: PUSH
10987: LD_EXP 25
10991: ST_TO_ADDR
// PrepareHuman ( sex_male , 2 , 6 ) ;
10992: LD_INT 1
10994: PPUSH
10995: LD_INT 2
10997: PPUSH
10998: LD_INT 6
11000: PPUSH
11001: CALL_OW 380
// hc_name := Louis Gali ;
11005: LD_ADDR_OWVAR 26
11009: PUSH
11010: LD_STRING Louis Gali
11012: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
11013: LD_ADDR_OWVAR 33
11017: PUSH
11018: LD_STRING SecondCharsGal
11020: ST_TO_ADDR
// hc_face_number := 2 ;
11021: LD_ADDR_OWVAR 34
11025: PUSH
11026: LD_INT 2
11028: ST_TO_ADDR
// hc_attr := [ 10 , 11 ] ;
11029: LD_ADDR_OWVAR 29
11033: PUSH
11034: LD_INT 10
11036: PUSH
11037: LD_INT 11
11039: PUSH
11040: EMPTY
11041: LIST
11042: LIST
11043: ST_TO_ADDR
// Gali := CreateHuman ;
11044: LD_ADDR_EXP 26
11048: PUSH
11049: CALL_OW 44
11053: ST_TO_ADDR
// ar_force := ar_force ^ Gali ;
11054: LD_ADDR_EXP 32
11058: PUSH
11059: LD_EXP 32
11063: PUSH
11064: LD_EXP 26
11068: ADD
11069: ST_TO_ADDR
// PrepareHuman ( sex_female , 1 , 6 ) ;
11070: LD_INT 2
11072: PPUSH
11073: LD_INT 1
11075: PPUSH
11076: LD_INT 6
11078: PPUSH
11079: CALL_OW 380
// hc_name := Maria Bogdanovic ;
11083: LD_ADDR_OWVAR 26
11087: PUSH
11088: LD_STRING Maria Bogdanovic
11090: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
11091: LD_ADDR_OWVAR 33
11095: PUSH
11096: LD_STRING SecondCharsGal
11098: ST_TO_ADDR
// hc_face_number := 14 ;
11099: LD_ADDR_OWVAR 34
11103: PUSH
11104: LD_INT 14
11106: ST_TO_ADDR
// hc_attr := [ 12 , 9 ] ;
11107: LD_ADDR_OWVAR 29
11111: PUSH
11112: LD_INT 12
11114: PUSH
11115: LD_INT 9
11117: PUSH
11118: EMPTY
11119: LIST
11120: LIST
11121: ST_TO_ADDR
// Bogdanovic := CreateHuman ;
11122: LD_ADDR_EXP 27
11126: PUSH
11127: CALL_OW 44
11131: ST_TO_ADDR
// ar_force := ar_force ^ Bogdanovic ;
11132: LD_ADDR_EXP 32
11136: PUSH
11137: LD_EXP 32
11141: PUSH
11142: LD_EXP 27
11146: ADD
11147: ST_TO_ADDR
// PrepareHuman ( sex_male , 3 , 6 ) ;
11148: LD_INT 1
11150: PPUSH
11151: LD_INT 3
11153: PPUSH
11154: LD_INT 6
11156: PPUSH
11157: CALL_OW 380
// hc_name = Kntor Radomr ;
11161: LD_ADDR_OWVAR 26
11165: PUSH
11166: LD_STRING Kntor Radomr
11168: ST_TO_ADDR
// hc_gallery = sandar ;
11169: LD_ADDR_OWVAR 33
11173: PUSH
11174: LD_STRING sandar
11176: ST_TO_ADDR
// hc_face_number = 12 ;
11177: LD_ADDR_OWVAR 34
11181: PUSH
11182: LD_INT 12
11184: ST_TO_ADDR
// hc_attr = [ 9 , 9 ] ;
11185: LD_ADDR_OWVAR 29
11189: PUSH
11190: LD_INT 9
11192: PUSH
11193: LD_INT 9
11195: PUSH
11196: EMPTY
11197: LIST
11198: LIST
11199: ST_TO_ADDR
// Kantor = CreateHuman ;
11200: LD_ADDR_EXP 28
11204: PUSH
11205: CALL_OW 44
11209: ST_TO_ADDR
// ar_force := ar_force ^ Kantor ;
11210: LD_ADDR_EXP 32
11214: PUSH
11215: LD_EXP 32
11219: PUSH
11220: LD_EXP 28
11224: ADD
11225: ST_TO_ADDR
// PrepareHuman ( sex_male , 3 , 6 ) ;
11226: LD_INT 1
11228: PPUSH
11229: LD_INT 3
11231: PPUSH
11232: LD_INT 6
11234: PPUSH
11235: CALL_OW 380
// hc_name = Herczeg Farkas ;
11239: LD_ADDR_OWVAR 26
11243: PUSH
11244: LD_STRING Herczeg Farkas
11246: ST_TO_ADDR
// hc_gallery = sandar ;
11247: LD_ADDR_OWVAR 33
11251: PUSH
11252: LD_STRING sandar
11254: ST_TO_ADDR
// hc_face_number = 28 ;
11255: LD_ADDR_OWVAR 34
11259: PUSH
11260: LD_INT 28
11262: ST_TO_ADDR
// hc_attr = [ 10 , 9 ] ;
11263: LD_ADDR_OWVAR 29
11267: PUSH
11268: LD_INT 10
11270: PUSH
11271: LD_INT 9
11273: PUSH
11274: EMPTY
11275: LIST
11276: LIST
11277: ST_TO_ADDR
// Herczeg = CreateHuman ;
11278: LD_ADDR_EXP 29
11282: PUSH
11283: CALL_OW 44
11287: ST_TO_ADDR
// ar_force := ar_force ^ Herczeg ;
11288: LD_ADDR_EXP 32
11292: PUSH
11293: LD_EXP 32
11297: PUSH
11298: LD_EXP 29
11302: ADD
11303: ST_TO_ADDR
// PrepareHuman ( sex_male , 1 , 6 ) ;
11304: LD_INT 1
11306: PPUSH
11307: LD_INT 1
11309: PPUSH
11310: LD_INT 6
11312: PPUSH
11313: CALL_OW 380
// hc_name = Ronn Horntvedt ;
11317: LD_ADDR_OWVAR 26
11321: PUSH
11322: LD_STRING Ronn Horntvedt
11324: ST_TO_ADDR
// hc_gallery = sandar ;
11325: LD_ADDR_OWVAR 33
11329: PUSH
11330: LD_STRING sandar
11332: ST_TO_ADDR
// hc_face_number = 29 ;
11333: LD_ADDR_OWVAR 34
11337: PUSH
11338: LD_INT 29
11340: ST_TO_ADDR
// hc_attr = [ 11 , 11 ] ;
11341: LD_ADDR_OWVAR 29
11345: PUSH
11346: LD_INT 11
11348: PUSH
11349: LD_INT 11
11351: PUSH
11352: EMPTY
11353: LIST
11354: LIST
11355: ST_TO_ADDR
// Ronn = CreateHuman ;
11356: LD_ADDR_EXP 30
11360: PUSH
11361: CALL_OW 44
11365: ST_TO_ADDR
// ar_force := ar_force ^ Ronn ;
11366: LD_ADDR_EXP 32
11370: PUSH
11371: LD_EXP 32
11375: PUSH
11376: LD_EXP 30
11380: ADD
11381: ST_TO_ADDR
// PrepareHuman ( sex_female , 3 , 6 ) ;
11382: LD_INT 2
11384: PPUSH
11385: LD_INT 3
11387: PPUSH
11388: LD_INT 6
11390: PPUSH
11391: CALL_OW 380
// hc_name = Mia D. Mathiasen ;
11395: LD_ADDR_OWVAR 26
11399: PUSH
11400: LD_STRING Mia D. Mathiasen
11402: ST_TO_ADDR
// hc_gallery = sandar ;
11403: LD_ADDR_OWVAR 33
11407: PUSH
11408: LD_STRING sandar
11410: ST_TO_ADDR
// hc_face_number = 31 ;
11411: LD_ADDR_OWVAR 34
11415: PUSH
11416: LD_INT 31
11418: ST_TO_ADDR
// hc_attr = [ 10 , 10 ] ;
11419: LD_ADDR_OWVAR 29
11423: PUSH
11424: LD_INT 10
11426: PUSH
11427: LD_INT 10
11429: PUSH
11430: EMPTY
11431: LIST
11432: LIST
11433: ST_TO_ADDR
// Mia = CreateHuman ;
11434: LD_ADDR_EXP 31
11438: PUSH
11439: CALL_OW 44
11443: ST_TO_ADDR
// ar_force := ar_force ^ Mia ;
11444: LD_ADDR_EXP 32
11448: PUSH
11449: LD_EXP 32
11453: PUSH
11454: LD_EXP 31
11458: ADD
11459: ST_TO_ADDR
// for i = 1 to 2 do
11460: LD_ADDR_VAR 0 4
11464: PUSH
11465: DOUBLE
11466: LD_INT 1
11468: DEC
11469: ST_TO_ADDR
11470: LD_INT 2
11472: PUSH
11473: FOR_TO
11474: IFFALSE 11515
// tmp := tmp ^ PrepareTank ( 2 , 2 , ar_half_tracked , engine_combustion , control_manual , ar_cargo_bay , 30 ) ;
11476: LD_ADDR_VAR 0 3
11480: PUSH
11481: LD_VAR 0 3
11485: PUSH
11486: LD_INT 2
11488: PPUSH
11489: LD_INT 2
11491: PPUSH
11492: LD_INT 14
11494: PPUSH
11495: LD_INT 1
11497: PPUSH
11498: LD_INT 1
11500: PPUSH
11501: LD_INT 32
11503: PPUSH
11504: LD_INT 30
11506: PPUSH
11507: CALL 252 0 7
11511: ADD
11512: ST_TO_ADDR
11513: GO 11473
11515: POP
11516: POP
// tmp := tmp ^ PrepareTank ( 2 , 2 , ar_half_tracked , engine_combustion , control_manual , ar_flame_thrower , 33 ) ;
11517: LD_ADDR_VAR 0 3
11521: PUSH
11522: LD_VAR 0 3
11526: PUSH
11527: LD_INT 2
11529: PPUSH
11530: LD_INT 2
11532: PPUSH
11533: LD_INT 14
11535: PPUSH
11536: LD_INT 1
11538: PPUSH
11539: LD_INT 1
11541: PPUSH
11542: LD_INT 26
11544: PPUSH
11545: LD_INT 33
11547: PPUSH
11548: CALL 252 0 7
11552: ADD
11553: ST_TO_ADDR
// tmp := tmp diff 0 ;
11554: LD_ADDR_VAR 0 3
11558: PUSH
11559: LD_VAR 0 3
11563: PUSH
11564: LD_INT 0
11566: DIFF
11567: ST_TO_ADDR
// for i in ar_force do
11568: LD_ADDR_VAR 0 4
11572: PUSH
11573: LD_EXP 32
11577: PUSH
11578: FOR_IN
11579: IFFALSE 11722
// begin if GetClass ( i ) = 3 then
11581: LD_VAR 0 4
11585: PPUSH
11586: CALL_OW 257
11590: PUSH
11591: LD_INT 3
11593: EQUAL
11594: IFFALSE 11676
// begin SetDir ( tmp [ 1 ] , 1 ) ;
11596: LD_VAR 0 3
11600: PUSH
11601: LD_INT 1
11603: ARRAY
11604: PPUSH
11605: LD_INT 1
11607: PPUSH
11608: CALL_OW 233
// PlaceUnitXY ( tmp [ 1 ] , x , y , false ) ;
11612: LD_VAR 0 3
11616: PUSH
11617: LD_INT 1
11619: ARRAY
11620: PPUSH
11621: LD_VAR 0 5
11625: PPUSH
11626: LD_VAR 0 6
11630: PPUSH
11631: LD_INT 0
11633: PPUSH
11634: CALL_OW 48
// PlaceHumanInUnit ( i , tmp [ 1 ] ) ;
11638: LD_VAR 0 4
11642: PPUSH
11643: LD_VAR 0 3
11647: PUSH
11648: LD_INT 1
11650: ARRAY
11651: PPUSH
11652: CALL_OW 52
// tmp := Delete ( tmp , 1 ) ;
11656: LD_ADDR_VAR 0 3
11660: PUSH
11661: LD_VAR 0 3
11665: PPUSH
11666: LD_INT 1
11668: PPUSH
11669: CALL_OW 3
11673: ST_TO_ADDR
// end else
11674: GO 11698
// PlaceUnitXY ( i , x , y , false ) ;
11676: LD_VAR 0 4
11680: PPUSH
11681: LD_VAR 0 5
11685: PPUSH
11686: LD_VAR 0 6
11690: PPUSH
11691: LD_INT 0
11693: PPUSH
11694: CALL_OW 48
// ComMoveXY ( i , 86 , 121 ) ;
11698: LD_VAR 0 4
11702: PPUSH
11703: LD_INT 86
11705: PPUSH
11706: LD_INT 121
11708: PPUSH
11709: CALL_OW 111
// wait ( 0 0$2 ) ;
11713: LD_INT 70
11715: PPUSH
11716: CALL_OW 67
// end ;
11720: GO 11578
11722: POP
11723: POP
// ar_force := ar_force ^ tmp ;
11724: LD_ADDR_EXP 32
11728: PUSH
11729: LD_EXP 32
11733: PUSH
11734: LD_VAR 0 3
11738: ADD
11739: ST_TO_ADDR
// ar_spawned := true ;
11740: LD_ADDR_EXP 11
11744: PUSH
11745: LD_INT 1
11747: ST_TO_ADDR
// end ; end_of_file
11748: LD_VAR 0 1
11752: RET
// export ru_force , ru_rebuild , ru_produce_list ; export function PrepareRussian ; var i , un , tmp , skill , lab , dep ; begin
11753: LD_INT 0
11755: PPUSH
11756: PPUSH
11757: PPUSH
11758: PPUSH
11759: PPUSH
11760: PPUSH
11761: PPUSH
// InitHc ;
11762: CALL_OW 19
// uc_side := 3 ;
11766: LD_ADDR_OWVAR 20
11770: PUSH
11771: LD_INT 3
11773: ST_TO_ADDR
// uc_nation := 3 ;
11774: LD_ADDR_OWVAR 21
11778: PUSH
11779: LD_INT 3
11781: ST_TO_ADDR
// skill := [ 5 , 6 , 7 ] [ Difficulty ] ;
11782: LD_ADDR_VAR 0 5
11786: PUSH
11787: LD_INT 5
11789: PUSH
11790: LD_INT 6
11792: PUSH
11793: LD_INT 7
11795: PUSH
11796: EMPTY
11797: LIST
11798: LIST
11799: LIST
11800: PUSH
11801: LD_OWVAR 67
11805: ARRAY
11806: ST_TO_ADDR
// ru_force := [ ] ;
11807: LD_ADDR_EXP 33
11811: PUSH
11812: EMPTY
11813: ST_TO_ADDR
// ru_rebuild := [ ] ;
11814: LD_ADDR_EXP 34
11818: PUSH
11819: EMPTY
11820: ST_TO_ADDR
// ru_produce_list := [ ru_heavy_tracked , engine_combustion , control_computer , ru_bulldozer ] ;
11821: LD_ADDR_EXP 35
11825: PUSH
11826: LD_INT 24
11828: PUSH
11829: LD_INT 1
11831: PUSH
11832: LD_INT 3
11834: PUSH
11835: LD_INT 53
11837: PUSH
11838: EMPTY
11839: LIST
11840: LIST
11841: LIST
11842: LIST
11843: ST_TO_ADDR
// lab := FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_lab_full ] ] ) [ 1 ] ;
11844: LD_ADDR_VAR 0 6
11848: PUSH
11849: LD_INT 22
11851: PUSH
11852: LD_INT 3
11854: PUSH
11855: EMPTY
11856: LIST
11857: LIST
11858: PUSH
11859: LD_INT 30
11861: PUSH
11862: LD_INT 8
11864: PUSH
11865: EMPTY
11866: LIST
11867: LIST
11868: PUSH
11869: EMPTY
11870: LIST
11871: LIST
11872: PPUSH
11873: CALL_OW 69
11877: PUSH
11878: LD_INT 1
11880: ARRAY
11881: ST_TO_ADDR
// tmp := [ ru_gatling_gun , ru_heavy_gun , ru_rocket_launcher ] ;
11882: LD_ADDR_VAR 0 4
11886: PUSH
11887: LD_INT 43
11889: PUSH
11890: LD_INT 46
11892: PUSH
11893: LD_INT 45
11895: PUSH
11896: EMPTY
11897: LIST
11898: LIST
11899: LIST
11900: ST_TO_ADDR
// dep := FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_warehouse ] ] ) [ 1 ] ;
11901: LD_ADDR_VAR 0 7
11905: PUSH
11906: LD_INT 22
11908: PUSH
11909: LD_INT 3
11911: PUSH
11912: EMPTY
11913: LIST
11914: LIST
11915: PUSH
11916: LD_INT 30
11918: PUSH
11919: LD_INT 1
11921: PUSH
11922: EMPTY
11923: LIST
11924: LIST
11925: PUSH
11926: EMPTY
11927: LIST
11928: LIST
11929: PPUSH
11930: CALL_OW 69
11934: PUSH
11935: LD_INT 1
11937: ARRAY
11938: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , 5000 ) ;
11939: LD_VAR 0 7
11943: PPUSH
11944: CALL_OW 274
11948: PPUSH
11949: LD_INT 1
11951: PPUSH
11952: LD_INT 5000
11954: PPUSH
11955: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , 1000 ) ;
11959: LD_VAR 0 7
11963: PPUSH
11964: CALL_OW 274
11968: PPUSH
11969: LD_INT 2
11971: PPUSH
11972: LD_INT 1000
11974: PPUSH
11975: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , 30 ) ;
11979: LD_VAR 0 7
11983: PPUSH
11984: CALL_OW 274
11988: PPUSH
11989: LD_INT 3
11991: PPUSH
11992: LD_INT 30
11994: PPUSH
11995: CALL_OW 277
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_turret ] ] ) do
11999: LD_ADDR_VAR 0 2
12003: PUSH
12004: LD_INT 22
12006: PUSH
12007: LD_INT 3
12009: PUSH
12010: EMPTY
12011: LIST
12012: LIST
12013: PUSH
12014: LD_INT 30
12016: PUSH
12017: LD_INT 33
12019: PUSH
12020: EMPTY
12021: LIST
12022: LIST
12023: PUSH
12024: EMPTY
12025: LIST
12026: LIST
12027: PPUSH
12028: CALL_OW 69
12032: PUSH
12033: FOR_IN
12034: IFFALSE 12066
// begin PlaceWeaponTurret ( i , tmp [ rand ( 1 , tmp ) ] ) ;
12036: LD_VAR 0 2
12040: PPUSH
12041: LD_VAR 0 4
12045: PUSH
12046: LD_INT 1
12048: PPUSH
12049: LD_VAR 0 4
12053: PPUSH
12054: CALL_OW 12
12058: ARRAY
12059: PPUSH
12060: CALL_OW 431
// end ;
12064: GO 12033
12066: POP
12067: POP
// for i = 1 to 4 do
12068: LD_ADDR_VAR 0 2
12072: PUSH
12073: DOUBLE
12074: LD_INT 1
12076: DEC
12077: ST_TO_ADDR
12078: LD_INT 4
12080: PUSH
12081: FOR_TO
12082: IFFALSE 12143
// begin PrepareHuman ( false , class_bazooker , skill ) ;
12084: LD_INT 0
12086: PPUSH
12087: LD_INT 9
12089: PPUSH
12090: LD_VAR 0 5
12094: PPUSH
12095: CALL_OW 380
// PlaceHumanInUnit ( CreateHuman , FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_barracks ] ] ) [ 1 ] ) ;
12099: CALL_OW 44
12103: PPUSH
12104: LD_INT 22
12106: PUSH
12107: LD_INT 3
12109: PUSH
12110: EMPTY
12111: LIST
12112: LIST
12113: PUSH
12114: LD_INT 30
12116: PUSH
12117: LD_INT 5
12119: PUSH
12120: EMPTY
12121: LIST
12122: LIST
12123: PUSH
12124: EMPTY
12125: LIST
12126: LIST
12127: PPUSH
12128: CALL_OW 69
12132: PUSH
12133: LD_INT 1
12135: ARRAY
12136: PPUSH
12137: CALL_OW 52
// end ;
12141: GO 12081
12143: POP
12144: POP
// for i = 1 to 5 do
12145: LD_ADDR_VAR 0 2
12149: PUSH
12150: DOUBLE
12151: LD_INT 1
12153: DEC
12154: ST_TO_ADDR
12155: LD_INT 5
12157: PUSH
12158: FOR_TO
12159: IFFALSE 12220
// begin PrepareHuman ( false , class_mechanic , skill ) ;
12161: LD_INT 0
12163: PPUSH
12164: LD_INT 3
12166: PPUSH
12167: LD_VAR 0 5
12171: PPUSH
12172: CALL_OW 380
// PlaceHumanInUnit ( CreateHuman , FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_factory ] ] ) [ 1 ] ) ;
12176: CALL_OW 44
12180: PPUSH
12181: LD_INT 22
12183: PUSH
12184: LD_INT 3
12186: PUSH
12187: EMPTY
12188: LIST
12189: LIST
12190: PUSH
12191: LD_INT 30
12193: PUSH
12194: LD_INT 3
12196: PUSH
12197: EMPTY
12198: LIST
12199: LIST
12200: PUSH
12201: EMPTY
12202: LIST
12203: LIST
12204: PPUSH
12205: CALL_OW 69
12209: PUSH
12210: LD_INT 1
12212: ARRAY
12213: PPUSH
12214: CALL_OW 52
// end ;
12218: GO 12158
12220: POP
12221: POP
// for i = 1 to 4 do
12222: LD_ADDR_VAR 0 2
12226: PUSH
12227: DOUBLE
12228: LD_INT 1
12230: DEC
12231: ST_TO_ADDR
12232: LD_INT 4
12234: PUSH
12235: FOR_TO
12236: IFFALSE 12297
// begin PrepareHuman ( false , class_engineer , skill ) ;
12238: LD_INT 0
12240: PPUSH
12241: LD_INT 2
12243: PPUSH
12244: LD_VAR 0 5
12248: PPUSH
12249: CALL_OW 380
// PlaceHumanInUnit ( CreateHuman , FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_warehouse ] ] ) [ 1 ] ) ;
12253: CALL_OW 44
12257: PPUSH
12258: LD_INT 22
12260: PUSH
12261: LD_INT 3
12263: PUSH
12264: EMPTY
12265: LIST
12266: LIST
12267: PUSH
12268: LD_INT 30
12270: PUSH
12271: LD_INT 1
12273: PUSH
12274: EMPTY
12275: LIST
12276: LIST
12277: PUSH
12278: EMPTY
12279: LIST
12280: LIST
12281: PPUSH
12282: CALL_OW 69
12286: PUSH
12287: LD_INT 1
12289: ARRAY
12290: PPUSH
12291: CALL_OW 52
// end ;
12295: GO 12235
12297: POP
12298: POP
// for i = 1 to 3 do
12299: LD_ADDR_VAR 0 2
12303: PUSH
12304: DOUBLE
12305: LD_INT 1
12307: DEC
12308: ST_TO_ADDR
12309: LD_INT 3
12311: PUSH
12312: FOR_TO
12313: IFFALSE 12346
// begin PrepareHuman ( false , class_scientistic , skill ) ;
12315: LD_INT 0
12317: PPUSH
12318: LD_INT 4
12320: PPUSH
12321: LD_VAR 0 5
12325: PPUSH
12326: CALL_OW 380
// PlaceHumanInUnit ( CreateHuman , lab ) ;
12330: CALL_OW 44
12334: PPUSH
12335: LD_VAR 0 6
12339: PPUSH
12340: CALL_OW 52
// end ;
12344: GO 12312
12346: POP
12347: POP
// AddComResearch ( lab , tech_tech2 ) ;
12348: LD_VAR 0 6
12352: PPUSH
12353: LD_INT 49
12355: PPUSH
12356: CALL_OW 184
// AddComResearch ( lab , tech_tech3 ) ;
12360: LD_VAR 0 6
12364: PPUSH
12365: LD_INT 50
12367: PPUSH
12368: CALL_OW 184
// AddComResearch ( lab , tech_weap1 ) ;
12372: LD_VAR 0 6
12376: PPUSH
12377: LD_INT 51
12379: PPUSH
12380: CALL_OW 184
// AddComResearch ( lab , tech_weap2 ) ;
12384: LD_VAR 0 6
12388: PPUSH
12389: LD_INT 52
12391: PPUSH
12392: CALL_OW 184
// AddComResearch ( lab , tech_gatling ) ;
12396: LD_VAR 0 6
12400: PPUSH
12401: LD_INT 69
12403: PPUSH
12404: CALL_OW 184
// AddComResearch ( lab , tech_gun ) ;
12408: LD_VAR 0 6
12412: PPUSH
12413: LD_INT 39
12415: PPUSH
12416: CALL_OW 184
// AddComResearch ( lab , tech_advmet ) ;
12420: LD_VAR 0 6
12424: PPUSH
12425: LD_INT 34
12427: PPUSH
12428: CALL_OW 184
// AddComResearch ( lab , tech_rocket ) ;
12432: LD_VAR 0 6
12436: PPUSH
12437: LD_INT 40
12439: PPUSH
12440: CALL_OW 184
// AddComResearch ( lab , tech_comp1 ) ;
12444: LD_VAR 0 6
12448: PPUSH
12449: LD_INT 57
12451: PPUSH
12452: CALL_OW 184
// if Difficulty > 1 then
12456: LD_OWVAR 67
12460: PUSH
12461: LD_INT 1
12463: GREATER
12464: IFFALSE 12478
// AddComResearch ( lab , tech_comp2 ) ;
12466: LD_VAR 0 6
12470: PPUSH
12471: LD_INT 58
12473: PPUSH
12474: CALL_OW 184
// end ;
12478: LD_VAR 0 1
12482: RET
// every 5 5$00 trigger FilterAllUnits ( [ [ f_side , 3 ] , [ f_weapon , ru_bulldozer ] ] ) do var i , un ;
12483: LD_INT 22
12485: PUSH
12486: LD_INT 3
12488: PUSH
12489: EMPTY
12490: LIST
12491: LIST
12492: PUSH
12493: LD_INT 34
12495: PUSH
12496: LD_INT 53
12498: PUSH
12499: EMPTY
12500: LIST
12501: LIST
12502: PUSH
12503: EMPTY
12504: LIST
12505: LIST
12506: PPUSH
12507: CALL_OW 69
12511: IFFALSE 12589
12513: GO 12515
12515: DISABLE
12516: LD_INT 0
12518: PPUSH
12519: PPUSH
// begin un := FilterAllUnits ( [ [ f_side , 3 ] , [ f_weapon , ru_bulldozer ] ] ) ;
12520: LD_ADDR_VAR 0 2
12524: PUSH
12525: LD_INT 22
12527: PUSH
12528: LD_INT 3
12530: PUSH
12531: EMPTY
12532: LIST
12533: LIST
12534: PUSH
12535: LD_INT 34
12537: PUSH
12538: LD_INT 53
12540: PUSH
12541: EMPTY
12542: LIST
12543: LIST
12544: PUSH
12545: EMPTY
12546: LIST
12547: LIST
12548: PPUSH
12549: CALL_OW 69
12553: ST_TO_ADDR
// CutTreeInArea ( un [ 1 ] , cutTreeArea ) ;
12554: LD_VAR 0 2
12558: PUSH
12559: LD_INT 1
12561: ARRAY
12562: PPUSH
12563: LD_INT 7
12565: PPUSH
12566: CALL 910 0 2
// AddComMoveXY ( un [ 1 ] , 170 , 235 ) ;
12570: LD_VAR 0 2
12574: PUSH
12575: LD_INT 1
12577: ARRAY
12578: PPUSH
12579: LD_INT 170
12581: PPUSH
12582: LD_INT 235
12584: PPUSH
12585: CALL_OW 171
// end ;
12589: PPOPN 2
12591: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] ] ) do var un , i , tmp , engs , dep , to_heal , sci , lab ;
12592: LD_INT 22
12594: PUSH
12595: LD_INT 3
12597: PUSH
12598: EMPTY
12599: LIST
12600: LIST
12601: PUSH
12602: LD_INT 21
12604: PUSH
12605: LD_INT 3
12607: PUSH
12608: EMPTY
12609: LIST
12610: LIST
12611: PUSH
12612: EMPTY
12613: LIST
12614: LIST
12615: PPUSH
12616: CALL_OW 69
12620: IFFALSE 13398
12622: GO 12624
12624: DISABLE
12625: LD_INT 0
12627: PPUSH
12628: PPUSH
12629: PPUSH
12630: PPUSH
12631: PPUSH
12632: PPUSH
12633: PPUSH
12634: PPUSH
// begin enable ;
12635: ENABLE
// tmp := FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] , [ f_not , [ f_lives , 1000 ] ] ] ) ;
12636: LD_ADDR_VAR 0 3
12640: PUSH
12641: LD_INT 22
12643: PUSH
12644: LD_INT 3
12646: PUSH
12647: EMPTY
12648: LIST
12649: LIST
12650: PUSH
12651: LD_INT 21
12653: PUSH
12654: LD_INT 3
12656: PUSH
12657: EMPTY
12658: LIST
12659: LIST
12660: PUSH
12661: LD_INT 3
12663: PUSH
12664: LD_INT 24
12666: PUSH
12667: LD_INT 1000
12669: PUSH
12670: EMPTY
12671: LIST
12672: LIST
12673: PUSH
12674: EMPTY
12675: LIST
12676: LIST
12677: PUSH
12678: EMPTY
12679: LIST
12680: LIST
12681: LIST
12682: PPUSH
12683: CALL_OW 69
12687: ST_TO_ADDR
// engs := FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 2 ] ] ) ;
12688: LD_ADDR_VAR 0 4
12692: PUSH
12693: LD_INT 22
12695: PUSH
12696: LD_INT 3
12698: PUSH
12699: EMPTY
12700: LIST
12701: LIST
12702: PUSH
12703: LD_INT 25
12705: PUSH
12706: LD_INT 2
12708: PUSH
12709: EMPTY
12710: LIST
12711: LIST
12712: PUSH
12713: EMPTY
12714: LIST
12715: LIST
12716: PPUSH
12717: CALL_OW 69
12721: ST_TO_ADDR
// dep := FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_warehouse ] ] ) [ 1 ] ;
12722: LD_ADDR_VAR 0 5
12726: PUSH
12727: LD_INT 22
12729: PUSH
12730: LD_INT 3
12732: PUSH
12733: EMPTY
12734: LIST
12735: LIST
12736: PUSH
12737: LD_INT 30
12739: PUSH
12740: LD_INT 1
12742: PUSH
12743: EMPTY
12744: LIST
12745: LIST
12746: PUSH
12747: EMPTY
12748: LIST
12749: LIST
12750: PPUSH
12751: CALL_OW 69
12755: PUSH
12756: LD_INT 1
12758: ARRAY
12759: ST_TO_ADDR
// lab := FilterAllUnits ( [ [ f_side , 3 ] , [ f_or , [ f_btype , b_lab ] , [ f_btype , b_lab_half ] , [ f_btype , b_lab_full ] ] ] ) [ 1 ] ;
12760: LD_ADDR_VAR 0 8
12764: PUSH
12765: LD_INT 22
12767: PUSH
12768: LD_INT 3
12770: PUSH
12771: EMPTY
12772: LIST
12773: LIST
12774: PUSH
12775: LD_INT 2
12777: PUSH
12778: LD_INT 30
12780: PUSH
12781: LD_INT 6
12783: PUSH
12784: EMPTY
12785: LIST
12786: LIST
12787: PUSH
12788: LD_INT 30
12790: PUSH
12791: LD_INT 7
12793: PUSH
12794: EMPTY
12795: LIST
12796: LIST
12797: PUSH
12798: LD_INT 30
12800: PUSH
12801: LD_INT 8
12803: PUSH
12804: EMPTY
12805: LIST
12806: LIST
12807: PUSH
12808: EMPTY
12809: LIST
12810: LIST
12811: LIST
12812: LIST
12813: PUSH
12814: EMPTY
12815: LIST
12816: LIST
12817: PPUSH
12818: CALL_OW 69
12822: PUSH
12823: LD_INT 1
12825: ARRAY
12826: ST_TO_ADDR
// if not engs then
12827: LD_VAR 0 4
12831: NOT
12832: IFFALSE 12836
// exit ;
12834: GO 13398
// to_heal := UnitFilter ( engs , [ f_not , [ f_lives , 600 ] ] ) ;
12836: LD_ADDR_VAR 0 6
12840: PUSH
12841: LD_VAR 0 4
12845: PPUSH
12846: LD_INT 3
12848: PUSH
12849: LD_INT 24
12851: PUSH
12852: LD_INT 600
12854: PUSH
12855: EMPTY
12856: LIST
12857: LIST
12858: PUSH
12859: EMPTY
12860: LIST
12861: LIST
12862: PPUSH
12863: CALL_OW 72
12867: ST_TO_ADDR
// sci := FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 4 ] ] ) ;
12868: LD_ADDR_VAR 0 7
12872: PUSH
12873: LD_INT 22
12875: PUSH
12876: LD_INT 3
12878: PUSH
12879: EMPTY
12880: LIST
12881: LIST
12882: PUSH
12883: LD_INT 25
12885: PUSH
12886: LD_INT 4
12888: PUSH
12889: EMPTY
12890: LIST
12891: LIST
12892: PUSH
12893: EMPTY
12894: LIST
12895: LIST
12896: PPUSH
12897: CALL_OW 69
12901: ST_TO_ADDR
// if not tmp and not ru_rebuild then
12902: LD_VAR 0 3
12906: NOT
12907: PUSH
12908: LD_EXP 34
12912: NOT
12913: AND
12914: IFFALSE 12974
// begin if UnitFilter ( engs , [ f_not , [ f_inside ] ] ) then
12916: LD_VAR 0 4
12920: PPUSH
12921: LD_INT 3
12923: PUSH
12924: LD_INT 54
12926: PUSH
12927: EMPTY
12928: LIST
12929: PUSH
12930: EMPTY
12931: LIST
12932: LIST
12933: PPUSH
12934: CALL_OW 72
12938: IFFALSE 12972
// ComEnterUnit ( UnitFilter ( engs , [ f_not , [ f_inside ] ] ) , dep ) ;
12940: LD_VAR 0 4
12944: PPUSH
12945: LD_INT 3
12947: PUSH
12948: LD_INT 54
12950: PUSH
12951: EMPTY
12952: LIST
12953: PUSH
12954: EMPTY
12955: LIST
12956: LIST
12957: PPUSH
12958: CALL_OW 72
12962: PPUSH
12963: LD_VAR 0 5
12967: PPUSH
12968: CALL_OW 120
// exit ;
12972: GO 13398
// end ; if UnitFilter ( engs , [ f_inside ] ) then
12974: LD_VAR 0 4
12978: PPUSH
12979: LD_INT 54
12981: PUSH
12982: EMPTY
12983: LIST
12984: PPUSH
12985: CALL_OW 72
12989: IFFALSE 13011
// ComExitBuilding ( UnitFilter ( engs , [ f_inside ] ) ) ;
12991: LD_VAR 0 4
12995: PPUSH
12996: LD_INT 54
12998: PUSH
12999: EMPTY
13000: LIST
13001: PPUSH
13002: CALL_OW 72
13006: PPUSH
13007: CALL_OW 122
// if not tmp then
13011: LD_VAR 0 3
13015: NOT
13016: IFFALSE 13148
// begin if not FilterAllUnits ( [ [ f_enemy , 3 ] , [ f_distxy , 147 , 212 , 30 ] ] ) then
13018: LD_INT 81
13020: PUSH
13021: LD_INT 3
13023: PUSH
13024: EMPTY
13025: LIST
13026: LIST
13027: PUSH
13028: LD_INT 92
13030: PUSH
13031: LD_INT 147
13033: PUSH
13034: LD_INT 212
13036: PUSH
13037: LD_INT 30
13039: PUSH
13040: EMPTY
13041: LIST
13042: LIST
13043: LIST
13044: LIST
13045: PUSH
13046: EMPTY
13047: LIST
13048: LIST
13049: PPUSH
13050: CALL_OW 69
13054: NOT
13055: IFFALSE 13148
// begin if not HasTask ( engs [ 1 ] ) then
13057: LD_VAR 0 4
13061: PUSH
13062: LD_INT 1
13064: ARRAY
13065: PPUSH
13066: CALL_OW 314
13070: NOT
13071: IFFALSE 13148
// begin i := ComBuild ( engs , ru_rebuild [ 1 ] , ru_rebuild [ 2 ] , ru_rebuild [ 3 ] , ru_rebuild [ 4 ] ) ;
13073: LD_ADDR_VAR 0 2
13077: PUSH
13078: LD_VAR 0 4
13082: PPUSH
13083: LD_EXP 34
13087: PUSH
13088: LD_INT 1
13090: ARRAY
13091: PPUSH
13092: LD_EXP 34
13096: PUSH
13097: LD_INT 2
13099: ARRAY
13100: PPUSH
13101: LD_EXP 34
13105: PUSH
13106: LD_INT 3
13108: ARRAY
13109: PPUSH
13110: LD_EXP 34
13114: PUSH
13115: LD_INT 4
13117: ARRAY
13118: PPUSH
13119: CALL_OW 145
13123: ST_TO_ADDR
// if GetBType ( i ) = b_armoury then
13124: LD_VAR 0 2
13128: PPUSH
13129: CALL_OW 266
13133: PUSH
13134: LD_INT 4
13136: EQUAL
13137: IFFALSE 13148
// AddComUpgrade ( i ) ;
13139: LD_VAR 0 2
13143: PPUSH
13144: CALL_OW 206
// end ; end ; end ; for i in engs do
13148: LD_ADDR_VAR 0 2
13152: PUSH
13153: LD_VAR 0 4
13157: PUSH
13158: FOR_IN
13159: IFFALSE 13277
// begin if i in to_heal and sci then
13161: LD_VAR 0 2
13165: PUSH
13166: LD_VAR 0 6
13170: IN
13171: PUSH
13172: LD_VAR 0 7
13176: AND
13177: IFFALSE 13228
// begin if GetDistUnitXY ( i , 149 , 220 ) < 5 then
13179: LD_VAR 0 2
13183: PPUSH
13184: LD_INT 149
13186: PPUSH
13187: LD_INT 220
13189: PPUSH
13190: CALL_OW 297
13194: PUSH
13195: LD_INT 5
13197: LESS
13198: IFFALSE 13202
// continue ;
13200: GO 13158
// ComMoveXY ( i , 149 , 220 ) ;
13202: LD_VAR 0 2
13206: PPUSH
13207: LD_INT 149
13209: PPUSH
13210: LD_INT 220
13212: PPUSH
13213: CALL_OW 111
// AddComHold ( i ) ;
13217: LD_VAR 0 2
13221: PPUSH
13222: CALL_OW 200
// end else
13226: GO 13275
// if not HasTask ( i ) or WantsToAttack ( i ) then
13228: LD_VAR 0 2
13232: PPUSH
13233: CALL_OW 314
13237: NOT
13238: PUSH
13239: LD_VAR 0 2
13243: PPUSH
13244: CALL_OW 319
13248: OR
13249: IFFALSE 13275
// ComRepairBuilding ( i , NearestUnitToUnit ( tmp , i ) ) ;
13251: LD_VAR 0 2
13255: PPUSH
13256: LD_VAR 0 3
13260: PPUSH
13261: LD_VAR 0 2
13265: PPUSH
13266: CALL_OW 74
13270: PPUSH
13271: CALL_OW 130
// end ;
13275: GO 13158
13277: POP
13278: POP
// if to_heal and sci then
13279: LD_VAR 0 6
13283: PUSH
13284: LD_VAR 0 7
13288: AND
13289: IFFALSE 13350
// begin if UnitFilter ( sci , [ f_inside ] ) then
13291: LD_VAR 0 7
13295: PPUSH
13296: LD_INT 54
13298: PUSH
13299: EMPTY
13300: LIST
13301: PPUSH
13302: CALL_OW 72
13306: IFFALSE 13330
// ComExitBuilding ( UnitFilter ( sci , [ f_inside ] ) ) else
13308: LD_VAR 0 7
13312: PPUSH
13313: LD_INT 54
13315: PUSH
13316: EMPTY
13317: LIST
13318: PPUSH
13319: CALL_OW 72
13323: PPUSH
13324: CALL_OW 122
13328: GO 13348
// ComHeal ( sci , to_heal [ 1 ] ) ;
13330: LD_VAR 0 7
13334: PPUSH
13335: LD_VAR 0 6
13339: PUSH
13340: LD_INT 1
13342: ARRAY
13343: PPUSH
13344: CALL_OW 128
// end else
13348: GO 13398
// if UnitFilter ( sci , [ f_outside ] ) and lab then
13350: LD_VAR 0 7
13354: PPUSH
13355: LD_INT 56
13357: PUSH
13358: EMPTY
13359: LIST
13360: PPUSH
13361: CALL_OW 72
13365: PUSH
13366: LD_VAR 0 8
13370: AND
13371: IFFALSE 13398
// ComEnterUnit ( UnitFilter ( sci , [ f_outside ] ) , lab ) ;
13373: LD_VAR 0 7
13377: PPUSH
13378: LD_INT 56
13380: PUSH
13381: EMPTY
13382: LIST
13383: PPUSH
13384: CALL_OW 72
13388: PPUSH
13389: LD_VAR 0 8
13393: PPUSH
13394: CALL_OW 120
// end ;
13398: PPOPN 8
13400: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_factory ] ] ) and ru_produce_list do var i , tmp , fac ;
13401: LD_INT 22
13403: PUSH
13404: LD_INT 3
13406: PUSH
13407: EMPTY
13408: LIST
13409: LIST
13410: PUSH
13411: LD_INT 30
13413: PUSH
13414: LD_INT 3
13416: PUSH
13417: EMPTY
13418: LIST
13419: LIST
13420: PUSH
13421: EMPTY
13422: LIST
13423: LIST
13424: PPUSH
13425: CALL_OW 69
13429: PUSH
13430: LD_EXP 35
13434: AND
13435: IFFALSE 13561
13437: GO 13439
13439: DISABLE
13440: LD_INT 0
13442: PPUSH
13443: PPUSH
13444: PPUSH
// begin enable ;
13445: ENABLE
// fac := FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_factory ] ] ) [ 1 ] ;
13446: LD_ADDR_VAR 0 3
13450: PUSH
13451: LD_INT 22
13453: PUSH
13454: LD_INT 3
13456: PUSH
13457: EMPTY
13458: LIST
13459: LIST
13460: PUSH
13461: LD_INT 30
13463: PUSH
13464: LD_INT 3
13466: PUSH
13467: EMPTY
13468: LIST
13469: LIST
13470: PUSH
13471: EMPTY
13472: LIST
13473: LIST
13474: PPUSH
13475: CALL_OW 69
13479: PUSH
13480: LD_INT 1
13482: ARRAY
13483: ST_TO_ADDR
// if UnitsInside ( fac ) = 0 then
13484: LD_VAR 0 3
13488: PPUSH
13489: CALL_OW 313
13493: PUSH
13494: LD_INT 0
13496: EQUAL
13497: IFFALSE 13501
// exit ;
13499: GO 13561
// if BuildingStatus ( fac ) = bs_idle then
13501: LD_VAR 0 3
13505: PPUSH
13506: CALL_OW 461
13510: PUSH
13511: LD_INT 2
13513: EQUAL
13514: IFFALSE 13561
// ComConstruct ( fac , ru_produce_list [ 1 ] , ru_produce_list [ 2 ] , ru_produce_list [ 3 ] , ru_produce_list [ 4 ] ) ;
13516: LD_VAR 0 3
13520: PPUSH
13521: LD_EXP 35
13525: PUSH
13526: LD_INT 1
13528: ARRAY
13529: PPUSH
13530: LD_EXP 35
13534: PUSH
13535: LD_INT 2
13537: ARRAY
13538: PPUSH
13539: LD_EXP 35
13543: PUSH
13544: LD_INT 3
13546: ARRAY
13547: PPUSH
13548: LD_EXP 35
13552: PUSH
13553: LD_INT 4
13555: ARRAY
13556: PPUSH
13557: CALL_OW 125
// end ;
13561: PPOPN 3
13563: END
// export function PrepareAttack ( wave ) ; var i , un , tmp ; begin
13564: LD_INT 0
13566: PPUSH
13567: PPUSH
13568: PPUSH
13569: PPUSH
// uc_side := 3 ;
13570: LD_ADDR_OWVAR 20
13574: PUSH
13575: LD_INT 3
13577: ST_TO_ADDR
// uc_nation := 3 ;
13578: LD_ADDR_OWVAR 21
13582: PUSH
13583: LD_INT 3
13585: ST_TO_ADDR
// for i = 1 to Difficulty do
13586: LD_ADDR_VAR 0 3
13590: PUSH
13591: DOUBLE
13592: LD_INT 1
13594: DEC
13595: ST_TO_ADDR
13596: LD_OWVAR 67
13600: PUSH
13601: FOR_TO
13602: IFFALSE 13651
// ru_produce_list := ru_produce_list ^ [ ru_heavy_tracked , engine_combustion , control_computer , ru_rocket_launcher , ru_heavy_tracked , engine_combustion , control_computer , ru_heavy_gun ] ;
13604: LD_ADDR_EXP 35
13608: PUSH
13609: LD_EXP 35
13613: PUSH
13614: LD_INT 24
13616: PUSH
13617: LD_INT 1
13619: PUSH
13620: LD_INT 3
13622: PUSH
13623: LD_INT 45
13625: PUSH
13626: LD_INT 24
13628: PUSH
13629: LD_INT 1
13631: PUSH
13632: LD_INT 3
13634: PUSH
13635: LD_INT 46
13637: PUSH
13638: EMPTY
13639: LIST
13640: LIST
13641: LIST
13642: LIST
13643: LIST
13644: LIST
13645: LIST
13646: LIST
13647: ADD
13648: ST_TO_ADDR
13649: GO 13601
13651: POP
13652: POP
// repeat wait ( 0 0$1 ) ;
13653: LD_INT 35
13655: PPUSH
13656: CALL_OW 67
// until ru_produce_list < 4 ;
13660: LD_EXP 35
13664: PUSH
13665: LD_INT 4
13667: LESS
13668: IFFALSE 13653
// case wave of 1 :
13670: LD_VAR 0 1
13674: PUSH
13675: LD_INT 1
13677: DOUBLE
13678: EQUAL
13679: IFTRUE 13683
13681: GO 13768
13683: POP
// begin for i = 1 to [ 5 , 6 , 8 ] [ Difficulty ] do
13684: LD_ADDR_VAR 0 3
13688: PUSH
13689: DOUBLE
13690: LD_INT 1
13692: DEC
13693: ST_TO_ADDR
13694: LD_INT 5
13696: PUSH
13697: LD_INT 6
13699: PUSH
13700: LD_INT 8
13702: PUSH
13703: EMPTY
13704: LIST
13705: LIST
13706: LIST
13707: PUSH
13708: LD_OWVAR 67
13712: ARRAY
13713: PUSH
13714: FOR_TO
13715: IFFALSE 13723
// Sold ;
13717: CALL 13893 0 0
13721: GO 13714
13723: POP
13724: POP
// for i = 1 to [ 2 , 3 , 3 ] [ Difficulty ] do
13725: LD_ADDR_VAR 0 3
13729: PUSH
13730: DOUBLE
13731: LD_INT 1
13733: DEC
13734: ST_TO_ADDR
13735: LD_INT 2
13737: PUSH
13738: LD_INT 3
13740: PUSH
13741: LD_INT 3
13743: PUSH
13744: EMPTY
13745: LIST
13746: LIST
13747: LIST
13748: PUSH
13749: LD_OWVAR 67
13753: ARRAY
13754: PUSH
13755: FOR_TO
13756: IFFALSE 13764
// Tank ;
13758: CALL 14007 0 0
13762: GO 13755
13764: POP
13765: POP
// end ; 2 .. 9 :
13766: GO 13888
13768: LD_INT 2
13770: DOUBLE
13771: GREATEREQUAL
13772: IFFALSE 13780
13774: LD_INT 9
13776: DOUBLE
13777: LESSEQUAL
13778: IFTRUE 13782
13780: GO 13887
13782: POP
// begin for i = 1 to [ 6 , 6 , 8 ] [ Difficulty ] + ( wave div 2 ) do
13783: LD_ADDR_VAR 0 3
13787: PUSH
13788: DOUBLE
13789: LD_INT 1
13791: DEC
13792: ST_TO_ADDR
13793: LD_INT 6
13795: PUSH
13796: LD_INT 6
13798: PUSH
13799: LD_INT 8
13801: PUSH
13802: EMPTY
13803: LIST
13804: LIST
13805: LIST
13806: PUSH
13807: LD_OWVAR 67
13811: ARRAY
13812: PUSH
13813: LD_VAR 0 1
13817: PUSH
13818: LD_INT 2
13820: DIV
13821: PLUS
13822: PUSH
13823: FOR_TO
13824: IFFALSE 13832
// Sold ;
13826: CALL 13893 0 0
13830: GO 13823
13832: POP
13833: POP
// for i = 1 to [ 3 , 4 , 4 ] [ Difficulty ] + ( wave div 2 ) do
13834: LD_ADDR_VAR 0 3
13838: PUSH
13839: DOUBLE
13840: LD_INT 1
13842: DEC
13843: ST_TO_ADDR
13844: LD_INT 3
13846: PUSH
13847: LD_INT 4
13849: PUSH
13850: LD_INT 4
13852: PUSH
13853: EMPTY
13854: LIST
13855: LIST
13856: LIST
13857: PUSH
13858: LD_OWVAR 67
13862: ARRAY
13863: PUSH
13864: LD_VAR 0 1
13868: PUSH
13869: LD_INT 2
13871: DIV
13872: PLUS
13873: PUSH
13874: FOR_TO
13875: IFFALSE 13883
// Tank ;
13877: CALL 14007 0 0
13881: GO 13874
13883: POP
13884: POP
// end ; end ;
13885: GO 13888
13887: POP
// end ;
13888: LD_VAR 0 2
13892: RET
// function Sold ( ) ; var un , skill ; begin
13893: LD_INT 0
13895: PPUSH
13896: PPUSH
13897: PPUSH
// InitHc ;
13898: CALL_OW 19
// skill := [ 6 , 7 , 7 ] [ Difficulty ] ;
13902: LD_ADDR_VAR 0 3
13906: PUSH
13907: LD_INT 6
13909: PUSH
13910: LD_INT 7
13912: PUSH
13913: LD_INT 7
13915: PUSH
13916: EMPTY
13917: LIST
13918: LIST
13919: LIST
13920: PUSH
13921: LD_OWVAR 67
13925: ARRAY
13926: ST_TO_ADDR
// PrepareHuman ( false , [ class_soldier , class_bazooker ] [ rand ( 1 , 2 ) ] , skill ) ;
13927: LD_INT 0
13929: PPUSH
13930: LD_INT 1
13932: PUSH
13933: LD_INT 9
13935: PUSH
13936: EMPTY
13937: LIST
13938: LIST
13939: PUSH
13940: LD_INT 1
13942: PPUSH
13943: LD_INT 2
13945: PPUSH
13946: CALL_OW 12
13950: ARRAY
13951: PPUSH
13952: LD_VAR 0 3
13956: PPUSH
13957: CALL_OW 380
// un := CreateHuman ;
13961: LD_ADDR_VAR 0 2
13965: PUSH
13966: CALL_OW 44
13970: ST_TO_ADDR
// PlaceUnitArea ( un , ruForestSpawn , false ) ;
13971: LD_VAR 0 2
13975: PPUSH
13976: LD_INT 4
13978: PPUSH
13979: LD_INT 0
13981: PPUSH
13982: CALL_OW 49
// ru_force := ru_force ^ un ;
13986: LD_ADDR_EXP 33
13990: PUSH
13991: LD_EXP 33
13995: PUSH
13996: LD_VAR 0 2
14000: ADD
14001: ST_TO_ADDR
// end ;
14002: LD_VAR 0 1
14006: RET
// function Tank ( ) ; var un , chassis , weapon , skill ; begin
14007: LD_INT 0
14009: PPUSH
14010: PPUSH
14011: PPUSH
14012: PPUSH
14013: PPUSH
// InitHc ;
14014: CALL_OW 19
// skill := [ 5 , 6 , 7 ] [ Difficulty ] ;
14018: LD_ADDR_VAR 0 5
14022: PUSH
14023: LD_INT 5
14025: PUSH
14026: LD_INT 6
14028: PUSH
14029: LD_INT 7
14031: PUSH
14032: EMPTY
14033: LIST
14034: LIST
14035: LIST
14036: PUSH
14037: LD_OWVAR 67
14041: ARRAY
14042: ST_TO_ADDR
// chassis := [ ru_medium_tracked , ru_heavy_tracked ] [ rand ( 1 , 2 ) ] ;
14043: LD_ADDR_VAR 0 3
14047: PUSH
14048: LD_INT 22
14050: PUSH
14051: LD_INT 24
14053: PUSH
14054: EMPTY
14055: LIST
14056: LIST
14057: PUSH
14058: LD_INT 1
14060: PPUSH
14061: LD_INT 2
14063: PPUSH
14064: CALL_OW 12
14068: ARRAY
14069: ST_TO_ADDR
// if chassis = ru_medium_tracked then
14070: LD_VAR 0 3
14074: PUSH
14075: LD_INT 22
14077: EQUAL
14078: IFFALSE 14113
// weapon := [ ru_rocket_launcher , ru_gatling_gun , ru_gun ] [ rand ( 1 , 3 ) ] else
14080: LD_ADDR_VAR 0 4
14084: PUSH
14085: LD_INT 45
14087: PUSH
14088: LD_INT 43
14090: PUSH
14091: LD_INT 44
14093: PUSH
14094: EMPTY
14095: LIST
14096: LIST
14097: LIST
14098: PUSH
14099: LD_INT 1
14101: PPUSH
14102: LD_INT 3
14104: PPUSH
14105: CALL_OW 12
14109: ARRAY
14110: ST_TO_ADDR
14111: GO 14144
// weapon := [ ru_heavy_gun , ru_gun , ru_rocket_launcher ] [ rand ( 1 , 3 ) ] ;
14113: LD_ADDR_VAR 0 4
14117: PUSH
14118: LD_INT 46
14120: PUSH
14121: LD_INT 44
14123: PUSH
14124: LD_INT 45
14126: PUSH
14127: EMPTY
14128: LIST
14129: LIST
14130: LIST
14131: PUSH
14132: LD_INT 1
14134: PPUSH
14135: LD_INT 3
14137: PPUSH
14138: CALL_OW 12
14142: ARRAY
14143: ST_TO_ADDR
// un := PrepareTank ( 3 , 3 , chassis , engine_combustion , [ control_computer , control_computer , control_computer , control_manual ] [ rand ( 1 , 4 ) ] , weapon , 99 ) ;
14144: LD_ADDR_VAR 0 2
14148: PUSH
14149: LD_INT 3
14151: PPUSH
14152: LD_INT 3
14154: PPUSH
14155: LD_VAR 0 3
14159: PPUSH
14160: LD_INT 1
14162: PPUSH
14163: LD_INT 3
14165: PUSH
14166: LD_INT 3
14168: PUSH
14169: LD_INT 3
14171: PUSH
14172: LD_INT 1
14174: PUSH
14175: EMPTY
14176: LIST
14177: LIST
14178: LIST
14179: LIST
14180: PUSH
14181: LD_INT 1
14183: PPUSH
14184: LD_INT 4
14186: PPUSH
14187: CALL_OW 12
14191: ARRAY
14192: PPUSH
14193: LD_VAR 0 4
14197: PPUSH
14198: LD_INT 99
14200: PPUSH
14201: CALL 252 0 7
14205: ST_TO_ADDR
// if GetControl ( un ) = control_manual then
14206: LD_VAR 0 2
14210: PPUSH
14211: CALL_OW 263
14215: PUSH
14216: LD_INT 1
14218: EQUAL
14219: IFFALSE 14250
// begin PrepareHuman ( false , 3 , skill ) ;
14221: LD_INT 0
14223: PPUSH
14224: LD_INT 3
14226: PPUSH
14227: LD_VAR 0 5
14231: PPUSH
14232: CALL_OW 380
// PlaceHumanInUnit ( CreateHuman , un ) ;
14236: CALL_OW 44
14240: PPUSH
14241: LD_VAR 0 2
14245: PPUSH
14246: CALL_OW 52
// end ; PlaceUnitArea ( un , ruRoadSpawn , false ) ;
14250: LD_VAR 0 2
14254: PPUSH
14255: LD_INT 3
14257: PPUSH
14258: LD_INT 0
14260: PPUSH
14261: CALL_OW 49
// ru_force := ru_force ^ un ;
14265: LD_ADDR_EXP 33
14269: PUSH
14270: LD_EXP 33
14274: PUSH
14275: LD_VAR 0 2
14279: ADD
14280: ST_TO_ADDR
// ComMoveXY ( un , 126 , 158 ) ;
14281: LD_VAR 0 2
14285: PPUSH
14286: LD_INT 126
14288: PPUSH
14289: LD_INT 158
14291: PPUSH
14292: CALL_OW 111
// Wait ( 0 0$3 ) ;
14296: LD_INT 105
14298: PPUSH
14299: CALL_OW 67
// ComStop ( un ) ;
14303: LD_VAR 0 2
14307: PPUSH
14308: CALL_OW 141
// end ;
14312: LD_VAR 0 1
14316: RET
// every 0 0$1 do var i , time , wave ;
14317: GO 14319
14319: DISABLE
14320: LD_INT 0
14322: PPUSH
14323: PPUSH
14324: PPUSH
// begin time := [ 12 12$00 , 11 11$00 , 10 10$00 ] [ Difficulty ] ;
14325: LD_ADDR_VAR 0 2
14329: PUSH
14330: LD_INT 25200
14332: PUSH
14333: LD_INT 23100
14335: PUSH
14336: LD_INT 21000
14338: PUSH
14339: EMPTY
14340: LIST
14341: LIST
14342: LIST
14343: PUSH
14344: LD_OWVAR 67
14348: ARRAY
14349: ST_TO_ADDR
// wait ( time ) ;
14350: LD_VAR 0 2
14354: PPUSH
14355: CALL_OW 67
// time := [ 8 8$00 , 7 7$30 , 7 7$00 ] [ Difficulty ] ;
14359: LD_ADDR_VAR 0 2
14363: PUSH
14364: LD_INT 16800
14366: PUSH
14367: LD_INT 15750
14369: PUSH
14370: LD_INT 14700
14372: PUSH
14373: EMPTY
14374: LIST
14375: LIST
14376: LIST
14377: PUSH
14378: LD_OWVAR 67
14382: ARRAY
14383: ST_TO_ADDR
// wave := 0 ;
14384: LD_ADDR_VAR 0 3
14388: PUSH
14389: LD_INT 0
14391: ST_TO_ADDR
// while true do
14392: LD_INT 1
14394: IFFALSE 14481
// begin wave := wave + 1 ;
14396: LD_ADDR_VAR 0 3
14400: PUSH
14401: LD_VAR 0 3
14405: PUSH
14406: LD_INT 1
14408: PLUS
14409: ST_TO_ADDR
// if FilterAllUnits ( [ f_side , 2 ] ) then
14410: LD_INT 22
14412: PUSH
14413: LD_INT 2
14415: PUSH
14416: EMPTY
14417: LIST
14418: LIST
14419: PPUSH
14420: CALL_OW 69
14424: IFFALSE 14453
// repeat wait ( 0 0$1 ) ;
14426: LD_INT 35
14428: PPUSH
14429: CALL_OW 67
// until FilterAllUnits ( [ f_side , 2 ] ) = 0 ;
14433: LD_INT 22
14435: PUSH
14436: LD_INT 2
14438: PUSH
14439: EMPTY
14440: LIST
14441: LIST
14442: PPUSH
14443: CALL_OW 69
14447: PUSH
14448: LD_INT 0
14450: EQUAL
14451: IFFALSE 14426
// PrepareAttack ( wave ) ;
14453: LD_VAR 0 3
14457: PPUSH
14458: CALL 13564 0 1
// ru_can_attack := true ;
14462: LD_ADDR_EXP 8
14466: PUSH
14467: LD_INT 1
14469: ST_TO_ADDR
// wait ( time ) ;
14470: LD_VAR 0 2
14474: PPUSH
14475: CALL_OW 67
// end ;
14479: GO 14392
// end ;
14481: PPOPN 3
14483: END
// every 0 0$1 trigger ru_can_attack and ru_force do var i , tmp , un , points1 , points2 ;
14484: LD_EXP 8
14488: PUSH
14489: LD_EXP 33
14493: AND
14494: IFFALSE 14867
14496: GO 14498
14498: DISABLE
14499: LD_INT 0
14501: PPUSH
14502: PPUSH
14503: PPUSH
14504: PPUSH
14505: PPUSH
// begin enable ;
14506: ENABLE
// points1 := [ 107 , 123 ] ;
14507: LD_ADDR_VAR 0 4
14511: PUSH
14512: LD_INT 107
14514: PUSH
14515: LD_INT 123
14517: PUSH
14518: EMPTY
14519: LIST
14520: LIST
14521: ST_TO_ADDR
// points2 := [ 55 , 42 ] ;
14522: LD_ADDR_VAR 0 5
14526: PUSH
14527: LD_INT 55
14529: PUSH
14530: LD_INT 42
14532: PUSH
14533: EMPTY
14534: LIST
14535: LIST
14536: ST_TO_ADDR
// for i in ru_force do
14537: LD_ADDR_VAR 0 1
14541: PUSH
14542: LD_EXP 33
14546: PUSH
14547: FOR_IN
14548: IFFALSE 14865
// begin un := NearestUnitToUnit ( FilterAllUnits ( [ f_enemy , 3 ] ) , i ) ;
14550: LD_ADDR_VAR 0 3
14554: PUSH
14555: LD_INT 81
14557: PUSH
14558: LD_INT 3
14560: PUSH
14561: EMPTY
14562: LIST
14563: LIST
14564: PPUSH
14565: CALL_OW 69
14569: PPUSH
14570: LD_VAR 0 1
14574: PPUSH
14575: CALL_OW 74
14579: ST_TO_ADDR
// if GetDistUnits ( i , un ) < 10 then
14580: LD_VAR 0 1
14584: PPUSH
14585: LD_VAR 0 3
14589: PPUSH
14590: CALL_OW 296
14594: PUSH
14595: LD_INT 10
14597: LESS
14598: IFFALSE 14743
// begin if GetType ( i ) = unit_human and GetClass ( i ) = 1 and un in FilterAllUnits ( [ [ f_type , unit_vehicle ] , [ f_empty ] ] ) then
14600: LD_VAR 0 1
14604: PPUSH
14605: CALL_OW 247
14609: PUSH
14610: LD_INT 1
14612: EQUAL
14613: PUSH
14614: LD_VAR 0 1
14618: PPUSH
14619: CALL_OW 257
14623: PUSH
14624: LD_INT 1
14626: EQUAL
14627: AND
14628: PUSH
14629: LD_VAR 0 3
14633: PUSH
14634: LD_INT 21
14636: PUSH
14637: LD_INT 2
14639: PUSH
14640: EMPTY
14641: LIST
14642: LIST
14643: PUSH
14644: LD_INT 58
14646: PUSH
14647: EMPTY
14648: LIST
14649: PUSH
14650: EMPTY
14651: LIST
14652: LIST
14653: PPUSH
14654: CALL_OW 69
14658: IN
14659: AND
14660: IFFALSE 14678
// ComEnterUnit ( i , un ) else
14662: LD_VAR 0 1
14666: PPUSH
14667: LD_VAR 0 3
14671: PPUSH
14672: CALL_OW 120
14676: GO 14741
// if not un in FilterAllUnits ( [ [ f_type , unit_vehicle ] , [ f_empty ] ] ) then
14678: LD_VAR 0 3
14682: PUSH
14683: LD_INT 21
14685: PUSH
14686: LD_INT 2
14688: PUSH
14689: EMPTY
14690: LIST
14691: LIST
14692: PUSH
14693: LD_INT 58
14695: PUSH
14696: EMPTY
14697: LIST
14698: PUSH
14699: EMPTY
14700: LIST
14701: LIST
14702: PPUSH
14703: CALL_OW 69
14707: IN
14708: NOT
14709: IFFALSE 14727
// ComAttackUnit ( i , un ) else
14711: LD_VAR 0 1
14715: PPUSH
14716: LD_VAR 0 3
14720: PPUSH
14721: CALL_OW 115
14725: GO 14741
// ComMoveUnit ( i , un ) ;
14727: LD_VAR 0 1
14731: PPUSH
14732: LD_VAR 0 3
14736: PPUSH
14737: CALL_OW 112
// end else
14741: GO 14863
// begin if GetDistUnitXY ( i , points1 [ 1 ] , points1 [ 2 ] ) > GetDistUnitXY ( i , points2 [ 1 ] , points2 [ 2 ] ) and ru_can_attack_terminal then
14743: LD_VAR 0 1
14747: PPUSH
14748: LD_VAR 0 4
14752: PUSH
14753: LD_INT 1
14755: ARRAY
14756: PPUSH
14757: LD_VAR 0 4
14761: PUSH
14762: LD_INT 2
14764: ARRAY
14765: PPUSH
14766: CALL_OW 297
14770: PUSH
14771: LD_VAR 0 1
14775: PPUSH
14776: LD_VAR 0 5
14780: PUSH
14781: LD_INT 1
14783: ARRAY
14784: PPUSH
14785: LD_VAR 0 5
14789: PUSH
14790: LD_INT 2
14792: ARRAY
14793: PPUSH
14794: CALL_OW 297
14798: GREATER
14799: PUSH
14800: LD_EXP 9
14804: AND
14805: IFFALSE 14836
// ComAgressiveMove ( i , points2 [ 1 ] , points2 [ 2 ] ) else
14807: LD_VAR 0 1
14811: PPUSH
14812: LD_VAR 0 5
14816: PUSH
14817: LD_INT 1
14819: ARRAY
14820: PPUSH
14821: LD_VAR 0 5
14825: PUSH
14826: LD_INT 2
14828: ARRAY
14829: PPUSH
14830: CALL_OW 114
14834: GO 14863
// ComAgressiveMove ( i , points1 [ 1 ] , points1 [ 2 ] ) ;
14836: LD_VAR 0 1
14840: PPUSH
14841: LD_VAR 0 4
14845: PUSH
14846: LD_INT 1
14848: ARRAY
14849: PPUSH
14850: LD_VAR 0 4
14854: PUSH
14855: LD_INT 2
14857: ARRAY
14858: PPUSH
14859: CALL_OW 114
// end ; end ;
14863: GO 14547
14865: POP
14866: POP
// end ;
14867: PPOPN 5
14869: END
