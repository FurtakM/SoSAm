// starting begin ResetFog ;
   0: CALL_OW 335
// Init ;
   4: CALL 33 0 0
// DebugMode ;
   8: CALL 161 0 0
// PrepareNature ;
  12: CALL 336 0 0
// PrepareRussian ;
  16: CALL 11749 0 0
// PrepareAmerican ;
  20: CALL 1049 0 0
// PrepareOvsyenko ;
  24: CALL 1693 0 0
// Action ;
  28: CALL 2551 0 0
// end ;
  32: END
// export mission_prefix , debug , terminal ; export jmm_in_ovsyenko , powell_want_sib , powell_want_sib_counter , game_time , ru_can_attack , ru_can_attack_terminal , ar_can_arrive , ar_spawned , player_want_mortar , player_want_info , player_get_mortar , player_get_info , player_attacked_ar ; function Init ; begin
  33: LD_INT 0
  35: PPUSH
// debug := false ;
  36: LD_ADDR_EXP 2
  40: PUSH
  41: LD_INT 0
  43: ST_TO_ADDR
// jmm_in_ovsyenko := false ;
  44: LD_ADDR_EXP 4
  48: PUSH
  49: LD_INT 0
  51: ST_TO_ADDR
// mission_prefix := 09_ ;
  52: LD_ADDR_EXP 1
  56: PUSH
  57: LD_STRING 09_
  59: ST_TO_ADDR
// powell_want_sib := false ;
  60: LD_ADDR_EXP 5
  64: PUSH
  65: LD_INT 0
  67: ST_TO_ADDR
// powell_want_sib_counter := 15 15$00 ;
  68: LD_ADDR_EXP 6
  72: PUSH
  73: LD_INT 31500
  75: ST_TO_ADDR
// game_time := 52 52$00 ;
  76: LD_ADDR_EXP 7
  80: PUSH
  81: LD_INT 109200
  83: ST_TO_ADDR
// ru_can_attack := false ;
  84: LD_ADDR_EXP 8
  88: PUSH
  89: LD_INT 0
  91: ST_TO_ADDR
// ru_can_attack_terminal := false ;
  92: LD_ADDR_EXP 9
  96: PUSH
  97: LD_INT 0
  99: ST_TO_ADDR
// ar_can_arrive := false ;
 100: LD_ADDR_EXP 10
 104: PUSH
 105: LD_INT 0
 107: ST_TO_ADDR
// ar_spawned := false ;
 108: LD_ADDR_EXP 11
 112: PUSH
 113: LD_INT 0
 115: ST_TO_ADDR
// player_want_mortar := false ;
 116: LD_ADDR_EXP 12
 120: PUSH
 121: LD_INT 0
 123: ST_TO_ADDR
// player_want_info := false ;
 124: LD_ADDR_EXP 13
 128: PUSH
 129: LD_INT 0
 131: ST_TO_ADDR
// player_get_mortar := false ;
 132: LD_ADDR_EXP 14
 136: PUSH
 137: LD_INT 0
 139: ST_TO_ADDR
// player_get_info := false ;
 140: LD_ADDR_EXP 15
 144: PUSH
 145: LD_INT 0
 147: ST_TO_ADDR
// player_attacked_ar := false ;
 148: LD_ADDR_EXP 16
 152: PUSH
 153: LD_INT 0
 155: ST_TO_ADDR
// end ;
 156: LD_VAR 0 1
 160: RET
// function DebugMode ; begin
 161: LD_INT 0
 163: PPUSH
// if not debug then
 164: LD_EXP 2
 168: NOT
 169: IFFALSE 173
// exit ;
 171: GO 180
// FogOff ( 1 ) ;
 173: LD_INT 1
 175: PPUSH
 176: CALL_OW 344
// end ; end_of_file
 180: LD_VAR 0 1
 184: RET
// export function PrepareUnit ( ident , exist_mode , mission_prefix_prev ) ; var unit ; begin
 185: LD_INT 0
 187: PPUSH
 188: PPUSH
// if exist_mode then
 189: LD_VAR 0 2
 193: IFFALSE 218
// unit := CreateCharacter ( mission_prefix_prev & ident ) else
 195: LD_ADDR_VAR 0 5
 199: PUSH
 200: LD_VAR 0 3
 204: PUSH
 205: LD_VAR 0 1
 209: STR
 210: PPUSH
 211: CALL_OW 34
 215: ST_TO_ADDR
 216: GO 233
// unit := NewCharacter ( ident ) ;
 218: LD_ADDR_VAR 0 5
 222: PUSH
 223: LD_VAR 0 1
 227: PPUSH
 228: CALL_OW 25
 232: ST_TO_ADDR
// result := unit ;
 233: LD_ADDR_VAR 0 4
 237: PUSH
 238: LD_VAR 0 5
 242: ST_TO_ADDR
// end ;
 243: LD_VAR 0 4
 247: RET
// export function PrepareTank ( side , nation , chassis , engine , control , weapon , fuel ) ; begin
 248: LD_INT 0
 250: PPUSH
// uc_side := side ;
 251: LD_ADDR_OWVAR 20
 255: PUSH
 256: LD_VAR 0 1
 260: ST_TO_ADDR
// uc_nation := nation ;
 261: LD_ADDR_OWVAR 21
 265: PUSH
 266: LD_VAR 0 2
 270: ST_TO_ADDR
// vc_chassis := chassis ;
 271: LD_ADDR_OWVAR 37
 275: PUSH
 276: LD_VAR 0 3
 280: ST_TO_ADDR
// vc_engine := engine ;
 281: LD_ADDR_OWVAR 39
 285: PUSH
 286: LD_VAR 0 4
 290: ST_TO_ADDR
// vc_control := control ;
 291: LD_ADDR_OWVAR 38
 295: PUSH
 296: LD_VAR 0 5
 300: ST_TO_ADDR
// vc_weapon := weapon ;
 301: LD_ADDR_OWVAR 40
 305: PUSH
 306: LD_VAR 0 6
 310: ST_TO_ADDR
// vc_fuel_battery := fuel ;
 311: LD_ADDR_OWVAR 41
 315: PUSH
 316: LD_VAR 0 7
 320: ST_TO_ADDR
// result := CreateVehicle ;
 321: LD_ADDR_VAR 0 8
 325: PUSH
 326: CALL_OW 45
 330: ST_TO_ADDR
// end ;
 331: LD_VAR 0 8
 335: RET
// export function PrepareNature ; var i , animal , nat_area ; begin
 336: LD_INT 0
 338: PPUSH
 339: PPUSH
 340: PPUSH
 341: PPUSH
// uc_side = 0 ;
 342: LD_ADDR_OWVAR 20
 346: PUSH
 347: LD_INT 0
 349: ST_TO_ADDR
// uc_nation = 0 ;
 350: LD_ADDR_OWVAR 21
 354: PUSH
 355: LD_INT 0
 357: ST_TO_ADDR
// nat_area := natureArea ;
 358: LD_ADDR_VAR 0 4
 362: PUSH
 363: LD_INT 1
 365: ST_TO_ADDR
// InitHc ;
 366: CALL_OW 19
// for i = 1 to 4 do
 370: LD_ADDR_VAR 0 2
 374: PUSH
 375: DOUBLE
 376: LD_INT 1
 378: DEC
 379: ST_TO_ADDR
 380: LD_INT 4
 382: PUSH
 383: FOR_TO
 384: IFFALSE 439
// begin hc_class = 18 ;
 386: LD_ADDR_OWVAR 28
 390: PUSH
 391: LD_INT 18
 393: ST_TO_ADDR
// hc_gallery =  ;
 394: LD_ADDR_OWVAR 33
 398: PUSH
 399: LD_STRING 
 401: ST_TO_ADDR
// hc_face_number = 1 ;
 402: LD_ADDR_OWVAR 34
 406: PUSH
 407: LD_INT 1
 409: ST_TO_ADDR
// animal := CreateHuman ;
 410: LD_ADDR_VAR 0 3
 414: PUSH
 415: CALL_OW 44
 419: ST_TO_ADDR
// PlaceUnitArea ( animal , nat_area , false ) ;
 420: LD_VAR 0 3
 424: PPUSH
 425: LD_VAR 0 4
 429: PPUSH
 430: LD_INT 0
 432: PPUSH
 433: CALL_OW 49
// end ;
 437: GO 383
 439: POP
 440: POP
// for i = 1 to 4 do
 441: LD_ADDR_VAR 0 2
 445: PUSH
 446: DOUBLE
 447: LD_INT 1
 449: DEC
 450: ST_TO_ADDR
 451: LD_INT 4
 453: PUSH
 454: FOR_TO
 455: IFFALSE 526
// begin hc_class = class_tiger ;
 457: LD_ADDR_OWVAR 28
 461: PUSH
 462: LD_INT 14
 464: ST_TO_ADDR
// hc_gallery =  ;
 465: LD_ADDR_OWVAR 33
 469: PUSH
 470: LD_STRING 
 472: ST_TO_ADDR
// hc_agressivity = Rand ( 0 , 50 ) ;
 473: LD_ADDR_OWVAR 35
 477: PUSH
 478: LD_INT 0
 480: PPUSH
 481: LD_INT 50
 483: PPUSH
 484: CALL_OW 12
 488: ST_TO_ADDR
// hc_face_number = 3 ;
 489: LD_ADDR_OWVAR 34
 493: PUSH
 494: LD_INT 3
 496: ST_TO_ADDR
// animal := CreateHuman ;
 497: LD_ADDR_VAR 0 3
 501: PUSH
 502: CALL_OW 44
 506: ST_TO_ADDR
// PlaceUnitArea ( animal , nat_area , false ) ;
 507: LD_VAR 0 3
 511: PPUSH
 512: LD_VAR 0 4
 516: PPUSH
 517: LD_INT 0
 519: PPUSH
 520: CALL_OW 49
// end ;
 524: GO 454
 526: POP
 527: POP
// for i = 1 to 6 do
 528: LD_ADDR_VAR 0 2
 532: PUSH
 533: DOUBLE
 534: LD_INT 1
 536: DEC
 537: ST_TO_ADDR
 538: LD_INT 6
 540: PUSH
 541: FOR_TO
 542: IFFALSE 606
// begin hc_class = class_apeman ;
 544: LD_ADDR_OWVAR 28
 548: PUSH
 549: LD_INT 12
 551: ST_TO_ADDR
// hc_gallery =  ;
 552: LD_ADDR_OWVAR 33
 556: PUSH
 557: LD_STRING 
 559: ST_TO_ADDR
// hc_agressivity = rand ( - 10 , 10 ) ;
 560: LD_ADDR_OWVAR 35
 564: PUSH
 565: LD_INT 10
 567: NEG
 568: PPUSH
 569: LD_INT 10
 571: PPUSH
 572: CALL_OW 12
 576: ST_TO_ADDR
// animal := CreateHuman ;
 577: LD_ADDR_VAR 0 3
 581: PUSH
 582: CALL_OW 44
 586: ST_TO_ADDR
// PlaceUnitArea ( animal , nat_area , false ) ;
 587: LD_VAR 0 3
 591: PPUSH
 592: LD_VAR 0 4
 596: PPUSH
 597: LD_INT 0
 599: PPUSH
 600: CALL_OW 49
// end ;
 604: GO 541
 606: POP
 607: POP
// for i = 1 to 6 do
 608: LD_ADDR_VAR 0 2
 612: PUSH
 613: DOUBLE
 614: LD_INT 1
 616: DEC
 617: ST_TO_ADDR
 618: LD_INT 6
 620: PUSH
 621: FOR_TO
 622: IFFALSE 677
// begin hc_class = 13 ;
 624: LD_ADDR_OWVAR 28
 628: PUSH
 629: LD_INT 13
 631: ST_TO_ADDR
// hc_gallery =  ;
 632: LD_ADDR_OWVAR 33
 636: PUSH
 637: LD_STRING 
 639: ST_TO_ADDR
// hc_face_number = 4 ;
 640: LD_ADDR_OWVAR 34
 644: PUSH
 645: LD_INT 4
 647: ST_TO_ADDR
// animal := CreateHuman ;
 648: LD_ADDR_VAR 0 3
 652: PUSH
 653: CALL_OW 44
 657: ST_TO_ADDR
// PlaceUnitArea ( animal , nat_area , false ) ;
 658: LD_VAR 0 3
 662: PPUSH
 663: LD_VAR 0 4
 667: PPUSH
 668: LD_INT 0
 670: PPUSH
 671: CALL_OW 49
// end ;
 675: GO 621
 677: POP
 678: POP
// for i = 1 to 1 do
 679: LD_ADDR_VAR 0 2
 683: PUSH
 684: DOUBLE
 685: LD_INT 1
 687: DEC
 688: ST_TO_ADDR
 689: LD_INT 1
 691: PUSH
 692: FOR_TO
 693: IFFALSE 741
// begin vc_chassis := 31 ;
 695: LD_ADDR_OWVAR 37
 699: PUSH
 700: LD_INT 31
 702: ST_TO_ADDR
// vc_control := control_rider ;
 703: LD_ADDR_OWVAR 38
 707: PUSH
 708: LD_INT 4
 710: ST_TO_ADDR
// animal := CreateVehicle ;
 711: LD_ADDR_VAR 0 3
 715: PUSH
 716: CALL_OW 45
 720: ST_TO_ADDR
// PlaceUnitXY ( animal , 21 , 22 , false ) ;
 721: LD_VAR 0 3
 725: PPUSH
 726: LD_INT 21
 728: PPUSH
 729: LD_INT 22
 731: PPUSH
 732: LD_INT 0
 734: PPUSH
 735: CALL_OW 48
// end ;
 739: GO 692
 741: POP
 742: POP
// end ;
 743: LD_VAR 0 1
 747: RET
// export function GetTerminalCargo ; begin
 748: LD_INT 0
 750: PPUSH
// result := GetResourceType ( GetBase ( terminal ) , mat_siberit ) ;
 751: LD_ADDR_VAR 0 1
 755: PUSH
 756: LD_EXP 3
 760: PPUSH
 761: CALL_OW 274
 765: PPUSH
 766: LD_INT 3
 768: PPUSH
 769: CALL_OW 275
 773: ST_TO_ADDR
// end ;
 774: LD_VAR 0 1
 778: RET
// export function GetPlayerSib ( side ) ; var i , tmp ; begin
 779: LD_INT 0
 781: PPUSH
 782: PPUSH
 783: PPUSH
// result := 0 ;
 784: LD_ADDR_VAR 0 2
 788: PUSH
 789: LD_INT 0
 791: ST_TO_ADDR
// tmp := FilterAllUnits ( [ [ f_side , side ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) ;
 792: LD_ADDR_VAR 0 4
 796: PUSH
 797: LD_INT 22
 799: PUSH
 800: LD_VAR 0 1
 804: PUSH
 805: EMPTY
 806: LIST
 807: LIST
 808: PUSH
 809: LD_INT 2
 811: PUSH
 812: LD_INT 30
 814: PUSH
 815: LD_INT 0
 817: PUSH
 818: EMPTY
 819: LIST
 820: LIST
 821: PUSH
 822: LD_INT 30
 824: PUSH
 825: LD_INT 1
 827: PUSH
 828: EMPTY
 829: LIST
 830: LIST
 831: PUSH
 832: EMPTY
 833: LIST
 834: LIST
 835: LIST
 836: PUSH
 837: EMPTY
 838: LIST
 839: LIST
 840: PPUSH
 841: CALL_OW 69
 845: ST_TO_ADDR
// if not tmp then
 846: LD_VAR 0 4
 850: NOT
 851: IFFALSE 855
// exit ;
 853: GO 901
// for i in tmp do
 855: LD_ADDR_VAR 0 3
 859: PUSH
 860: LD_VAR 0 4
 864: PUSH
 865: FOR_IN
 866: IFFALSE 899
// result := result + GetResourceType ( GetBase ( i ) , mat_siberit ) ;
 868: LD_ADDR_VAR 0 2
 872: PUSH
 873: LD_VAR 0 2
 877: PUSH
 878: LD_VAR 0 3
 882: PPUSH
 883: CALL_OW 274
 887: PPUSH
 888: LD_INT 3
 890: PPUSH
 891: CALL_OW 275
 895: PLUS
 896: ST_TO_ADDR
 897: GO 865
 899: POP
 900: POP
// end ;
 901: LD_VAR 0 2
 905: RET
// export function CutTreeInArea ( bulldozer , area ) ; var i ; begin
 906: LD_INT 0
 908: PPUSH
 909: PPUSH
// area = ListEnvironmentArea ( area ) ;
 910: LD_ADDR_VAR 0 2
 914: PUSH
 915: LD_VAR 0 2
 919: PPUSH
 920: CALL_OW 353
 924: ST_TO_ADDR
// if bulldozer > 0 then
 925: LD_VAR 0 1
 929: PUSH
 930: LD_INT 0
 932: GREATER
 933: IFFALSE 1044
// for i = area downto 1 do
 935: LD_ADDR_VAR 0 4
 939: PUSH
 940: DOUBLE
 941: LD_VAR 0 2
 945: INC
 946: ST_TO_ADDR
 947: LD_INT 1
 949: PUSH
 950: FOR_DOWNTO
 951: IFFALSE 1042
// if IsEnvironment ( area [ i ] [ 1 ] , area [ i ] [ 2 ] ) then
 953: LD_VAR 0 2
 957: PUSH
 958: LD_VAR 0 4
 962: ARRAY
 963: PUSH
 964: LD_INT 1
 966: ARRAY
 967: PPUSH
 968: LD_VAR 0 2
 972: PUSH
 973: LD_VAR 0 4
 977: ARRAY
 978: PUSH
 979: LD_INT 2
 981: ARRAY
 982: PPUSH
 983: CALL_OW 351
 987: IFFALSE 1040
// if not HasTask ( bulldozer ) then
 989: LD_VAR 0 1
 993: PPUSH
 994: CALL_OW 314
 998: NOT
 999: IFFALSE 1040
// AddComMoveXY ( bulldozer , area [ i ] [ 1 ] , area [ i ] [ 2 ] ) ;
1001: LD_VAR 0 1
1005: PPUSH
1006: LD_VAR 0 2
1010: PUSH
1011: LD_VAR 0 4
1015: ARRAY
1016: PUSH
1017: LD_INT 1
1019: ARRAY
1020: PPUSH
1021: LD_VAR 0 2
1025: PUSH
1026: LD_VAR 0 4
1030: ARRAY
1031: PUSH
1032: LD_INT 2
1034: ARRAY
1035: PPUSH
1036: CALL_OW 171
1040: GO 950
1042: POP
1043: POP
// end ; end_of_file
1044: LD_VAR 0 3
1048: RET
// export JMM , Gary , Bobby , Cyrus , Houten , alpha_engs , powell_trans , Powell ; export function PrepareAmerican ; var tmp , un , veh , i ; begin
1049: LD_INT 0
1051: PPUSH
1052: PPUSH
1053: PPUSH
1054: PPUSH
1055: PPUSH
// uc_side := 1 ;
1056: LD_ADDR_OWVAR 20
1060: PUSH
1061: LD_INT 1
1063: ST_TO_ADDR
// uc_nation := 1 ;
1064: LD_ADDR_OWVAR 21
1068: PUSH
1069: LD_INT 1
1071: ST_TO_ADDR
// JMM := PrepareUnit ( JMM , ( not debug ) , 08_ ) ;
1072: LD_ADDR_EXP 17
1076: PUSH
1077: LD_STRING JMM
1079: PPUSH
1080: LD_EXP 2
1084: NOT
1085: PPUSH
1086: LD_STRING 08_
1088: PPUSH
1089: CALL 185 0 3
1093: ST_TO_ADDR
// veh := PrepareTank ( 1 , 1 , us_medium_tracked , engine_solar , control_manual , us_double_gun , 55 ) ;
1094: LD_ADDR_VAR 0 4
1098: PUSH
1099: LD_INT 1
1101: PPUSH
1102: LD_INT 1
1104: PPUSH
1105: LD_INT 3
1107: PPUSH
1108: LD_INT 2
1110: PPUSH
1111: LD_INT 1
1113: PPUSH
1114: LD_INT 5
1116: PPUSH
1117: LD_INT 55
1119: PPUSH
1120: CALL 248 0 7
1124: ST_TO_ADDR
// SetDir ( veh , 3 ) ;
1125: LD_VAR 0 4
1129: PPUSH
1130: LD_INT 3
1132: PPUSH
1133: CALL_OW 233
// PlaceUnitXY ( veh , 43 , 3 , false ) ;
1137: LD_VAR 0 4
1141: PPUSH
1142: LD_INT 43
1144: PPUSH
1145: LD_INT 3
1147: PPUSH
1148: LD_INT 0
1150: PPUSH
1151: CALL_OW 48
// PlaceHumanInUnit ( JMM , veh ) ;
1155: LD_EXP 17
1159: PPUSH
1160: LD_VAR 0 4
1164: PPUSH
1165: CALL_OW 52
// tmp := [ ] ;
1169: LD_ADDR_VAR 0 2
1173: PUSH
1174: EMPTY
1175: ST_TO_ADDR
// uc_side := 4 ;
1176: LD_ADDR_OWVAR 20
1180: PUSH
1181: LD_INT 4
1183: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
1184: LD_ADDR_OWVAR 33
1188: PUSH
1189: LD_STRING SecondCharsGal
1191: ST_TO_ADDR
// hc_class := 2 ;
1192: LD_ADDR_OWVAR 28
1196: PUSH
1197: LD_INT 2
1199: ST_TO_ADDR
// hc_sex := sex_female ;
1200: LD_ADDR_OWVAR 27
1204: PUSH
1205: LD_INT 2
1207: ST_TO_ADDR
// hc_basic_skills := [ 0 , 1 , 1 , 0 ] ;
1208: LD_ADDR_OWVAR 30
1212: PUSH
1213: LD_INT 0
1215: PUSH
1216: LD_INT 1
1218: PUSH
1219: LD_INT 1
1221: PUSH
1222: LD_INT 0
1224: PUSH
1225: EMPTY
1226: LIST
1227: LIST
1228: LIST
1229: LIST
1230: ST_TO_ADDR
// hc_skills := [ 3 , 4 , 2 , 1 ] ;
1231: LD_ADDR_OWVAR 31
1235: PUSH
1236: LD_INT 3
1238: PUSH
1239: LD_INT 4
1241: PUSH
1242: LD_INT 2
1244: PUSH
1245: LD_INT 1
1247: PUSH
1248: EMPTY
1249: LIST
1250: LIST
1251: LIST
1252: LIST
1253: ST_TO_ADDR
// hc_attr := [ 10 , 11 ] ;
1254: LD_ADDR_OWVAR 29
1258: PUSH
1259: LD_INT 10
1261: PUSH
1262: LD_INT 11
1264: PUSH
1265: EMPTY
1266: LIST
1267: LIST
1268: ST_TO_ADDR
// hc_name := Naoma Goichman ;
1269: LD_ADDR_OWVAR 26
1273: PUSH
1274: LD_STRING Naoma Goichman
1276: ST_TO_ADDR
// hc_face_number := 43 ;
1277: LD_ADDR_OWVAR 34
1281: PUSH
1282: LD_INT 43
1284: ST_TO_ADDR
// tmp := tmp ^ CreateHuman ;
1285: LD_ADDR_VAR 0 2
1289: PUSH
1290: LD_VAR 0 2
1294: PUSH
1295: CALL_OW 44
1299: ADD
1300: ST_TO_ADDR
// hc_basic_skills := [ 0 , 2 , 0 , 1 ] ;
1301: LD_ADDR_OWVAR 30
1305: PUSH
1306: LD_INT 0
1308: PUSH
1309: LD_INT 2
1311: PUSH
1312: LD_INT 0
1314: PUSH
1315: LD_INT 1
1317: PUSH
1318: EMPTY
1319: LIST
1320: LIST
1321: LIST
1322: LIST
1323: ST_TO_ADDR
// hc_skills := [ 0 , 5 , 3 , 1 ] ;
1324: LD_ADDR_OWVAR 31
1328: PUSH
1329: LD_INT 0
1331: PUSH
1332: LD_INT 5
1334: PUSH
1335: LD_INT 3
1337: PUSH
1338: LD_INT 1
1340: PUSH
1341: EMPTY
1342: LIST
1343: LIST
1344: LIST
1345: LIST
1346: ST_TO_ADDR
// hc_attr := [ 10 , 10 ] ;
1347: LD_ADDR_OWVAR 29
1351: PUSH
1352: LD_INT 10
1354: PUSH
1355: LD_INT 10
1357: PUSH
1358: EMPTY
1359: LIST
1360: LIST
1361: ST_TO_ADDR
// hc_name := Magdalene Glance ;
1362: LD_ADDR_OWVAR 26
1366: PUSH
1367: LD_STRING Magdalene Glance
1369: ST_TO_ADDR
// hc_face_number := 44 ;
1370: LD_ADDR_OWVAR 34
1374: PUSH
1375: LD_INT 44
1377: ST_TO_ADDR
// tmp := tmp ^ CreateHuman ;
1378: LD_ADDR_VAR 0 2
1382: PUSH
1383: LD_VAR 0 2
1387: PUSH
1388: CALL_OW 44
1392: ADD
1393: ST_TO_ADDR
// hc_sex := sex_male ;
1394: LD_ADDR_OWVAR 27
1398: PUSH
1399: LD_INT 1
1401: ST_TO_ADDR
// hc_basic_skills := [ 2 , 2 , 0 , 0 ] ;
1402: LD_ADDR_OWVAR 30
1406: PUSH
1407: LD_INT 2
1409: PUSH
1410: LD_INT 2
1412: PUSH
1413: LD_INT 0
1415: PUSH
1416: LD_INT 0
1418: PUSH
1419: EMPTY
1420: LIST
1421: LIST
1422: LIST
1423: LIST
1424: ST_TO_ADDR
// hc_skills := [ 3 , 4 , 1 , 0 ] ;
1425: LD_ADDR_OWVAR 31
1429: PUSH
1430: LD_INT 3
1432: PUSH
1433: LD_INT 4
1435: PUSH
1436: LD_INT 1
1438: PUSH
1439: LD_INT 0
1441: PUSH
1442: EMPTY
1443: LIST
1444: LIST
1445: LIST
1446: LIST
1447: ST_TO_ADDR
// hc_attr := [ 12 , 10 ] ;
1448: LD_ADDR_OWVAR 29
1452: PUSH
1453: LD_INT 12
1455: PUSH
1456: LD_INT 10
1458: PUSH
1459: EMPTY
1460: LIST
1461: LIST
1462: ST_TO_ADDR
// hc_name := Steve Holland ;
1463: LD_ADDR_OWVAR 26
1467: PUSH
1468: LD_STRING Steve Holland
1470: ST_TO_ADDR
// hc_face_number := 60 ;
1471: LD_ADDR_OWVAR 34
1475: PUSH
1476: LD_INT 60
1478: ST_TO_ADDR
// tmp := tmp ^ CreateHuman ;
1479: LD_ADDR_VAR 0 2
1483: PUSH
1484: LD_VAR 0 2
1488: PUSH
1489: CALL_OW 44
1493: ADD
1494: ST_TO_ADDR
// alpha_engs := tmp diff 0 ;
1495: LD_ADDR_EXP 22
1499: PUSH
1500: LD_VAR 0 2
1504: PUSH
1505: LD_INT 0
1507: DIFF
1508: ST_TO_ADDR
// for un in alpha_engs do
1509: LD_ADDR_VAR 0 3
1513: PUSH
1514: LD_EXP 22
1518: PUSH
1519: FOR_IN
1520: IFFALSE 1545
// PlaceUnitXYR ( un , 52 , 35 , 3 , false ) ;
1522: LD_VAR 0 3
1526: PPUSH
1527: LD_INT 52
1529: PPUSH
1530: LD_INT 35
1532: PPUSH
1533: LD_INT 3
1535: PPUSH
1536: LD_INT 0
1538: PPUSH
1539: CALL_OW 50
1543: GO 1519
1545: POP
1546: POP
// for tmp = 1 to 4 do
1547: LD_ADDR_VAR 0 2
1551: PUSH
1552: DOUBLE
1553: LD_INT 1
1555: DEC
1556: ST_TO_ADDR
1557: LD_INT 4
1559: PUSH
1560: FOR_TO
1561: IFFALSE 1587
// CreateResourcesXYR ( mat_cans , 5 , 54 , 40 , 2 , false ) ;
1563: LD_INT 1
1565: PPUSH
1566: LD_INT 5
1568: PPUSH
1569: LD_INT 54
1571: PPUSH
1572: LD_INT 40
1574: PPUSH
1575: LD_INT 2
1577: PPUSH
1578: LD_INT 0
1580: PPUSH
1581: CALL_OW 60
1585: GO 1560
1587: POP
1588: POP
// if LoadVariable ( gamma_commander , 0 ) < 3 then
1589: LD_STRING gamma_commander
1591: PPUSH
1592: LD_INT 0
1594: PPUSH
1595: CALL_OW 30
1599: PUSH
1600: LD_INT 3
1602: LESS
1603: IFFALSE 1661
// begin Houten := PrepareUnit ( VanHouten , false ,  ) ;
1605: LD_ADDR_EXP 21
1609: PUSH
1610: LD_STRING VanHouten
1612: PPUSH
1613: LD_INT 0
1615: PPUSH
1616: LD_STRING 
1618: PPUSH
1619: CALL 185 0 3
1623: ST_TO_ADDR
// for i = 1 to 4 do
1624: LD_ADDR_VAR 0 5
1628: PUSH
1629: DOUBLE
1630: LD_INT 1
1632: DEC
1633: ST_TO_ADDR
1634: LD_INT 4
1636: PUSH
1637: FOR_TO
1638: IFFALSE 1659
// AddExperience ( Houten , i , 10000 ) ;
1640: LD_EXP 21
1644: PPUSH
1645: LD_VAR 0 5
1649: PPUSH
1650: LD_INT 10000
1652: PPUSH
1653: CALL_OW 492
1657: GO 1637
1659: POP
1660: POP
// end ; Powell := PrepareUnit ( Powell , false ,  ) ;
1661: LD_ADDR_EXP 24
1665: PUSH
1666: LD_STRING Powell
1668: PPUSH
1669: LD_INT 0
1671: PPUSH
1672: LD_STRING 
1674: PPUSH
1675: CALL 185 0 3
1679: ST_TO_ADDR
// InitHc ;
1680: CALL_OW 19
// InitUc ;
1684: CALL_OW 18
// end ;
1688: LD_VAR 0 1
1692: RET
// export function PrepareOvsyenko ; var i , b , tmp , un ; begin
1693: LD_INT 0
1695: PPUSH
1696: PPUSH
1697: PPUSH
1698: PPUSH
1699: PPUSH
// uc_side := 4 ;
1700: LD_ADDR_OWVAR 20
1704: PUSH
1705: LD_INT 4
1707: ST_TO_ADDR
// uc_nation := 3 ;
1708: LD_ADDR_OWVAR 21
1712: PUSH
1713: LD_INT 3
1715: ST_TO_ADDR
// tmp := LoadVariable ( 09_ovsyenko_base , [ [ b_depot , 101 , 118 , 2 ] , [ b_breastwork , 109 , 114 , 4 ] , [ b_breastwork , 115 , 132 , 5 ] , [ b_breastwork , 98 , 120 , 1 ] ] ) ;
1716: LD_ADDR_VAR 0 4
1720: PUSH
1721: LD_STRING 09_ovsyenko_base
1723: PPUSH
1724: LD_INT 0
1726: PUSH
1727: LD_INT 101
1729: PUSH
1730: LD_INT 118
1732: PUSH
1733: LD_INT 2
1735: PUSH
1736: EMPTY
1737: LIST
1738: LIST
1739: LIST
1740: LIST
1741: PUSH
1742: LD_INT 31
1744: PUSH
1745: LD_INT 109
1747: PUSH
1748: LD_INT 114
1750: PUSH
1751: LD_INT 4
1753: PUSH
1754: EMPTY
1755: LIST
1756: LIST
1757: LIST
1758: LIST
1759: PUSH
1760: LD_INT 31
1762: PUSH
1763: LD_INT 115
1765: PUSH
1766: LD_INT 132
1768: PUSH
1769: LD_INT 5
1771: PUSH
1772: EMPTY
1773: LIST
1774: LIST
1775: LIST
1776: LIST
1777: PUSH
1778: LD_INT 31
1780: PUSH
1781: LD_INT 98
1783: PUSH
1784: LD_INT 120
1786: PUSH
1787: LD_INT 1
1789: PUSH
1790: EMPTY
1791: LIST
1792: LIST
1793: LIST
1794: LIST
1795: PUSH
1796: EMPTY
1797: LIST
1798: LIST
1799: LIST
1800: LIST
1801: PPUSH
1802: CALL_OW 30
1806: ST_TO_ADDR
// for i in tmp do
1807: LD_ADDR_VAR 0 2
1811: PUSH
1812: LD_VAR 0 4
1816: PUSH
1817: FOR_IN
1818: IFFALSE 1974
// begin bc_type := i [ 1 ] ;
1820: LD_ADDR_OWVAR 42
1824: PUSH
1825: LD_VAR 0 2
1829: PUSH
1830: LD_INT 1
1832: ARRAY
1833: ST_TO_ADDR
// bc_level := 3 ;
1834: LD_ADDR_OWVAR 43
1838: PUSH
1839: LD_INT 3
1841: ST_TO_ADDR
// b := CreateAndPlaceBuildingXYD ( i [ 2 ] , i [ 3 ] , i [ 4 ] ) ;
1842: LD_ADDR_VAR 0 3
1846: PUSH
1847: LD_VAR 0 2
1851: PUSH
1852: LD_INT 2
1854: ARRAY
1855: PPUSH
1856: LD_VAR 0 2
1860: PUSH
1861: LD_INT 3
1863: ARRAY
1864: PPUSH
1865: LD_VAR 0 2
1869: PUSH
1870: LD_INT 4
1872: ARRAY
1873: PPUSH
1874: CALL_OW 47
1878: ST_TO_ADDR
// if GetBType ( b ) = b_depot then
1879: LD_VAR 0 3
1883: PPUSH
1884: CALL_OW 266
1888: PUSH
1889: LD_INT 0
1891: EQUAL
1892: IFFALSE 1926
// begin SetBName ( b , ovsyenko ) ;
1894: LD_VAR 0 3
1898: PPUSH
1899: LD_STRING ovsyenko
1901: PPUSH
1902: CALL_OW 500
// SetResourceType ( GetBase ( b ) , mat_cans , 50 ) ;
1906: LD_VAR 0 3
1910: PPUSH
1911: CALL_OW 274
1915: PPUSH
1916: LD_INT 1
1918: PPUSH
1919: LD_INT 50
1921: PPUSH
1922: CALL_OW 277
// end ; if i [ 4 ] < 250 then
1926: LD_VAR 0 2
1930: PUSH
1931: LD_INT 4
1933: ARRAY
1934: PUSH
1935: LD_INT 250
1937: LESS
1938: IFFALSE 1954
// SetLives ( b , 251 ) else
1940: LD_VAR 0 3
1944: PPUSH
1945: LD_INT 251
1947: PPUSH
1948: CALL_OW 234
1952: GO 1972
// SetLives ( b , i [ 4 ] ) ;
1954: LD_VAR 0 3
1958: PPUSH
1959: LD_VAR 0 2
1963: PUSH
1964: LD_INT 4
1966: ARRAY
1967: PPUSH
1968: CALL_OW 234
// end ;
1972: GO 1817
1974: POP
1975: POP
// uc_nation := 1 ;
1976: LD_ADDR_OWVAR 21
1980: PUSH
1981: LD_INT 1
1983: ST_TO_ADDR
// tmp := [ ] ;
1984: LD_ADDR_VAR 0 4
1988: PUSH
1989: EMPTY
1990: ST_TO_ADDR
// Gary := PrepareUnit ( Gary , ( not debug ) ,  ) ;
1991: LD_ADDR_EXP 18
1995: PUSH
1996: LD_STRING Gary
1998: PPUSH
1999: LD_EXP 2
2003: NOT
2004: PPUSH
2005: LD_STRING 
2007: PPUSH
2008: CALL 185 0 3
2012: ST_TO_ADDR
// tmp := tmp ^ Gary ;
2013: LD_ADDR_VAR 0 4
2017: PUSH
2018: LD_VAR 0 4
2022: PUSH
2023: LD_EXP 18
2027: ADD
2028: ST_TO_ADDR
// Bobby := PrepareUnit ( Bobby , ( not debug ) , 03_ ) ;
2029: LD_ADDR_EXP 19
2033: PUSH
2034: LD_STRING Bobby
2036: PPUSH
2037: LD_EXP 2
2041: NOT
2042: PPUSH
2043: LD_STRING 03_
2045: PPUSH
2046: CALL 185 0 3
2050: ST_TO_ADDR
// if Bobby then
2051: LD_EXP 19
2055: IFFALSE 2073
// tmp := tmp ^ Bobby ;
2057: LD_ADDR_VAR 0 4
2061: PUSH
2062: LD_VAR 0 4
2066: PUSH
2067: LD_EXP 19
2071: ADD
2072: ST_TO_ADDR
// Cyrus := PrepareUnit ( Cyrus , ( not debug ) , 03_ ) ;
2073: LD_ADDR_EXP 20
2077: PUSH
2078: LD_STRING Cyrus
2080: PPUSH
2081: LD_EXP 2
2085: NOT
2086: PPUSH
2087: LD_STRING 03_
2089: PPUSH
2090: CALL 185 0 3
2094: ST_TO_ADDR
// if Cyrus then
2095: LD_EXP 20
2099: IFFALSE 2117
// tmp := tmp ^ Cyrus ;
2101: LD_ADDR_VAR 0 4
2105: PUSH
2106: LD_VAR 0 4
2110: PUSH
2111: LD_EXP 20
2115: ADD
2116: ST_TO_ADDR
// tmp := tmp ^ CreateCharacterSet ( 09_prev_squad ) ;
2117: LD_ADDR_VAR 0 4
2121: PUSH
2122: LD_VAR 0 4
2126: PUSH
2127: LD_STRING 09_prev_squad
2129: PPUSH
2130: CALL_OW 31
2134: ADD
2135: ST_TO_ADDR
// tmp := tmp diff 0 ;
2136: LD_ADDR_VAR 0 4
2140: PUSH
2141: LD_VAR 0 4
2145: PUSH
2146: LD_INT 0
2148: DIFF
2149: ST_TO_ADDR
// if tmp < 4 then
2150: LD_VAR 0 4
2154: PUSH
2155: LD_INT 4
2157: LESS
2158: IFFALSE 2238
// begin for i = 1 to 3 do
2160: LD_ADDR_VAR 0 2
2164: PUSH
2165: DOUBLE
2166: LD_INT 1
2168: DEC
2169: ST_TO_ADDR
2170: LD_INT 3
2172: PUSH
2173: FOR_TO
2174: IFFALSE 2207
// begin PrepareHuman ( false , 1 , 5 ) ;
2176: LD_INT 0
2178: PPUSH
2179: LD_INT 1
2181: PPUSH
2182: LD_INT 5
2184: PPUSH
2185: CALL_OW 380
// tmp := tmp ^ CreateHuman ;
2189: LD_ADDR_VAR 0 4
2193: PUSH
2194: LD_VAR 0 4
2198: PUSH
2199: CALL_OW 44
2203: ADD
2204: ST_TO_ADDR
// end ;
2205: GO 2173
2207: POP
2208: POP
// PrepareHuman ( false , 4 , 5 ) ;
2209: LD_INT 0
2211: PPUSH
2212: LD_INT 4
2214: PPUSH
2215: LD_INT 5
2217: PPUSH
2218: CALL_OW 380
// tmp := tmp ^ CreateHuman ;
2222: LD_ADDR_VAR 0 4
2226: PUSH
2227: LD_VAR 0 4
2231: PUSH
2232: CALL_OW 44
2236: ADD
2237: ST_TO_ADDR
// end ; for i in tmp do
2238: LD_ADDR_VAR 0 2
2242: PUSH
2243: LD_VAR 0 4
2247: PUSH
2248: FOR_IN
2249: IFFALSE 2274
// PlaceUnitXYR ( i , 106 , 122 , 5 , false ) ;
2251: LD_VAR 0 2
2255: PPUSH
2256: LD_INT 106
2258: PPUSH
2259: LD_INT 122
2261: PPUSH
2262: LD_INT 5
2264: PPUSH
2265: LD_INT 0
2267: PPUSH
2268: CALL_OW 50
2272: GO 2248
2274: POP
2275: POP
// tmp := tmp diff Gary ;
2276: LD_ADDR_VAR 0 4
2280: PUSH
2281: LD_VAR 0 4
2285: PUSH
2286: LD_EXP 18
2290: DIFF
2291: ST_TO_ADDR
// b := FilterAllUnits ( [ [ f_side , 4 ] , [ f_btype , b_breastwork ] ] ) ;
2292: LD_ADDR_VAR 0 3
2296: PUSH
2297: LD_INT 22
2299: PUSH
2300: LD_INT 4
2302: PUSH
2303: EMPTY
2304: LIST
2305: LIST
2306: PUSH
2307: LD_INT 30
2309: PUSH
2310: LD_INT 31
2312: PUSH
2313: EMPTY
2314: LIST
2315: LIST
2316: PUSH
2317: EMPTY
2318: LIST
2319: LIST
2320: PPUSH
2321: CALL_OW 69
2325: ST_TO_ADDR
// for i = 1 to b do
2326: LD_ADDR_VAR 0 2
2330: PUSH
2331: DOUBLE
2332: LD_INT 1
2334: DEC
2335: ST_TO_ADDR
2336: LD_VAR 0 3
2340: PUSH
2341: FOR_TO
2342: IFFALSE 2372
// begin ComEnterUnit ( tmp [ i ] , b [ i ] ) ;
2344: LD_VAR 0 4
2348: PUSH
2349: LD_VAR 0 2
2353: ARRAY
2354: PPUSH
2355: LD_VAR 0 3
2359: PUSH
2360: LD_VAR 0 2
2364: ARRAY
2365: PPUSH
2366: CALL_OW 120
// end ;
2370: GO 2341
2372: POP
2373: POP
// InitHc ;
2374: CALL_OW 19
// InitUc ;
2378: CALL_OW 18
// end ;
2382: LD_VAR 0 1
2386: RET
// export function PowellTransport ; var i , un ; begin
2387: LD_INT 0
2389: PPUSH
2390: PPUSH
2391: PPUSH
// uc_side := 4 ;
2392: LD_ADDR_OWVAR 20
2396: PUSH
2397: LD_INT 4
2399: ST_TO_ADDR
// uc_nation := 1 ;
2400: LD_ADDR_OWVAR 21
2404: PUSH
2405: LD_INT 1
2407: ST_TO_ADDR
// PrepareHuman ( sex_male , 3 , 6 ) ;
2408: LD_INT 1
2410: PPUSH
2411: LD_INT 3
2413: PPUSH
2414: LD_INT 6
2416: PPUSH
2417: CALL_OW 380
// hc_name :=  ;
2421: LD_ADDR_OWVAR 26
2425: PUSH
2426: LD_STRING 
2428: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
2429: LD_ADDR_OWVAR 33
2433: PUSH
2434: LD_STRING SecondCharsGal
2436: ST_TO_ADDR
// hc_face_number := 30 ;
2437: LD_ADDR_OWVAR 34
2441: PUSH
2442: LD_INT 30
2444: ST_TO_ADDR
// powell_trans := CreateHuman ;
2445: LD_ADDR_EXP 23
2449: PUSH
2450: CALL_OW 44
2454: ST_TO_ADDR
// hc_face_number := 31 ;
2455: LD_ADDR_OWVAR 34
2459: PUSH
2460: LD_INT 31
2462: ST_TO_ADDR
// powell_trans := powell_trans ^ CreateHuman ;
2463: LD_ADDR_EXP 23
2467: PUSH
2468: LD_EXP 23
2472: PUSH
2473: CALL_OW 44
2477: ADD
2478: ST_TO_ADDR
// for i = 1 to 2 do
2479: LD_ADDR_VAR 0 2
2483: PUSH
2484: DOUBLE
2485: LD_INT 1
2487: DEC
2488: ST_TO_ADDR
2489: LD_INT 2
2491: PUSH
2492: FOR_TO
2493: IFFALSE 2544
// begin un := PrepareTank ( 4 , 1 , us_medium_tracked , engine_combustion , control_manual , us_cargo_bay , 66 ) ;
2495: LD_ADDR_VAR 0 3
2499: PUSH
2500: LD_INT 4
2502: PPUSH
2503: LD_INT 1
2505: PPUSH
2506: LD_INT 3
2508: PPUSH
2509: LD_INT 1
2511: PPUSH
2512: LD_INT 1
2514: PPUSH
2515: LD_INT 12
2517: PPUSH
2518: LD_INT 66
2520: PPUSH
2521: CALL 248 0 7
2525: ST_TO_ADDR
// powell_trans := powell_trans ^ un ;
2526: LD_ADDR_EXP 23
2530: PUSH
2531: LD_EXP 23
2535: PUSH
2536: LD_VAR 0 3
2540: ADD
2541: ST_TO_ADDR
// end ;
2542: GO 2492
2544: POP
2545: POP
// end ; end_of_file
2546: LD_VAR 0 1
2550: RET
// export function Action ; var i , veh ; begin
2551: LD_INT 0
2553: PPUSH
2554: PPUSH
2555: PPUSH
// ComBuild ( alpha_engs , b_depot , 50 , 38 , 2 ) ;
2556: LD_EXP 22
2560: PPUSH
2561: LD_INT 0
2563: PPUSH
2564: LD_INT 50
2566: PPUSH
2567: LD_INT 38
2569: PPUSH
2570: LD_INT 2
2572: PPUSH
2573: CALL_OW 145
// InGameOn ;
2577: CALL_OW 8
// CenterNowOnXY ( 43 , 9 ) ;
2581: LD_INT 43
2583: PPUSH
2584: LD_INT 9
2586: PPUSH
2587: CALL_OW 86
// ComMoveXY ( JMM , 54 , 34 ) ;
2591: LD_EXP 17
2595: PPUSH
2596: LD_INT 54
2598: PPUSH
2599: LD_INT 34
2601: PPUSH
2602: CALL_OW 111
// AddComExitVehicle ( JMM ) ;
2606: LD_EXP 17
2610: PPUSH
2611: CALL_OW 181
// AddComTurnUnit ( JMM , alpha_engs [ 1 ] ) ;
2615: LD_EXP 17
2619: PPUSH
2620: LD_EXP 22
2624: PUSH
2625: LD_INT 1
2627: ARRAY
2628: PPUSH
2629: CALL_OW 179
// repeat wait ( 0 0$01 ) ;
2633: LD_INT 35
2635: PPUSH
2636: CALL_OW 67
// until See ( 4 , JMM ) ;
2640: LD_INT 4
2642: PPUSH
2643: LD_EXP 17
2647: PPUSH
2648: CALL_OW 292
2652: IFFALSE 2633
// CenterNowOnUnits ( JMM ) ;
2654: LD_EXP 17
2658: PPUSH
2659: CALL_OW 87
// Say ( JMM , D2-JMM-1 ) ;
2663: LD_EXP 17
2667: PPUSH
2668: LD_STRING D2-JMM-1
2670: PPUSH
2671: CALL_OW 88
// ComTurnUnit ( alpha_engs [ 3 ] , JMM ) ;
2675: LD_EXP 22
2679: PUSH
2680: LD_INT 3
2682: ARRAY
2683: PPUSH
2684: LD_EXP 17
2688: PPUSH
2689: CALL_OW 119
// Say ( alpha_engs [ 3 ] , D2-Eng1-1 ) ;
2693: LD_EXP 22
2697: PUSH
2698: LD_INT 3
2700: ARRAY
2701: PPUSH
2702: LD_STRING D2-Eng1-1
2704: PPUSH
2705: CALL_OW 88
// Say ( JMM , D2-JMM-2 ) ;
2709: LD_EXP 17
2713: PPUSH
2714: LD_STRING D2-JMM-2
2716: PPUSH
2717: CALL_OW 88
// Say ( alpha_engs [ 3 ] , D2-Eng1-2 ) ;
2721: LD_EXP 22
2725: PUSH
2726: LD_INT 3
2728: ARRAY
2729: PPUSH
2730: LD_STRING D2-Eng1-2
2732: PPUSH
2733: CALL_OW 88
// Say ( JMM , D2-JMM-3 ) ;
2737: LD_EXP 17
2741: PPUSH
2742: LD_STRING D2-JMM-3
2744: PPUSH
2745: CALL_OW 88
// if Houten then
2749: LD_EXP 21
2753: IFFALSE 2951
// begin veh := PrepareTank ( 4 , 1 , us_medium_tracked , engine_solar , control_manual , us_gatling_gun , 55 ) ;
2755: LD_ADDR_VAR 0 3
2759: PUSH
2760: LD_INT 4
2762: PPUSH
2763: LD_INT 1
2765: PPUSH
2766: LD_INT 3
2768: PPUSH
2769: LD_INT 2
2771: PPUSH
2772: LD_INT 1
2774: PPUSH
2775: LD_INT 4
2777: PPUSH
2778: LD_INT 55
2780: PPUSH
2781: CALL 248 0 7
2785: ST_TO_ADDR
// SetDir ( veh , 3 ) ;
2786: LD_VAR 0 3
2790: PPUSH
2791: LD_INT 3
2793: PPUSH
2794: CALL_OW 233
// PlaceUnitXY ( veh , 46 , 19 , false ) ;
2798: LD_VAR 0 3
2802: PPUSH
2803: LD_INT 46
2805: PPUSH
2806: LD_INT 19
2808: PPUSH
2809: LD_INT 0
2811: PPUSH
2812: CALL_OW 48
// PlaceHumanInUnit ( Houten , veh ) ;
2816: LD_EXP 21
2820: PPUSH
2821: LD_VAR 0 3
2825: PPUSH
2826: CALL_OW 52
// ComMoveXY ( Houten , 49 , 33 ) ;
2830: LD_EXP 21
2834: PPUSH
2835: LD_INT 49
2837: PPUSH
2838: LD_INT 33
2840: PPUSH
2841: CALL_OW 111
// AddComExitVehicle ( Houten ) ;
2845: LD_EXP 21
2849: PPUSH
2850: CALL_OW 181
// AddComTurnUnit ( Houten , JMM ) ;
2854: LD_EXP 21
2858: PPUSH
2859: LD_EXP 17
2863: PPUSH
2864: CALL_OW 179
// repeat wait ( 0 0$01 ) ;
2868: LD_INT 35
2870: PPUSH
2871: CALL_OW 67
// until See ( 1 , Houten ) ;
2875: LD_INT 1
2877: PPUSH
2878: LD_EXP 21
2882: PPUSH
2883: CALL_OW 292
2887: IFFALSE 2868
// ComTurnUnit ( JMM , Houten ) ;
2889: LD_EXP 17
2893: PPUSH
2894: LD_EXP 21
2898: PPUSH
2899: CALL_OW 119
// Say ( JMM , D1d-JMM-1 ) ;
2903: LD_EXP 17
2907: PPUSH
2908: LD_STRING D1d-JMM-1
2910: PPUSH
2911: CALL_OW 88
// Say ( Houten , D1-VanH-1 ) ;
2915: LD_EXP 21
2919: PPUSH
2920: LD_STRING D1-VanH-1
2922: PPUSH
2923: CALL_OW 88
// Say ( JMM , D1-JMM-1v ) ;
2927: LD_EXP 17
2931: PPUSH
2932: LD_STRING D1-JMM-1v
2934: PPUSH
2935: CALL_OW 88
// Say ( JMM , D1-JMM-2v ) ;
2939: LD_EXP 17
2943: PPUSH
2944: LD_STRING D1-JMM-2v
2946: PPUSH
2947: CALL_OW 88
// end ; InGameOff ;
2951: CALL_OW 9
// ChangeMissionObjectives ( M1 ) ;
2955: LD_STRING M1
2957: PPUSH
2958: CALL_OW 337
// SetSide ( FilterAllUnits ( [ [ f_side , 4 ] , [ f_distxy , GetX ( JMM ) , GetY ( JMM ) , 15 ] ] ) , 1 ) ;
2962: LD_INT 22
2964: PUSH
2965: LD_INT 4
2967: PUSH
2968: EMPTY
2969: LIST
2970: LIST
2971: PUSH
2972: LD_INT 92
2974: PUSH
2975: LD_EXP 17
2979: PPUSH
2980: CALL_OW 250
2984: PUSH
2985: LD_EXP 17
2989: PPUSH
2990: CALL_OW 251
2994: PUSH
2995: LD_INT 15
2997: PUSH
2998: EMPTY
2999: LIST
3000: LIST
3001: LIST
3002: LIST
3003: PUSH
3004: EMPTY
3005: LIST
3006: LIST
3007: PPUSH
3008: CALL_OW 69
3012: PPUSH
3013: LD_INT 1
3015: PPUSH
3016: CALL_OW 235
// ComStop ( alpha_engs ^ JMM ^ Houten ) ;
3020: LD_EXP 22
3024: PUSH
3025: LD_EXP 17
3029: ADD
3030: PUSH
3031: LD_EXP 21
3035: ADD
3036: PPUSH
3037: CALL_OW 141
// end ;
3041: LD_VAR 0 1
3045: RET
// every 0 0$1 trigger See ( 1 , Gary ) and GetDistUnits ( JMM , Gary ) < 6 do var un1 , un2 , un3 , tmp , i ;
3046: LD_INT 1
3048: PPUSH
3049: LD_EXP 18
3053: PPUSH
3054: CALL_OW 292
3058: PUSH
3059: LD_EXP 17
3063: PPUSH
3064: LD_EXP 18
3068: PPUSH
3069: CALL_OW 296
3073: PUSH
3074: LD_INT 6
3076: LESS
3077: AND
3078: IFFALSE 3801
3080: GO 3082
3082: DISABLE
3083: LD_INT 0
3085: PPUSH
3086: PPUSH
3087: PPUSH
3088: PPUSH
3089: PPUSH
// begin InGameOn ;
3090: CALL_OW 8
// SetSide ( FilterAllUnits ( [ f_side , 4 ] ) , 1 ) ;
3094: LD_INT 22
3096: PUSH
3097: LD_INT 4
3099: PUSH
3100: EMPTY
3101: LIST
3102: LIST
3103: PPUSH
3104: CALL_OW 69
3108: PPUSH
3109: LD_INT 1
3111: PPUSH
3112: CALL_OW 235
// tmp := FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) ;
3116: LD_ADDR_VAR 0 4
3120: PUSH
3121: LD_INT 22
3123: PUSH
3124: LD_INT 1
3126: PUSH
3127: EMPTY
3128: LIST
3129: LIST
3130: PUSH
3131: LD_INT 21
3133: PUSH
3134: LD_INT 1
3136: PUSH
3137: EMPTY
3138: LIST
3139: LIST
3140: PUSH
3141: EMPTY
3142: LIST
3143: LIST
3144: PPUSH
3145: CALL_OW 69
3149: ST_TO_ADDR
// ComHold ( tmp ) ;
3150: LD_VAR 0 4
3154: PPUSH
3155: CALL_OW 140
// Say ( JMM , D2-JMM-3a ) ;
3159: LD_EXP 17
3163: PPUSH
3164: LD_STRING D2-JMM-3a
3166: PPUSH
3167: CALL_OW 88
// ComTurnUnit ( Gary , JMM ) ;
3171: LD_EXP 18
3175: PPUSH
3176: LD_EXP 17
3180: PPUSH
3181: CALL_OW 119
// Say ( Gary , D2-Gary-3 ) ;
3185: LD_EXP 18
3189: PPUSH
3190: LD_STRING D2-Gary-3
3192: PPUSH
3193: CALL_OW 88
// ComTurnUnit ( JMM , Gary ) ;
3197: LD_EXP 17
3201: PPUSH
3202: LD_EXP 18
3206: PPUSH
3207: CALL_OW 119
// for i in tmp do
3211: LD_ADDR_VAR 0 5
3215: PUSH
3216: LD_VAR 0 4
3220: PUSH
3221: FOR_IN
3222: IFFALSE 3267
// begin if IsInUnit ( i ) then
3224: LD_VAR 0 5
3228: PPUSH
3229: CALL_OW 310
3233: IFFALSE 3244
// ComExitBuilding ( i ) ;
3235: LD_VAR 0 5
3239: PPUSH
3240: CALL_OW 122
// wait ( 1 ) ;
3244: LD_INT 1
3246: PPUSH
3247: CALL_OW 67
// ComTurnUnit ( i , JMM ) ;
3251: LD_VAR 0 5
3255: PPUSH
3256: LD_EXP 17
3260: PPUSH
3261: CALL_OW 119
// end ;
3265: GO 3221
3267: POP
3268: POP
// tmp := tmp diff [ JMM , Houten , Gary , Cyrus , Bobby ] ^ alpha_engs ;
3269: LD_ADDR_VAR 0 4
3273: PUSH
3274: LD_VAR 0 4
3278: PUSH
3279: LD_EXP 17
3283: PUSH
3284: LD_EXP 21
3288: PUSH
3289: LD_EXP 18
3293: PUSH
3294: LD_EXP 20
3298: PUSH
3299: LD_EXP 19
3303: PUSH
3304: EMPTY
3305: LIST
3306: LIST
3307: LIST
3308: LIST
3309: LIST
3310: PUSH
3311: LD_EXP 22
3315: ADD
3316: DIFF
3317: ST_TO_ADDR
// if Bobby then
3318: LD_EXP 19
3322: IFFALSE 3336
// Say ( Bobby , D2-Bobby-3 ) ;
3324: LD_EXP 19
3328: PPUSH
3329: LD_STRING D2-Bobby-3
3331: PPUSH
3332: CALL_OW 88
// if Cyrus then
3336: LD_EXP 20
3340: IFFALSE 3354
// Say ( Cyrus , D2-Cyrus-3 ) ;
3342: LD_EXP 20
3346: PPUSH
3347: LD_STRING D2-Cyrus-3
3349: PPUSH
3350: CALL_OW 88
// Say ( JMM , D2-JMM-4 ) ;
3354: LD_EXP 17
3358: PPUSH
3359: LD_STRING D2-JMM-4
3361: PPUSH
3362: CALL_OW 88
// Say ( Gary , D2-Gary-4 ) ;
3366: LD_EXP 18
3370: PPUSH
3371: LD_STRING D2-Gary-4
3373: PPUSH
3374: CALL_OW 88
// un1 := UnitFilter ( tmp , [ f_sex , sex_male ] ) [ 1 ] ;
3378: LD_ADDR_VAR 0 1
3382: PUSH
3383: LD_VAR 0 4
3387: PPUSH
3388: LD_INT 26
3390: PUSH
3391: LD_INT 1
3393: PUSH
3394: EMPTY
3395: LIST
3396: LIST
3397: PPUSH
3398: CALL_OW 72
3402: PUSH
3403: LD_INT 1
3405: ARRAY
3406: ST_TO_ADDR
// if Cyrus then
3407: LD_EXP 20
3411: IFFALSE 3427
// Say ( Cyrus , D2-Cyrus-4 ) else
3413: LD_EXP 20
3417: PPUSH
3418: LD_STRING D2-Cyrus-4
3420: PPUSH
3421: CALL_OW 88
3425: GO 3439
// Say ( un1 , D2-Sol1-4 ) ;
3427: LD_VAR 0 1
3431: PPUSH
3432: LD_STRING D2-Sol1-4
3434: PPUSH
3435: CALL_OW 88
// Say ( JMM , D2-JMM-5 ) ;
3439: LD_EXP 17
3443: PPUSH
3444: LD_STRING D2-JMM-5
3446: PPUSH
3447: CALL_OW 88
// un2 := UnitFilter ( alpha_engs , [ [ f_dist , JMM , 10 ] , [ f_sex , sex_female ] ] ) ;
3451: LD_ADDR_VAR 0 2
3455: PUSH
3456: LD_EXP 22
3460: PPUSH
3461: LD_INT 91
3463: PUSH
3464: LD_EXP 17
3468: PUSH
3469: LD_INT 10
3471: PUSH
3472: EMPTY
3473: LIST
3474: LIST
3475: LIST
3476: PUSH
3477: LD_INT 26
3479: PUSH
3480: LD_INT 2
3482: PUSH
3483: EMPTY
3484: LIST
3485: LIST
3486: PUSH
3487: EMPTY
3488: LIST
3489: LIST
3490: PPUSH
3491: CALL_OW 72
3495: ST_TO_ADDR
// if un2 then
3496: LD_VAR 0 2
3500: IFFALSE 3554
// begin un2 := un2 [ un2 ] ;
3502: LD_ADDR_VAR 0 2
3506: PUSH
3507: LD_VAR 0 2
3511: PUSH
3512: LD_VAR 0 2
3516: ARRAY
3517: ST_TO_ADDR
// Say ( un2 , D2-FEng1-5 ) ;
3518: LD_VAR 0 2
3522: PPUSH
3523: LD_STRING D2-FEng1-5
3525: PPUSH
3526: CALL_OW 88
// Say ( JMM , D2-JMM-6 ) ;
3530: LD_EXP 17
3534: PPUSH
3535: LD_STRING D2-JMM-6
3537: PPUSH
3538: CALL_OW 88
// Say ( un2 , D2-FEng1-6 ) ;
3542: LD_VAR 0 2
3546: PPUSH
3547: LD_STRING D2-FEng1-6
3549: PPUSH
3550: CALL_OW 88
// end ; un3 := UnitFilter ( alpha_engs , [ [ f_dist , JMM , 10 ] , [ f_sex , sex_male ] ] ) ;
3554: LD_ADDR_VAR 0 3
3558: PUSH
3559: LD_EXP 22
3563: PPUSH
3564: LD_INT 91
3566: PUSH
3567: LD_EXP 17
3571: PUSH
3572: LD_INT 10
3574: PUSH
3575: EMPTY
3576: LIST
3577: LIST
3578: LIST
3579: PUSH
3580: LD_INT 26
3582: PUSH
3583: LD_INT 1
3585: PUSH
3586: EMPTY
3587: LIST
3588: LIST
3589: PUSH
3590: EMPTY
3591: LIST
3592: LIST
3593: PPUSH
3594: CALL_OW 72
3598: ST_TO_ADDR
// if un3 then
3599: LD_VAR 0 3
3603: IFFALSE 3658
// begin un3 := un3 [ 1 ] ;
3605: LD_ADDR_VAR 0 3
3609: PUSH
3610: LD_VAR 0 3
3614: PUSH
3615: LD_INT 1
3617: ARRAY
3618: ST_TO_ADDR
// ComMoveXY ( un3 , 114 , 122 ) ;
3619: LD_VAR 0 3
3623: PPUSH
3624: LD_INT 114
3626: PPUSH
3627: LD_INT 122
3629: PPUSH
3630: CALL_OW 111
// Say ( un3 , D2-Eng1-6 ) ;
3634: LD_VAR 0 3
3638: PPUSH
3639: LD_STRING D2-Eng1-6
3641: PPUSH
3642: CALL_OW 88
// Say ( JMM , D2-JMM-7 ) ;
3646: LD_EXP 17
3650: PPUSH
3651: LD_STRING D2-JMM-7
3653: PPUSH
3654: CALL_OW 88
// end ; Say ( Gary , D2-Gary-7 ) ;
3658: LD_EXP 18
3662: PPUSH
3663: LD_STRING D2-Gary-7
3665: PPUSH
3666: CALL_OW 88
// if un2 then
3670: LD_VAR 0 2
3674: IFFALSE 3688
// Say ( un2 , D2-FEng1-7 ) ;
3676: LD_VAR 0 2
3680: PPUSH
3681: LD_STRING D2-FEng1-7
3683: PPUSH
3684: CALL_OW 88
// Say ( un1 , D2-Sol1-7 ) ;
3688: LD_VAR 0 1
3692: PPUSH
3693: LD_STRING D2-Sol1-7
3695: PPUSH
3696: CALL_OW 88
// Say ( JMM , D2-JMM-8 ) ;
3700: LD_EXP 17
3704: PPUSH
3705: LD_STRING D2-JMM-8
3707: PPUSH
3708: CALL_OW 88
// ComStop ( FilterAllUnits ( [ f_side , 1 ] ) ) ;
3712: LD_INT 22
3714: PUSH
3715: LD_INT 1
3717: PUSH
3718: EMPTY
3719: LIST
3720: LIST
3721: PPUSH
3722: CALL_OW 69
3726: PPUSH
3727: CALL_OW 141
// InGameOff ;
3731: CALL_OW 9
// ChangeMissionObjectives ( M1a ) ;
3735: LD_STRING M1a
3737: PPUSH
3738: CALL_OW 337
// jmm_in_ovsyenko := true ;
3742: LD_ADDR_EXP 4
3746: PUSH
3747: LD_INT 1
3749: ST_TO_ADDR
// wait ( 0 0$30 ) ;
3750: LD_INT 1050
3752: PPUSH
3753: CALL_OW 67
// tmp := FilterAllUnits ( [ f_class , class_tiger ] ) ;
3757: LD_ADDR_VAR 0 4
3761: PUSH
3762: LD_INT 25
3764: PUSH
3765: LD_INT 14
3767: PUSH
3768: EMPTY
3769: LIST
3770: LIST
3771: PPUSH
3772: CALL_OW 69
3776: ST_TO_ADDR
// if not tmp then
3777: LD_VAR 0 4
3781: NOT
3782: IFFALSE 3786
// exit ;
3784: GO 3801
// ComMoveXY ( tmp , 75 , 75 ) ;
3786: LD_VAR 0 4
3790: PPUSH
3791: LD_INT 75
3793: PPUSH
3794: LD_INT 75
3796: PPUSH
3797: CALL_OW 111
// end ;
3801: PPOPN 5
3803: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 1 ] , [ f_btype , b_siberite_mine ] ] ) do var tmp ;
3804: LD_INT 22
3806: PUSH
3807: LD_INT 1
3809: PUSH
3810: EMPTY
3811: LIST
3812: LIST
3813: PUSH
3814: LD_INT 30
3816: PUSH
3817: LD_INT 30
3819: PUSH
3820: EMPTY
3821: LIST
3822: LIST
3823: PUSH
3824: EMPTY
3825: LIST
3826: LIST
3827: PPUSH
3828: CALL_OW 69
3832: IFFALSE 3874
3834: GO 3836
3836: DISABLE
3837: LD_INT 0
3839: PPUSH
// begin tmp := [ M2easy , M2 , M2hard ] ;
3840: LD_ADDR_VAR 0 1
3844: PUSH
3845: LD_STRING M2easy
3847: PUSH
3848: LD_STRING M2
3850: PUSH
3851: LD_STRING M2hard
3853: PUSH
3854: EMPTY
3855: LIST
3856: LIST
3857: LIST
3858: ST_TO_ADDR
// ChangeMissionObjectives ( tmp [ Difficulty ] ) ;
3859: LD_VAR 0 1
3863: PUSH
3864: LD_OWVAR 67
3868: ARRAY
3869: PPUSH
3870: CALL_OW 337
// end ;
3874: PPOPN 1
3876: END
// every 3 3$00 do
3877: GO 3879
3879: DISABLE
// begin DialogueOn ;
3880: CALL_OW 6
// SayRadio ( Powell , D3-Pow-1 ) ;
3884: LD_EXP 24
3888: PPUSH
3889: LD_STRING D3-Pow-1
3891: PPUSH
3892: CALL_OW 94
// if jmm_in_ovsyenko then
3896: LD_EXP 4
3900: IFFALSE 3928
// begin Say ( JMM , D3-JMM-1 ) ;
3902: LD_EXP 17
3906: PPUSH
3907: LD_STRING D3-JMM-1
3909: PPUSH
3910: CALL_OW 88
// Say ( JMM , D3-JMM-1b ) ;
3914: LD_EXP 17
3918: PPUSH
3919: LD_STRING D3-JMM-1b
3921: PPUSH
3922: CALL_OW 88
// end else
3926: GO 3940
// Say ( JMM , D3-JMM-1a ) ;
3928: LD_EXP 17
3932: PPUSH
3933: LD_STRING D3-JMM-1a
3935: PPUSH
3936: CALL_OW 88
// SayRadio ( Powell , D3-Pow-2 ) ;
3940: LD_EXP 24
3944: PPUSH
3945: LD_STRING D3-Pow-2
3947: PPUSH
3948: CALL_OW 94
// DialogueOff ;
3952: CALL_OW 7
// ChangeMissionObjectives ( M3 ) ;
3956: LD_STRING M3
3958: PPUSH
3959: CALL_OW 337
// powell_want_sib := true ;
3963: LD_ADDR_EXP 5
3967: PUSH
3968: LD_INT 1
3970: ST_TO_ADDR
// end ;
3971: END
// every 0 0$1 trigger powell_want_sib_counter = 0 0$00 do var x , y , i , un , powell_happy , take_cargo ;
3972: LD_EXP 6
3976: PUSH
3977: LD_INT 0
3979: EQUAL
3980: IFFALSE 5164
3982: GO 3984
3984: DISABLE
3985: LD_INT 0
3987: PPUSH
3988: PPUSH
3989: PPUSH
3990: PPUSH
3991: PPUSH
3992: PPUSH
// begin ChangeSideFog ( 4 , 1 ) ;
3993: LD_INT 4
3995: PPUSH
3996: LD_INT 1
3998: PPUSH
3999: CALL_OW 343
// PowellTransport ;
4003: CALL 2387 0 0
// x := 43 ;
4007: LD_ADDR_VAR 0 1
4011: PUSH
4012: LD_INT 43
4014: ST_TO_ADDR
// y := 3 ;
4015: LD_ADDR_VAR 0 2
4019: PUSH
4020: LD_INT 3
4022: ST_TO_ADDR
// for i = 3 to 4 do
4023: LD_ADDR_VAR 0 3
4027: PUSH
4028: DOUBLE
4029: LD_INT 3
4031: DEC
4032: ST_TO_ADDR
4033: LD_INT 4
4035: PUSH
4036: FOR_TO
4037: IFFALSE 4247
// begin SetDir ( powell_trans [ i ] , 4 ) ;
4039: LD_EXP 23
4043: PUSH
4044: LD_VAR 0 3
4048: ARRAY
4049: PPUSH
4050: LD_INT 4
4052: PPUSH
4053: CALL_OW 233
// PlaceUnitXY ( powell_trans [ i ] , x , y , false ) ;
4057: LD_EXP 23
4061: PUSH
4062: LD_VAR 0 3
4066: ARRAY
4067: PPUSH
4068: LD_VAR 0 1
4072: PPUSH
4073: LD_VAR 0 2
4077: PPUSH
4078: LD_INT 0
4080: PPUSH
4081: CALL_OW 48
// PlaceHumanInUnit ( powell_trans [ i - 2 ] , powell_trans [ i ] ) ;
4085: LD_EXP 23
4089: PUSH
4090: LD_VAR 0 3
4094: PUSH
4095: LD_INT 2
4097: MINUS
4098: ARRAY
4099: PPUSH
4100: LD_EXP 23
4104: PUSH
4105: LD_VAR 0 3
4109: ARRAY
4110: PPUSH
4111: CALL_OW 52
// SetCargo ( powell_trans [ i ] , mat_cans , 100 ) ;
4115: LD_EXP 23
4119: PUSH
4120: LD_VAR 0 3
4124: ARRAY
4125: PPUSH
4126: LD_INT 1
4128: PPUSH
4129: LD_INT 100
4131: PPUSH
4132: CALL_OW 290
// ComMoveXY ( powell_trans [ i - 2 ] , 54 , 42 ) ;
4136: LD_EXP 23
4140: PUSH
4141: LD_VAR 0 3
4145: PUSH
4146: LD_INT 2
4148: MINUS
4149: ARRAY
4150: PPUSH
4151: LD_INT 54
4153: PPUSH
4154: LD_INT 42
4156: PPUSH
4157: CALL_OW 111
// AddComUnload ( powell_trans [ i - 2 ] ) ;
4161: LD_EXP 23
4165: PUSH
4166: LD_VAR 0 3
4170: PUSH
4171: LD_INT 2
4173: MINUS
4174: ARRAY
4175: PPUSH
4176: CALL_OW 219
// AddComMoveXY ( powell_trans [ i - 2 ] , GetX ( terminal ) , GetY ( terminal ) ) ;
4180: LD_EXP 23
4184: PUSH
4185: LD_VAR 0 3
4189: PUSH
4190: LD_INT 2
4192: MINUS
4193: ARRAY
4194: PPUSH
4195: LD_EXP 3
4199: PPUSH
4200: CALL_OW 250
4204: PPUSH
4205: LD_EXP 3
4209: PPUSH
4210: CALL_OW 251
4214: PPUSH
4215: CALL_OW 171
// AddComHold ( powell_trans [ i - 2 ] ) ;
4219: LD_EXP 23
4223: PUSH
4224: LD_VAR 0 3
4228: PUSH
4229: LD_INT 2
4231: MINUS
4232: ARRAY
4233: PPUSH
4234: CALL_OW 200
// Wait ( 0 0$02 ) ;
4238: LD_INT 70
4240: PPUSH
4241: CALL_OW 67
// end ;
4245: GO 4036
4247: POP
4248: POP
// repeat wait ( 0 0$01 ) ;
4249: LD_INT 35
4251: PPUSH
4252: CALL_OW 67
// for i = 3 to 4 do
4256: LD_ADDR_VAR 0 3
4260: PUSH
4261: DOUBLE
4262: LD_INT 3
4264: DEC
4265: ST_TO_ADDR
4266: LD_INT 4
4268: PUSH
4269: FOR_TO
4270: IFFALSE 4420
// if GetCargo ( powell_trans [ i ] , mat_cans ) > 0 and not HasTask ( powell_trans [ i ] ) then
4272: LD_EXP 23
4276: PUSH
4277: LD_VAR 0 3
4281: ARRAY
4282: PPUSH
4283: LD_INT 1
4285: PPUSH
4286: CALL_OW 289
4290: PUSH
4291: LD_INT 0
4293: GREATER
4294: PUSH
4295: LD_EXP 23
4299: PUSH
4300: LD_VAR 0 3
4304: ARRAY
4305: PPUSH
4306: CALL_OW 314
4310: NOT
4311: AND
4312: IFFALSE 4418
// begin ComUnload ( powell_trans [ i ] ) ;
4314: LD_EXP 23
4318: PUSH
4319: LD_VAR 0 3
4323: ARRAY
4324: PPUSH
4325: CALL_OW 159
// x := rand ( 0 , 5 ) ;
4329: LD_ADDR_VAR 0 1
4333: PUSH
4334: LD_INT 0
4336: PPUSH
4337: LD_INT 5
4339: PPUSH
4340: CALL_OW 12
4344: ST_TO_ADDR
// AddComMoveXY ( powell_trans [ i ] , ShiftX ( GetX ( powell_trans [ i ] ) , x , 3 ) , ShiftY ( GetY ( powell_trans [ i ] ) , x , 3 ) ) ;
4345: LD_EXP 23
4349: PUSH
4350: LD_VAR 0 3
4354: ARRAY
4355: PPUSH
4356: LD_EXP 23
4360: PUSH
4361: LD_VAR 0 3
4365: ARRAY
4366: PPUSH
4367: CALL_OW 250
4371: PPUSH
4372: LD_VAR 0 1
4376: PPUSH
4377: LD_INT 3
4379: PPUSH
4380: CALL_OW 272
4384: PPUSH
4385: LD_EXP 23
4389: PUSH
4390: LD_VAR 0 3
4394: ARRAY
4395: PPUSH
4396: CALL_OW 251
4400: PPUSH
4401: LD_VAR 0 1
4405: PPUSH
4406: LD_INT 3
4408: PPUSH
4409: CALL_OW 273
4413: PPUSH
4414: CALL_OW 171
// end ;
4418: GO 4269
4420: POP
4421: POP
// until GetDistUnitXY ( powell_trans [ 1 ] , 54 , 42 ) < 4 and ( GetCargo ( powell_trans [ 3 ] , mat_cans ) = 0 ) and ( GetCargo ( powell_trans [ 4 ] , mat_cans ) = 0 ) ;
4422: LD_EXP 23
4426: PUSH
4427: LD_INT 1
4429: ARRAY
4430: PPUSH
4431: LD_INT 54
4433: PPUSH
4434: LD_INT 42
4436: PPUSH
4437: CALL_OW 297
4441: PUSH
4442: LD_INT 4
4444: LESS
4445: PUSH
4446: LD_EXP 23
4450: PUSH
4451: LD_INT 3
4453: ARRAY
4454: PPUSH
4455: LD_INT 1
4457: PPUSH
4458: CALL_OW 289
4462: PUSH
4463: LD_INT 0
4465: EQUAL
4466: AND
4467: PUSH
4468: LD_EXP 23
4472: PUSH
4473: LD_INT 4
4475: ARRAY
4476: PPUSH
4477: LD_INT 1
4479: PPUSH
4480: CALL_OW 289
4484: PUSH
4485: LD_INT 0
4487: EQUAL
4488: AND
4489: IFFALSE 4249
// DialogueOn ;
4491: CALL_OW 6
// CenterNowOnXY ( 53 , 35 ) ;
4495: LD_INT 53
4497: PPUSH
4498: LD_INT 35
4500: PPUSH
4501: CALL_OW 86
// un := powell_trans [ 1 ] ;
4505: LD_ADDR_VAR 0 4
4509: PUSH
4510: LD_EXP 23
4514: PUSH
4515: LD_INT 1
4517: ARRAY
4518: ST_TO_ADDR
// Say ( un , D4-Mech1-1 ) ;
4519: LD_VAR 0 4
4523: PPUSH
4524: LD_STRING D4-Mech1-1
4526: PPUSH
4527: CALL_OW 88
// Say ( JMM , D4-JMM-1 ) ;
4531: LD_EXP 17
4535: PPUSH
4536: LD_STRING D4-JMM-1
4538: PPUSH
4539: CALL_OW 88
// Say ( un , D4-Mech1-2 ) ;
4543: LD_VAR 0 4
4547: PPUSH
4548: LD_STRING D4-Mech1-2
4550: PPUSH
4551: CALL_OW 88
// powell_happy := false ;
4555: LD_ADDR_VAR 0 5
4559: PUSH
4560: LD_INT 0
4562: ST_TO_ADDR
// take_cargo := false ;
4563: LD_ADDR_VAR 0 6
4567: PUSH
4568: LD_INT 0
4570: ST_TO_ADDR
// if GetTerminalCargo >= 60 then
4571: CALL 748 0 0
4575: PUSH
4576: LD_INT 60
4578: GREATEREQUAL
4579: IFFALSE 4627
// begin Say ( JMM , D5-JMM-1 ) ;
4581: LD_EXP 17
4585: PPUSH
4586: LD_STRING D5-JMM-1
4588: PPUSH
4589: CALL_OW 88
// Say ( un , D6-Mech1-1 ) ;
4593: LD_VAR 0 4
4597: PPUSH
4598: LD_STRING D6-Mech1-1
4600: PPUSH
4601: CALL_OW 88
// powell_happy := true ;
4605: LD_ADDR_VAR 0 5
4609: PUSH
4610: LD_INT 1
4612: ST_TO_ADDR
// take_cargo := true ;
4613: LD_ADDR_VAR 0 6
4617: PUSH
4618: LD_INT 1
4620: ST_TO_ADDR
// DialogueOff ;
4621: CALL_OW 7
// end else
4625: GO 4861
// if GetTerminalCargo > 0 then
4627: CALL 748 0 0
4631: PUSH
4632: LD_INT 0
4634: GREATER
4635: IFFALSE 4833
// begin case Query ( QWait ) of 1 :
4637: LD_STRING QWait
4639: PPUSH
4640: CALL_OW 97
4644: PUSH
4645: LD_INT 1
4647: DOUBLE
4648: EQUAL
4649: IFTRUE 4653
4651: GO 4744
4653: POP
// begin Say ( JMM , D5b-JMM-1 ) ;
4654: LD_EXP 17
4658: PPUSH
4659: LD_STRING D5b-JMM-1
4661: PPUSH
4662: CALL_OW 88
// DialogueOff ;
4666: CALL_OW 7
// wait ( 5 5$00 ) ;
4670: LD_INT 10500
4672: PPUSH
4673: CALL_OW 67
// if GetTerminalCargo < 60 then
4677: CALL 748 0 0
4681: PUSH
4682: LD_INT 60
4684: LESS
4685: IFFALSE 4726
// begin DialogueOn ;
4687: CALL_OW 6
// CenterNowOnUnits ( terminal ) ;
4691: LD_EXP 3
4695: PPUSH
4696: CALL_OW 87
// Say ( un , D6-Mech1-1a ) ;
4700: LD_VAR 0 4
4704: PPUSH
4705: LD_STRING D6-Mech1-1a
4707: PPUSH
4708: CALL_OW 88
// DialogueOff ;
4712: CALL_OW 7
// powell_happy := false ;
4716: LD_ADDR_VAR 0 5
4720: PUSH
4721: LD_INT 0
4723: ST_TO_ADDR
// end else
4724: GO 4742
// begin powell_happy := true ;
4726: LD_ADDR_VAR 0 5
4730: PUSH
4731: LD_INT 1
4733: ST_TO_ADDR
// take_cargo := true ;
4734: LD_ADDR_VAR 0 6
4738: PUSH
4739: LD_INT 1
4741: ST_TO_ADDR
// end ; end ; 2 :
4742: GO 4831
4744: LD_INT 2
4746: DOUBLE
4747: EQUAL
4748: IFTRUE 4752
4750: GO 4791
4752: POP
// begin Say ( JMM , D5b-JMM-1 ) ;
4753: LD_EXP 17
4757: PPUSH
4758: LD_STRING D5b-JMM-1
4760: PPUSH
4761: CALL_OW 88
// Say ( un , D6-Mech1-1a ) ;
4765: LD_VAR 0 4
4769: PPUSH
4770: LD_STRING D6-Mech1-1a
4772: PPUSH
4773: CALL_OW 88
// DialogueOff ;
4777: CALL_OW 7
// take_cargo := true ;
4781: LD_ADDR_VAR 0 6
4785: PUSH
4786: LD_INT 1
4788: ST_TO_ADDR
// end ; 3 :
4789: GO 4831
4791: LD_INT 3
4793: DOUBLE
4794: EQUAL
4795: IFTRUE 4799
4797: GO 4830
4799: POP
// begin Say ( JMM , D5c-JMM-1 ) ;
4800: LD_EXP 17
4804: PPUSH
4805: LD_STRING D5c-JMM-1
4807: PPUSH
4808: CALL_OW 88
// Say ( un , D6-Mech1-1b ) ;
4812: LD_VAR 0 4
4816: PPUSH
4817: LD_STRING D6-Mech1-1b
4819: PPUSH
4820: CALL_OW 88
// DialogueOff ;
4824: CALL_OW 7
// end ; end ;
4828: GO 4831
4830: POP
// end else
4831: GO 4861
// begin Say ( JMM , D5c-JMM-1 ) ;
4833: LD_EXP 17
4837: PPUSH
4838: LD_STRING D5c-JMM-1
4840: PPUSH
4841: CALL_OW 88
// Say ( un , D6-Mech1-1b ) ;
4845: LD_VAR 0 4
4849: PPUSH
4850: LD_STRING D6-Mech1-1b
4852: PPUSH
4853: CALL_OW 88
// DialogueOff ;
4857: CALL_OW 7
// end ; if take_cargo then
4861: LD_VAR 0 6
4865: IFFALSE 4944
// begin x := GetTerminalCargo ;
4867: LD_ADDR_VAR 0 1
4871: PUSH
4872: CALL 748 0 0
4876: ST_TO_ADDR
// if x > 60 then
4877: LD_VAR 0 1
4881: PUSH
4882: LD_INT 60
4884: GREATER
4885: IFFALSE 4895
// x := 60 ;
4887: LD_ADDR_VAR 0 1
4891: PUSH
4892: LD_INT 60
4894: ST_TO_ADDR
// SetResourceType ( GetBase ( terminal ) , mat_siberit , GetTerminalCargo ( ) - x ) ;
4895: LD_EXP 3
4899: PPUSH
4900: CALL_OW 274
4904: PPUSH
4905: LD_INT 3
4907: PPUSH
4908: CALL 748 0 0
4912: PUSH
4913: LD_VAR 0 1
4917: MINUS
4918: PPUSH
4919: CALL_OW 277
// AddCargo ( powell_trans [ 3 ] , mat_siberit , x ) ;
4923: LD_EXP 23
4927: PUSH
4928: LD_INT 3
4930: ARRAY
4931: PPUSH
4932: LD_INT 3
4934: PPUSH
4935: LD_VAR 0 1
4939: PPUSH
4940: CALL_OW 291
// end ; AddComMoveXY ( powell_trans , 43 , 3 ) ;
4944: LD_EXP 23
4948: PPUSH
4949: LD_INT 43
4951: PPUSH
4952: LD_INT 3
4954: PPUSH
4955: CALL_OW 171
// x := 0 0$20 ;
4959: LD_ADDR_VAR 0 1
4963: PUSH
4964: LD_INT 700
4966: ST_TO_ADDR
// repeat wait ( 0 0$01 ) ;
4967: LD_INT 35
4969: PPUSH
4970: CALL_OW 67
// x := x - 0 0$01 ;
4974: LD_ADDR_VAR 0 1
4978: PUSH
4979: LD_VAR 0 1
4983: PUSH
4984: LD_INT 35
4986: MINUS
4987: ST_TO_ADDR
// until x = 0 0$00 or ( GetDistUnitXY ( powell_trans [ 3 ] , 43 , 3 ) < 4 and GetDistUnitXY ( powell_trans [ 3 ] , 43 , 3 ) < 4 ) ;
4988: LD_VAR 0 1
4992: PUSH
4993: LD_INT 0
4995: EQUAL
4996: PUSH
4997: LD_EXP 23
5001: PUSH
5002: LD_INT 3
5004: ARRAY
5005: PPUSH
5006: LD_INT 43
5008: PPUSH
5009: LD_INT 3
5011: PPUSH
5012: CALL_OW 297
5016: PUSH
5017: LD_INT 4
5019: LESS
5020: PUSH
5021: LD_EXP 23
5025: PUSH
5026: LD_INT 3
5028: ARRAY
5029: PPUSH
5030: LD_INT 43
5032: PPUSH
5033: LD_INT 3
5035: PPUSH
5036: CALL_OW 297
5040: PUSH
5041: LD_INT 4
5043: LESS
5044: AND
5045: OR
5046: IFFALSE 4967
// for i in powell_trans do
5048: LD_ADDR_VAR 0 3
5052: PUSH
5053: LD_EXP 23
5057: PUSH
5058: FOR_IN
5059: IFFALSE 5072
// RemoveUnit ( i ) ;
5061: LD_VAR 0 3
5065: PPUSH
5066: CALL_OW 64
5070: GO 5058
5072: POP
5073: POP
// if not powell_happy then
5074: LD_VAR 0 5
5078: NOT
5079: IFFALSE 5090
// powell_happy := - 1 ;
5081: LD_ADDR_VAR 0 5
5085: PUSH
5086: LD_INT 1
5088: NEG
5089: ST_TO_ADDR
// AddMedal ( powell_happy , EarlySiberite ) ;
5090: LD_VAR 0 5
5094: PPUSH
5095: LD_STRING EarlySiberite
5097: PPUSH
5098: CALL_OW 101
// if powell_happy then
5102: LD_VAR 0 5
5106: IFFALSE 5117
// ChangeMissionObjectives ( M3a ) else
5108: LD_STRING M3a
5110: PPUSH
5111: CALL_OW 337
5115: GO 5124
// ChangeMissionObjectives ( M3b ) ;
5117: LD_STRING M3b
5119: PPUSH
5120: CALL_OW 337
// ru_can_attack_terminal := true ;
5124: LD_ADDR_EXP 9
5128: PUSH
5129: LD_INT 1
5131: ST_TO_ADDR
// Wait ( 9 9$00 ) ;
5132: LD_INT 18900
5134: PPUSH
5135: CALL_OW 67
// repeat wait ( 0 0$03 ) ;
5139: LD_INT 105
5141: PPUSH
5142: CALL_OW 67
// until ru_can_attack = false ;
5146: LD_EXP 8
5150: PUSH
5151: LD_INT 0
5153: EQUAL
5154: IFFALSE 5139
// ar_can_arrive := true ;
5156: LD_ADDR_EXP 10
5160: PUSH
5161: LD_INT 1
5163: ST_TO_ADDR
// end ;
5164: PPOPN 6
5166: END
// every 0 0$1 trigger Researched ( 1 , 20 ) do var un ;
5167: LD_INT 1
5169: PPUSH
5170: LD_INT 20
5172: PPUSH
5173: CALL_OW 325
5177: IFFALSE 5318
5179: GO 5181
5181: DISABLE
5182: LD_INT 0
5184: PPUSH
// begin un := FilterAllUnits ( [ [ f_side , 1 ] , [ f_sex , sex_male ] , [ f_class , 4 ] ] ) diff [ JMM , Cyrus , Bobby , Houten ] ;
5185: LD_ADDR_VAR 0 1
5189: PUSH
5190: LD_INT 22
5192: PUSH
5193: LD_INT 1
5195: PUSH
5196: EMPTY
5197: LIST
5198: LIST
5199: PUSH
5200: LD_INT 26
5202: PUSH
5203: LD_INT 1
5205: PUSH
5206: EMPTY
5207: LIST
5208: LIST
5209: PUSH
5210: LD_INT 25
5212: PUSH
5213: LD_INT 4
5215: PUSH
5216: EMPTY
5217: LIST
5218: LIST
5219: PUSH
5220: EMPTY
5221: LIST
5222: LIST
5223: LIST
5224: PPUSH
5225: CALL_OW 69
5229: PUSH
5230: LD_EXP 17
5234: PUSH
5235: LD_EXP 20
5239: PUSH
5240: LD_EXP 19
5244: PUSH
5245: LD_EXP 21
5249: PUSH
5250: EMPTY
5251: LIST
5252: LIST
5253: LIST
5254: LIST
5255: DIFF
5256: ST_TO_ADDR
// if not un then
5257: LD_VAR 0 1
5261: NOT
5262: IFFALSE 5266
// exit ;
5264: GO 5318
// DialogueOn ;
5266: CALL_OW 6
// Say ( un [ 1 ] , D13-Sci1-1 ) ;
5270: LD_VAR 0 1
5274: PUSH
5275: LD_INT 1
5277: ARRAY
5278: PPUSH
5279: LD_STRING D13-Sci1-1
5281: PPUSH
5282: CALL_OW 88
// Say ( JMM , D13-JMM-1 ) ;
5286: LD_EXP 17
5290: PPUSH
5291: LD_STRING D13-JMM-1
5293: PPUSH
5294: CALL_OW 88
// Say ( un [ 1 ] , D13-Sci1-2 ) ;
5298: LD_VAR 0 1
5302: PUSH
5303: LD_INT 1
5305: ARRAY
5306: PPUSH
5307: LD_STRING D13-Sci1-2
5309: PPUSH
5310: CALL_OW 88
// DialogueOff ;
5314: CALL_OW 7
// end ;
5318: PPOPN 1
5320: END
// every 0 0$1 trigger GetPlayerSib ( 1 ) > 77 and ( not ru_can_attack ) and FilterAllUnits ( [ [ f_side , 1 ] , [ f_class , 4 ] , [ f_sex , sex_male ] ] ) diff [ JMM , Bobby , Cyrus , Gary , Houten ] do var sci ;
5321: LD_INT 1
5323: PPUSH
5324: CALL 779 0 1
5328: PUSH
5329: LD_INT 77
5331: GREATER
5332: PUSH
5333: LD_EXP 8
5337: NOT
5338: AND
5339: PUSH
5340: LD_INT 22
5342: PUSH
5343: LD_INT 1
5345: PUSH
5346: EMPTY
5347: LIST
5348: LIST
5349: PUSH
5350: LD_INT 25
5352: PUSH
5353: LD_INT 4
5355: PUSH
5356: EMPTY
5357: LIST
5358: LIST
5359: PUSH
5360: LD_INT 26
5362: PUSH
5363: LD_INT 1
5365: PUSH
5366: EMPTY
5367: LIST
5368: LIST
5369: PUSH
5370: EMPTY
5371: LIST
5372: LIST
5373: LIST
5374: PPUSH
5375: CALL_OW 69
5379: PUSH
5380: LD_EXP 17
5384: PUSH
5385: LD_EXP 19
5389: PUSH
5390: LD_EXP 20
5394: PUSH
5395: LD_EXP 18
5399: PUSH
5400: LD_EXP 21
5404: PUSH
5405: EMPTY
5406: LIST
5407: LIST
5408: LIST
5409: LIST
5410: LIST
5411: DIFF
5412: AND
5413: IFFALSE 5591
5415: GO 5417
5417: DISABLE
5418: LD_INT 0
5420: PPUSH
// begin sci := FilterAllUnits ( [ [ f_side , 1 ] , [ f_class , 4 ] , [ f_sex , sex_male ] ] ) diff [ JMM , Bobby , Cyrus , Gary , Houten ] ;
5421: LD_ADDR_VAR 0 1
5425: PUSH
5426: LD_INT 22
5428: PUSH
5429: LD_INT 1
5431: PUSH
5432: EMPTY
5433: LIST
5434: LIST
5435: PUSH
5436: LD_INT 25
5438: PUSH
5439: LD_INT 4
5441: PUSH
5442: EMPTY
5443: LIST
5444: LIST
5445: PUSH
5446: LD_INT 26
5448: PUSH
5449: LD_INT 1
5451: PUSH
5452: EMPTY
5453: LIST
5454: LIST
5455: PUSH
5456: EMPTY
5457: LIST
5458: LIST
5459: LIST
5460: PPUSH
5461: CALL_OW 69
5465: PUSH
5466: LD_EXP 17
5470: PUSH
5471: LD_EXP 19
5475: PUSH
5476: LD_EXP 20
5480: PUSH
5481: LD_EXP 18
5485: PUSH
5486: LD_EXP 21
5490: PUSH
5491: EMPTY
5492: LIST
5493: LIST
5494: LIST
5495: LIST
5496: LIST
5497: DIFF
5498: ST_TO_ADDR
// DialogueOn ;
5499: CALL_OW 6
// Say ( sci [ 1 ] , D7-Sci1-1 ) ;
5503: LD_VAR 0 1
5507: PUSH
5508: LD_INT 1
5510: ARRAY
5511: PPUSH
5512: LD_STRING D7-Sci1-1
5514: PPUSH
5515: CALL_OW 88
// Say ( JMM , D7-JMM-1 ) ;
5519: LD_EXP 17
5523: PPUSH
5524: LD_STRING D7-JMM-1
5526: PPUSH
5527: CALL_OW 88
// Say ( sci [ 1 ] , D7-Sci1-2 ) ;
5531: LD_VAR 0 1
5535: PUSH
5536: LD_INT 1
5538: ARRAY
5539: PPUSH
5540: LD_STRING D7-Sci1-2
5542: PPUSH
5543: CALL_OW 88
// Say ( JMM , D7-JMM-2 ) ;
5547: LD_EXP 17
5551: PPUSH
5552: LD_STRING D7-JMM-2
5554: PPUSH
5555: CALL_OW 88
// Say ( sci [ 1 ] , D7-Sci1-3 ) ;
5559: LD_VAR 0 1
5563: PUSH
5564: LD_INT 1
5566: ARRAY
5567: PPUSH
5568: LD_STRING D7-Sci1-3
5570: PPUSH
5571: CALL_OW 88
// Say ( JMM , D7-JMM-3 ) ;
5575: LD_EXP 17
5579: PPUSH
5580: LD_STRING D7-JMM-3
5582: PPUSH
5583: CALL_OW 88
// DialogueOff ;
5587: CALL_OW 7
// end ;
5591: PPOPN 1
5593: END
// every 0 0$1 trigger ar_can_arrive do var i , x , tmp , dep , time , no_oil_gain , first_warn , b ;
5594: LD_EXP 10
5598: IFFALSE 8824
5600: GO 5602
5602: DISABLE
5603: LD_INT 0
5605: PPUSH
5606: PPUSH
5607: PPUSH
5608: PPUSH
5609: PPUSH
5610: PPUSH
5611: PPUSH
5612: PPUSH
// begin PrepareArabian ;
5613: CALL 10872 0 0
// repeat wait ( 0 0$01 ) ;
5617: LD_INT 35
5619: PPUSH
5620: CALL_OW 67
// until ar_spawned ;
5624: LD_EXP 11
5628: IFFALSE 5617
// DialogueOn ;
5630: CALL_OW 6
// SayRadio ( Vervecken , D8-Ar1-1 ) ;
5634: LD_EXP 25
5638: PPUSH
5639: LD_STRING D8-Ar1-1
5641: PPUSH
5642: CALL_OW 94
// Say ( JMM , D8-JMM-1 ) ;
5646: LD_EXP 17
5650: PPUSH
5651: LD_STRING D8-JMM-1
5653: PPUSH
5654: CALL_OW 88
// SayRadio ( Vervecken , D8-Ar1-2 ) ;
5658: LD_EXP 25
5662: PPUSH
5663: LD_STRING D8-Ar1-2
5665: PPUSH
5666: CALL_OW 94
// Say ( JMM , D8-JMM-2 ) ;
5670: LD_EXP 17
5674: PPUSH
5675: LD_STRING D8-JMM-2
5677: PPUSH
5678: CALL_OW 88
// SayRadio ( Vervecken , D8-Ar1-3 ) ;
5682: LD_EXP 25
5686: PPUSH
5687: LD_STRING D8-Ar1-3
5689: PPUSH
5690: CALL_OW 94
// Say ( JMM , D8-JMM-3 ) ;
5694: LD_EXP 17
5698: PPUSH
5699: LD_STRING D8-JMM-3
5701: PPUSH
5702: CALL_OW 88
// SayRadio ( Vervecken , D8-Ar1-4 ) ;
5706: LD_EXP 25
5710: PPUSH
5711: LD_STRING D8-Ar1-4
5713: PPUSH
5714: CALL_OW 94
// Say ( JMM , D8-JMM-4 ) ;
5718: LD_EXP 17
5722: PPUSH
5723: LD_STRING D8-JMM-4
5725: PPUSH
5726: CALL_OW 88
// SayRadio ( Vervecken , D8-Ar1-5 ) ;
5730: LD_EXP 25
5734: PPUSH
5735: LD_STRING D8-Ar1-5
5737: PPUSH
5738: CALL_OW 94
// Say ( JMM , D8-JMM-5 ) ;
5742: LD_EXP 17
5746: PPUSH
5747: LD_STRING D8-JMM-5
5749: PPUSH
5750: CALL_OW 88
// SayRadio ( Vervecken , D8-Ar1-6 ) ;
5754: LD_EXP 25
5758: PPUSH
5759: LD_STRING D8-Ar1-6
5761: PPUSH
5762: CALL_OW 94
// SayRadio ( Gali , D8-Ar2-6 ) ;
5766: LD_EXP 26
5770: PPUSH
5771: LD_STRING D8-Ar2-6
5773: PPUSH
5774: CALL_OW 94
// Say ( JMM , D8-JMM-6 ) ;
5778: LD_EXP 17
5782: PPUSH
5783: LD_STRING D8-JMM-6
5785: PPUSH
5786: CALL_OW 88
// SayRadio ( Gali , D8-Ar2-7 ) ;
5790: LD_EXP 26
5794: PPUSH
5795: LD_STRING D8-Ar2-7
5797: PPUSH
5798: CALL_OW 94
// case Query ( QBarracks ) of 1 :
5802: LD_STRING QBarracks
5804: PPUSH
5805: CALL_OW 97
5809: PUSH
5810: LD_INT 1
5812: DOUBLE
5813: EQUAL
5814: IFTRUE 5818
5816: GO 5853
5818: POP
// begin Say ( JMM , D8a-JMM-1 ) ;
5819: LD_EXP 17
5823: PPUSH
5824: LD_STRING D8a-JMM-1
5826: PPUSH
5827: CALL_OW 88
// SayRadio ( Vervecken , D8a-Ar1-1 ) ;
5831: LD_EXP 25
5835: PPUSH
5836: LD_STRING D8a-Ar1-1
5838: PPUSH
5839: CALL_OW 94
// player_want_mortar := true ;
5843: LD_ADDR_EXP 12
5847: PUSH
5848: LD_INT 1
5850: ST_TO_ADDR
// end ; 2 :
5851: GO 6011
5853: LD_INT 2
5855: DOUBLE
5856: EQUAL
5857: IFTRUE 5861
5859: GO 5975
5861: POP
// begin Say ( JMM , D8b-JMM-1 ) ;
5862: LD_EXP 17
5866: PPUSH
5867: LD_STRING D8b-JMM-1
5869: PPUSH
5870: CALL_OW 88
// SayRadio ( Vervecken , D8b-Ar1-1 ) ;
5874: LD_EXP 25
5878: PPUSH
5879: LD_STRING D8b-Ar1-1
5881: PPUSH
5882: CALL_OW 94
// case Query ( QInfo ) of 1 :
5886: LD_STRING QInfo
5888: PPUSH
5889: CALL_OW 97
5893: PUSH
5894: LD_INT 1
5896: DOUBLE
5897: EQUAL
5898: IFTRUE 5902
5900: GO 5937
5902: POP
// begin Say ( JMM , D8b1-JMM-1 ) ;
5903: LD_EXP 17
5907: PPUSH
5908: LD_STRING D8b1-JMM-1
5910: PPUSH
5911: CALL_OW 88
// SayRadio ( Vervecken , D8b1-Ar1-1 ) ;
5915: LD_EXP 25
5919: PPUSH
5920: LD_STRING D8b1-Ar1-1
5922: PPUSH
5923: CALL_OW 94
// player_want_info := 2 ;
5927: LD_ADDR_EXP 13
5931: PUSH
5932: LD_INT 2
5934: ST_TO_ADDR
// end ; 2 :
5935: GO 5973
5937: LD_INT 2
5939: DOUBLE
5940: EQUAL
5941: IFTRUE 5945
5943: GO 5972
5945: POP
// begin Say ( JMM , D8b2-JMM-1 ) ;
5946: LD_EXP 17
5950: PPUSH
5951: LD_STRING D8b2-JMM-1
5953: PPUSH
5954: CALL_OW 88
// SayRadio ( Vervecken , D8b2-Ar1-1 ) ;
5958: LD_EXP 25
5962: PPUSH
5963: LD_STRING D8b2-Ar1-1
5965: PPUSH
5966: CALL_OW 94
// end ; end ;
5970: GO 5973
5972: POP
// end ; 3 :
5973: GO 6011
5975: LD_INT 3
5977: DOUBLE
5978: EQUAL
5979: IFTRUE 5983
5981: GO 6010
5983: POP
// begin Say ( JMM , D8c-JMM-1 ) ;
5984: LD_EXP 17
5988: PPUSH
5989: LD_STRING D8c-JMM-1
5991: PPUSH
5992: CALL_OW 88
// SayRadio ( Vervecken , D8c-Ar1-1 ) ;
5996: LD_EXP 25
6000: PPUSH
6001: LD_STRING D8c-Ar1-1
6003: PPUSH
6004: CALL_OW 94
// end ; end ;
6008: GO 6011
6010: POP
// DialogueOff ;
6011: CALL_OW 7
// dep := NearestUnitToUnit ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_btype , b_depot ] , [ f_btype , b_warehouse ] ] ] ) , Gali ) ;
6015: LD_ADDR_VAR 0 4
6019: PUSH
6020: LD_INT 22
6022: PUSH
6023: LD_INT 1
6025: PUSH
6026: EMPTY
6027: LIST
6028: LIST
6029: PUSH
6030: LD_INT 2
6032: PUSH
6033: LD_INT 30
6035: PUSH
6036: LD_INT 0
6038: PUSH
6039: EMPTY
6040: LIST
6041: LIST
6042: PUSH
6043: LD_INT 30
6045: PUSH
6046: LD_INT 1
6048: PUSH
6049: EMPTY
6050: LIST
6051: LIST
6052: PUSH
6053: EMPTY
6054: LIST
6055: LIST
6056: LIST
6057: PUSH
6058: EMPTY
6059: LIST
6060: LIST
6061: PPUSH
6062: CALL_OW 69
6066: PPUSH
6067: LD_EXP 26
6071: PPUSH
6072: CALL_OW 74
6076: ST_TO_ADDR
// tmp := FilterAllUnits ( [ [ f_side , 2 ] , [ f_type , unit_vehicle ] ] ) ;
6077: LD_ADDR_VAR 0 3
6081: PUSH
6082: LD_INT 22
6084: PUSH
6085: LD_INT 2
6087: PUSH
6088: EMPTY
6089: LIST
6090: LIST
6091: PUSH
6092: LD_INT 21
6094: PUSH
6095: LD_INT 2
6097: PUSH
6098: EMPTY
6099: LIST
6100: LIST
6101: PUSH
6102: EMPTY
6103: LIST
6104: LIST
6105: PPUSH
6106: CALL_OW 69
6110: ST_TO_ADDR
// time := 1 1$35 ;
6111: LD_ADDR_VAR 0 5
6115: PUSH
6116: LD_INT 3325
6118: ST_TO_ADDR
// no_oil_gain := false ;
6119: LD_ADDR_VAR 0 6
6123: PUSH
6124: LD_INT 0
6126: ST_TO_ADDR
// first_warn := false ;
6127: LD_ADDR_VAR 0 7
6131: PUSH
6132: LD_INT 0
6134: ST_TO_ADDR
// if player_want_mortar or player_want_info then
6135: LD_EXP 12
6139: PUSH
6140: LD_EXP 13
6144: OR
6145: IFFALSE 6250
// begin ComPlaceRemoteCharge ( UnitFilter ( ar_force , [ f_class , 1 ] ) , GetX ( dep ) , GetY ( dep ) , dep ) ;
6147: LD_EXP 32
6151: PPUSH
6152: LD_INT 25
6154: PUSH
6155: LD_INT 1
6157: PUSH
6158: EMPTY
6159: LIST
6160: LIST
6161: PPUSH
6162: CALL_OW 72
6166: PPUSH
6167: LD_VAR 0 4
6171: PPUSH
6172: CALL_OW 250
6176: PPUSH
6177: LD_VAR 0 4
6181: PPUSH
6182: CALL_OW 251
6186: PPUSH
6187: LD_VAR 0 4
6191: PPUSH
6192: CALL_OW 133
// AddComMoveXY ( UnitFilter ( ar_force , [ f_class , 1 ] ) , 86 , 121 ) ;
6196: LD_EXP 32
6200: PPUSH
6201: LD_INT 25
6203: PUSH
6204: LD_INT 1
6206: PUSH
6207: EMPTY
6208: LIST
6209: LIST
6210: PPUSH
6211: CALL_OW 72
6215: PPUSH
6216: LD_INT 86
6218: PPUSH
6219: LD_INT 121
6221: PPUSH
6222: CALL_OW 171
// AddComHold ( UnitFilter ( ar_force , [ f_class , 1 ] ) ) ;
6226: LD_EXP 32
6230: PPUSH
6231: LD_INT 25
6233: PUSH
6234: LD_INT 1
6236: PUSH
6237: EMPTY
6238: LIST
6239: LIST
6240: PPUSH
6241: CALL_OW 72
6245: PPUSH
6246: CALL_OW 200
// end ; if player_attacked_ar then
6250: LD_EXP 16
6254: IFFALSE 6258
// exit ;
6256: GO 8824
// if player_want_mortar then
6258: LD_EXP 12
6262: IFFALSE 7654
// begin ComMoveXY ( Gali , GetX ( dep ) + 1 , GetY ( dep ) + 1 ) ;
6264: LD_EXP 26
6268: PPUSH
6269: LD_VAR 0 4
6273: PPUSH
6274: CALL_OW 250
6278: PUSH
6279: LD_INT 1
6281: PLUS
6282: PPUSH
6283: LD_VAR 0 4
6287: PPUSH
6288: CALL_OW 251
6292: PUSH
6293: LD_INT 1
6295: PLUS
6296: PPUSH
6297: CALL_OW 111
// repeat wait ( 0 0$1 ) ;
6301: LD_INT 35
6303: PPUSH
6304: CALL_OW 67
// until GetDistUnits ( Gali , dep ) < 4 ;
6308: LD_EXP 26
6312: PPUSH
6313: LD_VAR 0 4
6317: PPUSH
6318: CALL_OW 296
6322: PUSH
6323: LD_INT 4
6325: LESS
6326: IFFALSE 6301
// for i = 1 to 6 do
6328: LD_ADDR_VAR 0 1
6332: PUSH
6333: DOUBLE
6334: LD_INT 1
6336: DEC
6337: ST_TO_ADDR
6338: LD_INT 6
6340: PUSH
6341: FOR_TO
6342: IFFALSE 6539
// begin if player_attacked_ar then
6344: LD_EXP 16
6348: IFFALSE 6354
// exit ;
6350: POP
6351: POP
6352: GO 8824
// if GetResourceType ( GetBase ( dep ) , mat_oil ) < 10 and not first_warn then
6354: LD_VAR 0 4
6358: PPUSH
6359: CALL_OW 274
6363: PPUSH
6364: LD_INT 2
6366: PPUSH
6367: CALL_OW 275
6371: PUSH
6372: LD_INT 10
6374: LESS
6375: PUSH
6376: LD_VAR 0 7
6380: NOT
6381: AND
6382: IFFALSE 6445
// begin first_warn := true ;
6384: LD_ADDR_VAR 0 7
6388: PUSH
6389: LD_INT 1
6391: ST_TO_ADDR
// DialogueOn ;
6392: CALL_OW 6
// Say ( Bogdanovic , D9a-FAr1-1 ) ;
6396: LD_EXP 27
6400: PPUSH
6401: LD_STRING D9a-FAr1-1
6403: PPUSH
6404: CALL_OW 88
// Say ( JMM , D9a-JMM-1 ) ;
6408: LD_EXP 17
6412: PPUSH
6413: LD_STRING D9a-JMM-1
6415: PPUSH
6416: CALL_OW 88
// Say ( Vervecken , D9a2-Ar1-1 ) ;
6420: LD_EXP 25
6424: PPUSH
6425: LD_STRING D9a2-Ar1-1
6427: PPUSH
6428: CALL_OW 88
// DialogueOff ;
6432: CALL_OW 7
// wait ( time ) ;
6436: LD_VAR 0 5
6440: PPUSH
6441: CALL_OW 67
// end ; if GetResourceType ( GetBase ( dep ) , mat_oil ) < 10 then
6445: LD_VAR 0 4
6449: PPUSH
6450: CALL_OW 274
6454: PPUSH
6455: LD_INT 2
6457: PPUSH
6458: CALL_OW 275
6462: PUSH
6463: LD_INT 10
6465: LESS
6466: IFFALSE 6492
// begin Say ( Vervecken , D9a3-Ar1-1 ) ;
6468: LD_EXP 25
6472: PPUSH
6473: LD_STRING D9a3-Ar1-1
6475: PPUSH
6476: CALL_OW 88
// no_oil_gain := true ;
6480: LD_ADDR_VAR 0 6
6484: PUSH
6485: LD_INT 1
6487: ST_TO_ADDR
// break ;
6488: GO 6539
// end else
6490: GO 6537
// begin AddComTransport ( Gali , dep , mat_oil ) ;
6492: LD_EXP 26
6496: PPUSH
6497: LD_VAR 0 4
6501: PPUSH
6502: LD_INT 2
6504: PPUSH
6505: CALL_OW 211
// AddComRefuel ( Gali , tmp [ i mod 3 + 1 ] ) ;
6509: LD_EXP 26
6513: PPUSH
6514: LD_VAR 0 3
6518: PUSH
6519: LD_VAR 0 1
6523: PUSH
6524: LD_INT 3
6526: MOD
6527: PUSH
6528: LD_INT 1
6530: PLUS
6531: ARRAY
6532: PPUSH
6533: CALL_OW 210
// end ; end ;
6537: GO 6341
6539: POP
6540: POP
// if not no_oil_gain then
6541: LD_VAR 0 6
6545: NOT
6546: IFFALSE 7654
// begin repeat wait ( 0 0$01 ) ;
6548: LD_INT 35
6550: PPUSH
6551: CALL_OW 67
// if player_attacked_ar then
6555: LD_EXP 16
6559: IFFALSE 6563
// exit ;
6561: GO 8824
// until ( GetFuel ( tmp [ 1 ] ) > 80 and GetFuel ( tmp [ 2 ] ) > 80 and GetFuel ( tmp [ 3 ] ) > 80 ) ;
6563: LD_VAR 0 3
6567: PUSH
6568: LD_INT 1
6570: ARRAY
6571: PPUSH
6572: CALL_OW 261
6576: PUSH
6577: LD_INT 80
6579: GREATER
6580: PUSH
6581: LD_VAR 0 3
6585: PUSH
6586: LD_INT 2
6588: ARRAY
6589: PPUSH
6590: CALL_OW 261
6594: PUSH
6595: LD_INT 80
6597: GREATER
6598: AND
6599: PUSH
6600: LD_VAR 0 3
6604: PUSH
6605: LD_INT 3
6607: ARRAY
6608: PPUSH
6609: CALL_OW 261
6613: PUSH
6614: LD_INT 80
6616: GREATER
6617: AND
6618: IFFALSE 6548
// ComMoveXY ( Gali , 105 , 127 ) ;
6620: LD_EXP 26
6624: PPUSH
6625: LD_INT 105
6627: PPUSH
6628: LD_INT 127
6630: PPUSH
6631: CALL_OW 111
// AddComMoveToArea ( Gali , mortarArea ) ;
6635: LD_EXP 26
6639: PPUSH
6640: LD_INT 2
6642: PPUSH
6643: CALL_OW 173
// AddComHold ( Gali ) ;
6647: LD_EXP 26
6651: PPUSH
6652: CALL_OW 200
// repeat wait ( 0 0$01 ) ;
6656: LD_INT 35
6658: PPUSH
6659: CALL_OW 67
// if player_attacked_ar then
6663: LD_EXP 16
6667: IFFALSE 6671
// exit ;
6669: GO 8824
// until GetDistUnitXY ( Gali , 105 , 127 ) < 4 ;
6671: LD_EXP 26
6675: PPUSH
6676: LD_INT 105
6678: PPUSH
6679: LD_INT 127
6681: PPUSH
6682: CALL_OW 297
6686: PUSH
6687: LD_INT 4
6689: LESS
6690: IFFALSE 6656
// if GetResourceType ( GetBase ( dep ) , mat_cans ) < 50 then
6692: LD_VAR 0 4
6696: PPUSH
6697: CALL_OW 274
6701: PPUSH
6702: LD_INT 1
6704: PPUSH
6705: CALL_OW 275
6709: PUSH
6710: LD_INT 50
6712: LESS
6713: IFFALSE 7009
// begin case GetResourceType ( GetBase ( dep ) , mat_cans ) of 0 .. 24 :
6715: LD_VAR 0 4
6719: PPUSH
6720: CALL_OW 274
6724: PPUSH
6725: LD_INT 1
6727: PPUSH
6728: CALL_OW 275
6732: PUSH
6733: LD_INT 0
6735: DOUBLE
6736: GREATEREQUAL
6737: IFFALSE 6745
6739: LD_INT 24
6741: DOUBLE
6742: LESSEQUAL
6743: IFTRUE 6747
6745: GO 6762
6747: POP
// Say ( Gali , D9b-Ar2-1 ) ; 25 .. 49 :
6748: LD_EXP 26
6752: PPUSH
6753: LD_STRING D9b-Ar2-1
6755: PPUSH
6756: CALL_OW 88
6760: GO 6792
6762: LD_INT 25
6764: DOUBLE
6765: GREATEREQUAL
6766: IFFALSE 6774
6768: LD_INT 49
6770: DOUBLE
6771: LESSEQUAL
6772: IFTRUE 6776
6774: GO 6791
6776: POP
// Say ( Gali , D9b-Ar2-1a ) ; end ;
6777: LD_EXP 26
6781: PPUSH
6782: LD_STRING D9b-Ar2-1a
6784: PPUSH
6785: CALL_OW 88
6789: GO 6792
6791: POP
// Say ( JMM , D9b-JMM-1 ) ;
6792: LD_EXP 17
6796: PPUSH
6797: LD_STRING D9b-JMM-1
6799: PPUSH
6800: CALL_OW 88
// x := 0 0$0 ;
6804: LD_ADDR_VAR 0 2
6808: PUSH
6809: LD_INT 0
6811: ST_TO_ADDR
// repeat wait ( 0 0$1 ) ;
6812: LD_INT 35
6814: PPUSH
6815: CALL_OW 67
// x := x + 0 0$1 ;
6819: LD_ADDR_VAR 0 2
6823: PUSH
6824: LD_VAR 0 2
6828: PUSH
6829: LD_INT 35
6831: PLUS
6832: ST_TO_ADDR
// if player_attacked_ar then
6833: LD_EXP 16
6837: IFFALSE 6841
// exit ;
6839: GO 8824
// until x >= time ;
6841: LD_VAR 0 2
6845: PUSH
6846: LD_VAR 0 5
6850: GREATEREQUAL
6851: IFFALSE 6812
// if GetResourceType ( GetBase ( dep ) , mat_cans ) < 50 then
6853: LD_VAR 0 4
6857: PPUSH
6858: CALL_OW 274
6862: PPUSH
6863: LD_INT 1
6865: PPUSH
6866: CALL_OW 275
6870: PUSH
6871: LD_INT 50
6873: LESS
6874: IFFALSE 7007
// begin DialogueOn ;
6876: CALL_OW 6
// Say ( Vervecken , D9c-Ar1-1 ) ;
6880: LD_EXP 25
6884: PPUSH
6885: LD_STRING D9c-Ar1-1
6887: PPUSH
6888: CALL_OW 88
// Say ( JMM , D9c-JMM-1 ) ;
6892: LD_EXP 17
6896: PPUSH
6897: LD_STRING D9c-JMM-1
6899: PPUSH
6900: CALL_OW 88
// Say ( Vervecken , D9c-Ar1-2 ) ;
6904: LD_EXP 25
6908: PPUSH
6909: LD_STRING D9c-Ar1-2
6911: PPUSH
6912: CALL_OW 88
// Say ( Bogdanovic , D9c-FAr1-2 ) ;
6916: LD_EXP 27
6920: PPUSH
6921: LD_STRING D9c-FAr1-2
6923: PPUSH
6924: CALL_OW 88
// Say ( Vervecken , D9c-Ar1-3 ) ;
6928: LD_EXP 25
6932: PPUSH
6933: LD_STRING D9c-Ar1-3
6935: PPUSH
6936: CALL_OW 88
// case Query ( QInfo ) of 1 :
6940: LD_STRING QInfo
6942: PPUSH
6943: CALL_OW 97
6947: PUSH
6948: LD_INT 1
6950: DOUBLE
6951: EQUAL
6952: IFTRUE 6956
6954: GO 6979
6956: POP
// begin Say ( JMM , D8b1-JMM-1 ) ;
6957: LD_EXP 17
6961: PPUSH
6962: LD_STRING D8b1-JMM-1
6964: PPUSH
6965: CALL_OW 88
// player_want_info := 2 ;
6969: LD_ADDR_EXP 13
6973: PUSH
6974: LD_INT 2
6976: ST_TO_ADDR
// end ; 2 :
6977: GO 7003
6979: LD_INT 2
6981: DOUBLE
6982: EQUAL
6983: IFTRUE 6987
6985: GO 7002
6987: POP
// begin Say ( Vervecken , D8b2-Ar1-1 ) ;
6988: LD_EXP 25
6992: PPUSH
6993: LD_STRING D8b2-Ar1-1
6995: PPUSH
6996: CALL_OW 88
// end ; end ;
7000: GO 7003
7002: POP
// DialogueOff ;
7003: CALL_OW 7
// end ; end else
7007: GO 7654
// begin RemoveEnvironmentArea ( mortarArea ) ;
7009: LD_INT 2
7011: PPUSH
7012: CALL_OW 355
// wait ( 1 ) ;
7016: LD_INT 1
7018: PPUSH
7019: CALL_OW 67
// SetSide ( Gali , 1 ) ;
7023: LD_EXP 26
7027: PPUSH
7028: LD_INT 1
7030: PPUSH
7031: CALL_OW 235
// ComBuild ( Gali , b_armoury , 107 , 130 , 0 ) ;
7035: LD_EXP 26
7039: PPUSH
7040: LD_INT 4
7042: PPUSH
7043: LD_INT 107
7045: PPUSH
7046: LD_INT 130
7048: PPUSH
7049: LD_INT 0
7051: PPUSH
7052: CALL_OW 145
// repeat wait ( 1 ) ;
7056: LD_INT 1
7058: PPUSH
7059: CALL_OW 67
// until FilterAllUnits ( [ [ f_btype , b_armoury ] , [ f_nation , nation_arabian ] ] ) ;
7063: LD_INT 30
7065: PUSH
7066: LD_INT 4
7068: PUSH
7069: EMPTY
7070: LIST
7071: LIST
7072: PUSH
7073: LD_INT 23
7075: PUSH
7076: LD_INT 2
7078: PUSH
7079: EMPTY
7080: LIST
7081: LIST
7082: PUSH
7083: EMPTY
7084: LIST
7085: LIST
7086: PPUSH
7087: CALL_OW 69
7091: IFFALSE 7056
// SetSide ( Gali , 2 ) ;
7093: LD_EXP 26
7097: PPUSH
7098: LD_INT 2
7100: PPUSH
7101: CALL_OW 235
// b := FilterAllUnits ( [ [ f_btype , b_armoury ] , [ f_nation , nation_arabian ] ] ) [ 1 ] ;
7105: LD_ADDR_VAR 0 8
7109: PUSH
7110: LD_INT 30
7112: PUSH
7113: LD_INT 4
7115: PUSH
7116: EMPTY
7117: LIST
7118: LIST
7119: PUSH
7120: LD_INT 23
7122: PUSH
7123: LD_INT 2
7125: PUSH
7126: EMPTY
7127: LIST
7128: LIST
7129: PUSH
7130: EMPTY
7131: LIST
7132: LIST
7133: PPUSH
7134: CALL_OW 69
7138: PUSH
7139: LD_INT 1
7141: ARRAY
7142: ST_TO_ADDR
// repeat wait ( 0 0$01 ) ;
7143: LD_INT 35
7145: PPUSH
7146: CALL_OW 67
// if player_attacked_ar then
7150: LD_EXP 16
7154: IFFALSE 7158
// exit ;
7156: GO 8824
// until BuildingStatus ( b ) <> bs_build ;
7158: LD_VAR 0 8
7162: PPUSH
7163: CALL_OW 461
7167: PUSH
7168: LD_INT 1
7170: NONEQUAL
7171: IFFALSE 7143
// if IsOk ( b ) and GetResourceType ( GetBase ( dep ) , mat_cans ) >= 25 then
7173: LD_VAR 0 8
7177: PPUSH
7178: CALL_OW 302
7182: PUSH
7183: LD_VAR 0 4
7187: PPUSH
7188: CALL_OW 274
7192: PPUSH
7193: LD_INT 1
7195: PPUSH
7196: CALL_OW 275
7200: PUSH
7201: LD_INT 25
7203: GREATEREQUAL
7204: AND
7205: IFFALSE 7304
// begin ComUpgrade ( b ) ;
7207: LD_VAR 0 8
7211: PPUSH
7212: CALL_OW 146
// SetTaskList ( Gali , [ [ h , GetX ( b ) , GetY ( b ) , b , 0 , 0 , 0 ] ] ) ;
7216: LD_EXP 26
7220: PPUSH
7221: LD_STRING h
7223: PUSH
7224: LD_VAR 0 8
7228: PPUSH
7229: CALL_OW 250
7233: PUSH
7234: LD_VAR 0 8
7238: PPUSH
7239: CALL_OW 251
7243: PUSH
7244: LD_VAR 0 8
7248: PUSH
7249: LD_INT 0
7251: PUSH
7252: LD_INT 0
7254: PUSH
7255: LD_INT 0
7257: PUSH
7258: EMPTY
7259: LIST
7260: LIST
7261: LIST
7262: LIST
7263: LIST
7264: LIST
7265: LIST
7266: PUSH
7267: EMPTY
7268: LIST
7269: PPUSH
7270: CALL_OW 446
// repeat wait ( 0 0$01 ) ;
7274: LD_INT 35
7276: PPUSH
7277: CALL_OW 67
// if player_attacked_ar then
7281: LD_EXP 16
7285: IFFALSE 7289
// exit ;
7287: GO 8824
// until BuildingStatus ( b ) <> bs_build ;
7289: LD_VAR 0 8
7293: PPUSH
7294: CALL_OW 461
7298: PUSH
7299: LD_INT 1
7301: NONEQUAL
7302: IFFALSE 7274
// end ; if b then
7304: LD_VAR 0 8
7308: IFFALSE 7319
// CenterNowOnUnits ( b ) ;
7310: LD_VAR 0 8
7314: PPUSH
7315: CALL_OW 87
// DialogueOn ;
7319: CALL_OW 6
// Say ( Gali , D9d-Ar2-1 ) ;
7323: LD_EXP 26
7327: PPUSH
7328: LD_STRING D9d-Ar2-1
7330: PPUSH
7331: CALL_OW 88
// Say ( Vervecken , D9d-Ar1-1 ) ;
7335: LD_EXP 25
7339: PPUSH
7340: LD_STRING D9d-Ar1-1
7342: PPUSH
7343: CALL_OW 88
// Say ( JMM , D9d-JMM-1 ) ;
7347: LD_EXP 17
7351: PPUSH
7352: LD_STRING D9d-JMM-1
7354: PPUSH
7355: CALL_OW 88
// Say ( Vervecken , D9d-Ar1-2 ) ;
7359: LD_EXP 25
7363: PPUSH
7364: LD_STRING D9d-Ar1-2
7366: PPUSH
7367: CALL_OW 88
// DialogueOff ;
7371: CALL_OW 7
// i := [ ] ;
7375: LD_ADDR_VAR 0 1
7379: PUSH
7380: EMPTY
7381: ST_TO_ADDR
// if GetResourceType ( GetBase ( dep ) , mat_siberit ) >= 20 then
7382: LD_VAR 0 4
7386: PPUSH
7387: CALL_OW 274
7391: PPUSH
7392: LD_INT 3
7394: PPUSH
7395: CALL_OW 275
7399: PUSH
7400: LD_INT 20
7402: GREATEREQUAL
7403: IFFALSE 7422
// i := i ^ [ 1 ] ;
7405: LD_ADDR_VAR 0 1
7409: PUSH
7410: LD_VAR 0 1
7414: PUSH
7415: LD_INT 1
7417: PUSH
7418: EMPTY
7419: LIST
7420: ADD
7421: ST_TO_ADDR
// if GetResourceType ( GetBase ( dep ) , mat_cans ) >= 50 then
7422: LD_VAR 0 4
7426: PPUSH
7427: CALL_OW 274
7431: PPUSH
7432: LD_INT 1
7434: PPUSH
7435: CALL_OW 275
7439: PUSH
7440: LD_INT 50
7442: GREATEREQUAL
7443: IFFALSE 7462
// i := i ^ [ 2 ] ;
7445: LD_ADDR_VAR 0 1
7449: PUSH
7450: LD_VAR 0 1
7454: PUSH
7455: LD_INT 2
7457: PUSH
7458: EMPTY
7459: LIST
7460: ADD
7461: ST_TO_ADDR
// if GetResourceType ( GetBase ( dep ) , mat_oil ) >= 80 then
7462: LD_VAR 0 4
7466: PPUSH
7467: CALL_OW 274
7471: PPUSH
7472: LD_INT 2
7474: PPUSH
7475: CALL_OW 275
7479: PUSH
7480: LD_INT 80
7482: GREATEREQUAL
7483: IFFALSE 7502
// i := i ^ [ 3 ] ;
7485: LD_ADDR_VAR 0 1
7489: PUSH
7490: LD_VAR 0 1
7494: PUSH
7495: LD_INT 3
7497: PUSH
7498: EMPTY
7499: LIST
7500: ADD
7501: ST_TO_ADDR
// i := i diff 0 ;
7502: LD_ADDR_VAR 0 1
7506: PUSH
7507: LD_VAR 0 1
7511: PUSH
7512: LD_INT 0
7514: DIFF
7515: ST_TO_ADDR
// if i then
7516: LD_VAR 0 1
7520: IFFALSE 7626
// begin i := i ^ [ 4 ] ;
7522: LD_ADDR_VAR 0 1
7526: PUSH
7527: LD_VAR 0 1
7531: PUSH
7532: LD_INT 4
7534: PUSH
7535: EMPTY
7536: LIST
7537: ADD
7538: ST_TO_ADDR
// case Query ( QInfo2 ) of 1 :
7539: LD_STRING QInfo2
7541: PPUSH
7542: CALL_OW 97
7546: PUSH
7547: LD_INT 1
7549: DOUBLE
7550: EQUAL
7551: IFTRUE 7555
7553: GO 7566
7555: POP
// player_want_info := 3 ; 2 :
7556: LD_ADDR_EXP 13
7560: PUSH
7561: LD_INT 3
7563: ST_TO_ADDR
7564: GO 7624
7566: LD_INT 2
7568: DOUBLE
7569: EQUAL
7570: IFTRUE 7574
7572: GO 7585
7574: POP
// player_want_info := 1 ; 3 :
7575: LD_ADDR_EXP 13
7579: PUSH
7580: LD_INT 1
7582: ST_TO_ADDR
7583: GO 7624
7585: LD_INT 3
7587: DOUBLE
7588: EQUAL
7589: IFTRUE 7593
7591: GO 7604
7593: POP
// player_want_info := 2 ; 4 :
7594: LD_ADDR_EXP 13
7598: PUSH
7599: LD_INT 2
7601: ST_TO_ADDR
7602: GO 7624
7604: LD_INT 4
7606: DOUBLE
7607: EQUAL
7608: IFTRUE 7612
7610: GO 7623
7612: POP
// player_want_info := 0 ; end ;
7613: LD_ADDR_EXP 13
7617: PUSH
7618: LD_INT 0
7620: ST_TO_ADDR
7621: GO 7624
7623: POP
// end else
7624: GO 7654
// case Query ( QInfoNothing ) of 1 :
7626: LD_STRING QInfoNothing
7628: PPUSH
7629: CALL_OW 97
7633: PUSH
7634: LD_INT 1
7636: DOUBLE
7637: EQUAL
7638: IFTRUE 7642
7640: GO 7653
7642: POP
// player_want_info := 0 ; end ;
7643: LD_ADDR_EXP 13
7647: PUSH
7648: LD_INT 0
7650: ST_TO_ADDR
7651: GO 7654
7653: POP
// end ; end ; end ; if player_want_info then
7654: LD_EXP 13
7658: IFFALSE 8644
// begin tmp := UnitFilter ( tmp , [ f_weapon , ar_cargo_bay ] ) ;
7660: LD_ADDR_VAR 0 3
7664: PUSH
7665: LD_VAR 0 3
7669: PPUSH
7670: LD_INT 34
7672: PUSH
7673: LD_INT 32
7675: PUSH
7676: EMPTY
7677: LIST
7678: LIST
7679: PPUSH
7680: CALL_OW 72
7684: ST_TO_ADDR
// if player_want_mortar then
7685: LD_EXP 12
7689: IFFALSE 7983
// begin case player_want_info of 1 :
7691: LD_EXP 13
7695: PUSH
7696: LD_INT 1
7698: DOUBLE
7699: EQUAL
7700: IFTRUE 7704
7702: GO 7715
7704: POP
// x := 5 ; 2 :
7705: LD_ADDR_VAR 0 2
7709: PUSH
7710: LD_INT 5
7712: ST_TO_ADDR
7713: GO 7754
7715: LD_INT 2
7717: DOUBLE
7718: EQUAL
7719: IFTRUE 7723
7721: GO 7734
7723: POP
// x := 8 ; 3 :
7724: LD_ADDR_VAR 0 2
7728: PUSH
7729: LD_INT 8
7731: ST_TO_ADDR
7732: GO 7754
7734: LD_INT 3
7736: DOUBLE
7737: EQUAL
7738: IFTRUE 7742
7740: GO 7753
7742: POP
// x := 2 ; end ;
7743: LD_ADDR_VAR 0 2
7747: PUSH
7748: LD_INT 2
7750: ST_TO_ADDR
7751: GO 7754
7753: POP
// for i = 1 to x do
7754: LD_ADDR_VAR 0 1
7758: PUSH
7759: DOUBLE
7760: LD_INT 1
7762: DEC
7763: ST_TO_ADDR
7764: LD_VAR 0 2
7768: PUSH
7769: FOR_TO
7770: IFFALSE 7926
// begin AddComTransport ( Gali , dep , player_want_info ) ;
7772: LD_EXP 26
7776: PPUSH
7777: LD_VAR 0 4
7781: PPUSH
7782: LD_EXP 13
7786: PPUSH
7787: CALL_OW 211
// AddComMoveUnit ( Gali , tmp [ 1 ] ) ;
7791: LD_EXP 26
7795: PPUSH
7796: LD_VAR 0 3
7800: PUSH
7801: LD_INT 1
7803: ARRAY
7804: PPUSH
7805: CALL_OW 172
// repeat wait ( 0 0$1 ) ;
7809: LD_INT 35
7811: PPUSH
7812: CALL_OW 67
// if player_attacked_ar then
7816: LD_EXP 16
7820: IFFALSE 7826
// exit ;
7822: POP
7823: POP
7824: GO 8824
// until GetDistUnits ( Gali , tmp [ 1 ] ) < 4 and GetCargo ( Gali , player_want_info ) ;
7826: LD_EXP 26
7830: PPUSH
7831: LD_VAR 0 3
7835: PUSH
7836: LD_INT 1
7838: ARRAY
7839: PPUSH
7840: CALL_OW 296
7844: PUSH
7845: LD_INT 4
7847: LESS
7848: PUSH
7849: LD_EXP 26
7853: PPUSH
7854: LD_EXP 13
7858: PPUSH
7859: CALL_OW 289
7863: AND
7864: IFFALSE 7809
// SetCargo ( tmp [ 1 ] , player_want_info , GetCargo ( tmp [ 1 ] , player_want_info ) + 10 ) ;
7866: LD_VAR 0 3
7870: PUSH
7871: LD_INT 1
7873: ARRAY
7874: PPUSH
7875: LD_EXP 13
7879: PPUSH
7880: LD_VAR 0 3
7884: PUSH
7885: LD_INT 1
7887: ARRAY
7888: PPUSH
7889: LD_EXP 13
7893: PPUSH
7894: CALL_OW 289
7898: PUSH
7899: LD_INT 10
7901: PLUS
7902: PPUSH
7903: CALL_OW 290
// SetCargo ( Gali , player_want_info , 0 ) ;
7907: LD_EXP 26
7911: PPUSH
7912: LD_EXP 13
7916: PPUSH
7917: LD_INT 0
7919: PPUSH
7920: CALL_OW 290
// end ;
7924: GO 7769
7926: POP
7927: POP
// repeat wait ( 0 0$1 ) ;
7928: LD_INT 35
7930: PPUSH
7931: CALL_OW 67
// if player_attacked_ar then
7935: LD_EXP 16
7939: IFFALSE 7943
// exit ;
7941: GO 8824
// until GetCargo ( tmp [ 1 ] , player_want_info ) = x * 10 ;
7943: LD_VAR 0 3
7947: PUSH
7948: LD_INT 1
7950: ARRAY
7951: PPUSH
7952: LD_EXP 13
7956: PPUSH
7957: CALL_OW 289
7961: PUSH
7962: LD_VAR 0 2
7966: PUSH
7967: LD_INT 10
7969: MUL
7970: EQUAL
7971: IFFALSE 7928
// no_oil_gain := false ;
7973: LD_ADDR_VAR 0 6
7977: PUSH
7978: LD_INT 0
7980: ST_TO_ADDR
// end else
7981: GO 8465
// begin tmp := FilterAllUnits ( [ [ f_side , 2 ] , [ f_type , unit_vehicle ] ] ) ;
7983: LD_ADDR_VAR 0 3
7987: PUSH
7988: LD_INT 22
7990: PUSH
7991: LD_INT 2
7993: PUSH
7994: EMPTY
7995: LIST
7996: LIST
7997: PUSH
7998: LD_INT 21
8000: PUSH
8001: LD_INT 2
8003: PUSH
8004: EMPTY
8005: LIST
8006: LIST
8007: PUSH
8008: EMPTY
8009: LIST
8010: LIST
8011: PPUSH
8012: CALL_OW 69
8016: ST_TO_ADDR
// ComMoveXY ( Gali , GetX ( dep ) + 1 , GetY ( dep ) + 1 ) ;
8017: LD_EXP 26
8021: PPUSH
8022: LD_VAR 0 4
8026: PPUSH
8027: CALL_OW 250
8031: PUSH
8032: LD_INT 1
8034: PLUS
8035: PPUSH
8036: LD_VAR 0 4
8040: PPUSH
8041: CALL_OW 251
8045: PUSH
8046: LD_INT 1
8048: PLUS
8049: PPUSH
8050: CALL_OW 111
// repeat wait ( 0 0$1 ) ;
8054: LD_INT 35
8056: PPUSH
8057: CALL_OW 67
// until GetDistUnits ( Gali , dep ) < 4 ;
8061: LD_EXP 26
8065: PPUSH
8066: LD_VAR 0 4
8070: PPUSH
8071: CALL_OW 296
8075: PUSH
8076: LD_INT 4
8078: LESS
8079: IFFALSE 8054
// for i = 1 to 6 do
8081: LD_ADDR_VAR 0 1
8085: PUSH
8086: DOUBLE
8087: LD_INT 1
8089: DEC
8090: ST_TO_ADDR
8091: LD_INT 6
8093: PUSH
8094: FOR_TO
8095: IFFALSE 8292
// begin if player_attacked_ar then
8097: LD_EXP 16
8101: IFFALSE 8107
// exit ;
8103: POP
8104: POP
8105: GO 8824
// if GetResourceType ( GetBase ( dep ) , mat_oil ) < 10 and not first_warn then
8107: LD_VAR 0 4
8111: PPUSH
8112: CALL_OW 274
8116: PPUSH
8117: LD_INT 2
8119: PPUSH
8120: CALL_OW 275
8124: PUSH
8125: LD_INT 10
8127: LESS
8128: PUSH
8129: LD_VAR 0 7
8133: NOT
8134: AND
8135: IFFALSE 8198
// begin first_warn := true ;
8137: LD_ADDR_VAR 0 7
8141: PUSH
8142: LD_INT 1
8144: ST_TO_ADDR
// DialogueOn ;
8145: CALL_OW 6
// Say ( Bogdanovic , D9a-FAr1-1 ) ;
8149: LD_EXP 27
8153: PPUSH
8154: LD_STRING D9a-FAr1-1
8156: PPUSH
8157: CALL_OW 88
// Say ( JMM , D9a-JMM-1 ) ;
8161: LD_EXP 17
8165: PPUSH
8166: LD_STRING D9a-JMM-1
8168: PPUSH
8169: CALL_OW 88
// Say ( Vervecken , D9a2-Ar1-1 ) ;
8173: LD_EXP 25
8177: PPUSH
8178: LD_STRING D9a2-Ar1-1
8180: PPUSH
8181: CALL_OW 88
// DialogueOff ;
8185: CALL_OW 7
// wait ( time ) ;
8189: LD_VAR 0 5
8193: PPUSH
8194: CALL_OW 67
// end ; if GetResourceType ( GetBase ( dep ) , mat_oil ) < 10 then
8198: LD_VAR 0 4
8202: PPUSH
8203: CALL_OW 274
8207: PPUSH
8208: LD_INT 2
8210: PPUSH
8211: CALL_OW 275
8215: PUSH
8216: LD_INT 10
8218: LESS
8219: IFFALSE 8245
// begin Say ( Vervecken , D9a3-Ar1-1 ) ;
8221: LD_EXP 25
8225: PPUSH
8226: LD_STRING D9a3-Ar1-1
8228: PPUSH
8229: CALL_OW 88
// no_oil_gain := true ;
8233: LD_ADDR_VAR 0 6
8237: PUSH
8238: LD_INT 1
8240: ST_TO_ADDR
// break ;
8241: GO 8292
// end else
8243: GO 8290
// begin AddComTransport ( Gali , dep , mat_oil ) ;
8245: LD_EXP 26
8249: PPUSH
8250: LD_VAR 0 4
8254: PPUSH
8255: LD_INT 2
8257: PPUSH
8258: CALL_OW 211
// AddComRefuel ( Gali , tmp [ i mod 3 + 1 ] ) ;
8262: LD_EXP 26
8266: PPUSH
8267: LD_VAR 0 3
8271: PUSH
8272: LD_VAR 0 1
8276: PUSH
8277: LD_INT 3
8279: MOD
8280: PUSH
8281: LD_INT 1
8283: PLUS
8284: ARRAY
8285: PPUSH
8286: CALL_OW 210
// end ; end ;
8290: GO 8094
8292: POP
8293: POP
// repeat wait ( 0 0$1 ) ;
8294: LD_INT 35
8296: PPUSH
8297: CALL_OW 67
// if player_attacked_ar then
8301: LD_EXP 16
8305: IFFALSE 8309
// exit ;
8307: GO 8824
// for i in tmp do
8309: LD_ADDR_VAR 0 1
8313: PUSH
8314: LD_VAR 0 3
8318: PUSH
8319: FOR_IN
8320: IFFALSE 8351
// if GetFuel ( i ) < 100 then
8322: LD_VAR 0 1
8326: PPUSH
8327: CALL_OW 261
8331: PUSH
8332: LD_INT 100
8334: LESS
8335: IFFALSE 8349
// begin x := i ;
8337: LD_ADDR_VAR 0 2
8341: PUSH
8342: LD_VAR 0 1
8346: ST_TO_ADDR
// break ;
8347: GO 8351
// end ;
8349: GO 8319
8351: POP
8352: POP
// if not HasTask ( Gali ) and not Carry ( Gali ) then
8353: LD_EXP 26
8357: PPUSH
8358: CALL_OW 314
8362: NOT
8363: PUSH
8364: LD_EXP 26
8368: PPUSH
8369: CALL_OW 281
8373: NOT
8374: AND
8375: IFFALSE 8408
// begin ComTransport ( Gali , dep , mat_oil ) ;
8377: LD_EXP 26
8381: PPUSH
8382: LD_VAR 0 4
8386: PPUSH
8387: LD_INT 2
8389: PPUSH
8390: CALL_OW 151
// AddComRefuel ( Gali , x ) ;
8394: LD_EXP 26
8398: PPUSH
8399: LD_VAR 0 2
8403: PPUSH
8404: CALL_OW 210
// end ; until ( GetFuel ( tmp [ 1 ] ) > 80 and GetFuel ( tmp [ 2 ] ) > 80 and GetFuel ( tmp [ 3 ] ) > 80 ) ;
8408: LD_VAR 0 3
8412: PUSH
8413: LD_INT 1
8415: ARRAY
8416: PPUSH
8417: CALL_OW 261
8421: PUSH
8422: LD_INT 80
8424: GREATER
8425: PUSH
8426: LD_VAR 0 3
8430: PUSH
8431: LD_INT 2
8433: ARRAY
8434: PPUSH
8435: CALL_OW 261
8439: PUSH
8440: LD_INT 80
8442: GREATER
8443: AND
8444: PUSH
8445: LD_VAR 0 3
8449: PUSH
8450: LD_INT 3
8452: ARRAY
8453: PPUSH
8454: CALL_OW 261
8458: PUSH
8459: LD_INT 80
8461: GREATER
8462: AND
8463: IFFALSE 8294
// end ; ComHold ( Gali ) ;
8465: LD_EXP 26
8469: PPUSH
8470: CALL_OW 140
// if not no_oil_gain then
8474: LD_VAR 0 6
8478: NOT
8479: IFFALSE 8644
// begin DialogueOn ;
8481: CALL_OW 6
// CenterNowOnUnits ( Vervecken ) ;
8485: LD_EXP 25
8489: PPUSH
8490: CALL_OW 87
// if player_want_mortar then
8494: LD_EXP 12
8498: IFFALSE 8524
// begin Say ( Vervecken , D9e-Ar1-1 ) ;
8500: LD_EXP 25
8504: PPUSH
8505: LD_STRING D9e-Ar1-1
8507: PPUSH
8508: CALL_OW 88
// Say ( JMM , D10a-JMM-1 ) ;
8512: LD_EXP 17
8516: PPUSH
8517: LD_STRING D10a-JMM-1
8519: PPUSH
8520: CALL_OW 88
// end ; Say ( Vervecken , D10a-Ar1-1 ) ;
8524: LD_EXP 25
8528: PPUSH
8529: LD_STRING D10a-Ar1-1
8531: PPUSH
8532: CALL_OW 88
// Say ( Gali , D10a-Ar2-1 ) ;
8536: LD_EXP 26
8540: PPUSH
8541: LD_STRING D10a-Ar2-1
8543: PPUSH
8544: CALL_OW 88
// Say ( Bogdanovic , D10a-FAr1-1 ) ;
8548: LD_EXP 27
8552: PPUSH
8553: LD_STRING D10a-FAr1-1
8555: PPUSH
8556: CALL_OW 88
// Say ( Gali , D10a-Ar2-2 ) ;
8560: LD_EXP 26
8564: PPUSH
8565: LD_STRING D10a-Ar2-2
8567: PPUSH
8568: CALL_OW 88
// Say ( Bogdanovic , D10a-FAr1-2 ) ;
8572: LD_EXP 27
8576: PPUSH
8577: LD_STRING D10a-FAr1-2
8579: PPUSH
8580: CALL_OW 88
// Say ( Vervecken , D10a-Ar1-2 ) ;
8584: LD_EXP 25
8588: PPUSH
8589: LD_STRING D10a-Ar1-2
8591: PPUSH
8592: CALL_OW 88
// Say ( JMM , D10a-JMM-2 ) ;
8596: LD_EXP 17
8600: PPUSH
8601: LD_STRING D10a-JMM-2
8603: PPUSH
8604: CALL_OW 88
// Say ( Vervecken , D10a-Ar1-3 ) ;
8608: LD_EXP 25
8612: PPUSH
8613: LD_STRING D10a-Ar1-3
8615: PPUSH
8616: CALL_OW 88
// Say ( JMM , D10a-JMM-3 ) ;
8620: LD_EXP 17
8624: PPUSH
8625: LD_STRING D10a-JMM-3
8627: PPUSH
8628: CALL_OW 88
// player_get_info := true ;
8632: LD_ADDR_EXP 15
8636: PUSH
8637: LD_INT 1
8639: ST_TO_ADDR
// DialogueOff ;
8640: CALL_OW 7
// end ; end ; if player_attacked_ar then
8644: LD_EXP 16
8648: IFFALSE 8652
// exit ;
8650: GO 8824
// if player_want_mortar or player_want_info then
8652: LD_EXP 12
8656: PUSH
8657: LD_EXP 13
8661: OR
8662: IFFALSE 8676
// Say ( Vervecken , D9f-Ar1-1 ) ;
8664: LD_EXP 25
8668: PPUSH
8669: LD_STRING D9f-Ar1-1
8671: PPUSH
8672: CALL_OW 88
// repeat ComMoveXY ( FilterAllUnits ( [ f_side , 2 ] ) , 51 , 99 ) ;
8676: LD_INT 22
8678: PUSH
8679: LD_INT 2
8681: PUSH
8682: EMPTY
8683: LIST
8684: LIST
8685: PPUSH
8686: CALL_OW 69
8690: PPUSH
8691: LD_INT 51
8693: PPUSH
8694: LD_INT 99
8696: PPUSH
8697: CALL_OW 111
// wait ( 0 0$1 ) ;
8701: LD_INT 35
8703: PPUSH
8704: CALL_OW 67
// if FilterAllUnits ( [ [ f_side , 2 ] , [ f_distxy , 51 , 99 , 2 ] ] ) then
8708: LD_INT 22
8710: PUSH
8711: LD_INT 2
8713: PUSH
8714: EMPTY
8715: LIST
8716: LIST
8717: PUSH
8718: LD_INT 92
8720: PUSH
8721: LD_INT 51
8723: PUSH
8724: LD_INT 99
8726: PUSH
8727: LD_INT 2
8729: PUSH
8730: EMPTY
8731: LIST
8732: LIST
8733: LIST
8734: LIST
8735: PUSH
8736: EMPTY
8737: LIST
8738: LIST
8739: PPUSH
8740: CALL_OW 69
8744: IFFALSE 8804
// for i in FilterAllUnits ( [ [ f_side , 2 ] , [ f_distxy , 51 , 99 , 2 ] ] ) do
8746: LD_ADDR_VAR 0 1
8750: PUSH
8751: LD_INT 22
8753: PUSH
8754: LD_INT 2
8756: PUSH
8757: EMPTY
8758: LIST
8759: LIST
8760: PUSH
8761: LD_INT 92
8763: PUSH
8764: LD_INT 51
8766: PUSH
8767: LD_INT 99
8769: PUSH
8770: LD_INT 2
8772: PUSH
8773: EMPTY
8774: LIST
8775: LIST
8776: LIST
8777: LIST
8778: PUSH
8779: EMPTY
8780: LIST
8781: LIST
8782: PPUSH
8783: CALL_OW 69
8787: PUSH
8788: FOR_IN
8789: IFFALSE 8802
// RemoveUnit ( i ) ;
8791: LD_VAR 0 1
8795: PPUSH
8796: CALL_OW 64
8800: GO 8788
8802: POP
8803: POP
// until FilterAllUnits ( [ f_side , 2 ] ) = 0 ;
8804: LD_INT 22
8806: PUSH
8807: LD_INT 2
8809: PUSH
8810: EMPTY
8811: LIST
8812: LIST
8813: PPUSH
8814: CALL_OW 69
8818: PUSH
8819: LD_INT 0
8821: EQUAL
8822: IFFALSE 8676
// end ;
8824: PPOPN 8
8826: END
// every 0 0$1 trigger player_attacked_ar do var i , tmp , mine_launched , x ;
8827: LD_EXP 16
8831: IFFALSE 9184
8833: GO 8835
8835: DISABLE
8836: LD_INT 0
8838: PPUSH
8839: PPUSH
8840: PPUSH
8841: PPUSH
// begin ru_can_attack := true ;
8842: LD_ADDR_EXP 8
8846: PUSH
8847: LD_INT 1
8849: ST_TO_ADDR
// mine_launched := false ;
8850: LD_ADDR_VAR 0 3
8854: PUSH
8855: LD_INT 0
8857: ST_TO_ADDR
// ComMoveXY ( FilterAllUnits ( [ f_side , 2 ] ) , 51 , 99 ) ;
8858: LD_INT 22
8860: PUSH
8861: LD_INT 2
8863: PUSH
8864: EMPTY
8865: LIST
8866: LIST
8867: PPUSH
8868: CALL_OW 69
8872: PPUSH
8873: LD_INT 51
8875: PPUSH
8876: LD_INT 99
8878: PPUSH
8879: CALL_OW 111
// if IsOk ( Vervecken ) then
8883: LD_EXP 25
8887: PPUSH
8888: CALL_OW 302
8892: IFFALSE 8906
// Say ( Vervecken , D11a-Ar1-1 ) ;
8894: LD_EXP 25
8898: PPUSH
8899: LD_STRING D11a-Ar1-1
8901: PPUSH
8902: CALL_OW 88
// tmp := UnitFilter ( ar_force , [ f_class , 1 ] ) ;
8906: LD_ADDR_VAR 0 2
8910: PUSH
8911: LD_EXP 32
8915: PPUSH
8916: LD_INT 25
8918: PUSH
8919: LD_INT 1
8921: PUSH
8922: EMPTY
8923: LIST
8924: LIST
8925: PPUSH
8926: CALL_OW 72
8930: ST_TO_ADDR
// for i in tmp do
8931: LD_ADDR_VAR 0 1
8935: PUSH
8936: LD_VAR 0 2
8940: PUSH
8941: FOR_IN
8942: IFFALSE 9005
// if MineOfUnit ( i ) then
8944: LD_VAR 0 1
8948: PPUSH
8949: CALL_OW 459
8953: IFFALSE 9003
// begin x := MineOfUnit ( i ) ;
8955: LD_ADDR_VAR 0 4
8959: PUSH
8960: LD_VAR 0 1
8964: PPUSH
8965: CALL_OW 459
8969: ST_TO_ADDR
// mine_launched := true ;
8970: LD_ADDR_VAR 0 3
8974: PUSH
8975: LD_INT 1
8977: ST_TO_ADDR
// LaunchMineAtPos ( x [ 1 ] , x [ 2 ] , 2 ) ;
8978: LD_VAR 0 4
8982: PUSH
8983: LD_INT 1
8985: ARRAY
8986: PPUSH
8987: LD_VAR 0 4
8991: PUSH
8992: LD_INT 2
8994: ARRAY
8995: PPUSH
8996: LD_INT 2
8998: PPUSH
8999: CALL_OW 456
// end ;
9003: GO 8941
9005: POP
9006: POP
// if mine_launched and IsOk ( Vervecken ) then
9007: LD_VAR 0 3
9011: PUSH
9012: LD_EXP 25
9016: PPUSH
9017: CALL_OW 302
9021: AND
9022: IFFALSE 9036
// Say ( Vervecken , D11b-Ar1-1 ) ;
9024: LD_EXP 25
9028: PPUSH
9029: LD_STRING D11b-Ar1-1
9031: PPUSH
9032: CALL_OW 88
// repeat ComMoveXY ( FilterAllUnits ( [ f_side , 2 ] ) , 51 , 99 ) ;
9036: LD_INT 22
9038: PUSH
9039: LD_INT 2
9041: PUSH
9042: EMPTY
9043: LIST
9044: LIST
9045: PPUSH
9046: CALL_OW 69
9050: PPUSH
9051: LD_INT 51
9053: PPUSH
9054: LD_INT 99
9056: PPUSH
9057: CALL_OW 111
// wait ( 0 0$1 ) ;
9061: LD_INT 35
9063: PPUSH
9064: CALL_OW 67
// if FilterAllUnits ( [ [ f_side , 2 ] , [ f_distxy , 51 , 99 , 2 ] ] ) then
9068: LD_INT 22
9070: PUSH
9071: LD_INT 2
9073: PUSH
9074: EMPTY
9075: LIST
9076: LIST
9077: PUSH
9078: LD_INT 92
9080: PUSH
9081: LD_INT 51
9083: PUSH
9084: LD_INT 99
9086: PUSH
9087: LD_INT 2
9089: PUSH
9090: EMPTY
9091: LIST
9092: LIST
9093: LIST
9094: LIST
9095: PUSH
9096: EMPTY
9097: LIST
9098: LIST
9099: PPUSH
9100: CALL_OW 69
9104: IFFALSE 9164
// for i in FilterAllUnits ( [ [ f_side , 2 ] , [ f_distxy , 51 , 99 , 2 ] ] ) do
9106: LD_ADDR_VAR 0 1
9110: PUSH
9111: LD_INT 22
9113: PUSH
9114: LD_INT 2
9116: PUSH
9117: EMPTY
9118: LIST
9119: LIST
9120: PUSH
9121: LD_INT 92
9123: PUSH
9124: LD_INT 51
9126: PUSH
9127: LD_INT 99
9129: PUSH
9130: LD_INT 2
9132: PUSH
9133: EMPTY
9134: LIST
9135: LIST
9136: LIST
9137: LIST
9138: PUSH
9139: EMPTY
9140: LIST
9141: LIST
9142: PPUSH
9143: CALL_OW 69
9147: PUSH
9148: FOR_IN
9149: IFFALSE 9162
// RemoveUnit ( i ) ;
9151: LD_VAR 0 1
9155: PPUSH
9156: CALL_OW 64
9160: GO 9148
9162: POP
9163: POP
// until FilterAllUnits ( [ f_side , 2 ] ) = 0 ;
9164: LD_INT 22
9166: PUSH
9167: LD_INT 2
9169: PUSH
9170: EMPTY
9171: LIST
9172: LIST
9173: PPUSH
9174: CALL_OW 69
9178: PUSH
9179: LD_INT 0
9181: EQUAL
9182: IFFALSE 9036
// end ;
9184: PPOPN 4
9186: END
// every 0 0$1 trigger ar_can_arrive do var i ;
9187: LD_EXP 10
9191: IFFALSE 9370
9193: GO 9195
9195: DISABLE
9196: LD_INT 0
9198: PPUSH
// begin Wait ( 10 10$00 ) ;
9199: LD_INT 21000
9201: PPUSH
9202: CALL_OW 67
// if FilterAllUnits ( [ f_side , 2 ] ) then
9206: LD_INT 22
9208: PUSH
9209: LD_INT 2
9211: PUSH
9212: EMPTY
9213: LIST
9214: LIST
9215: PPUSH
9216: CALL_OW 69
9220: IFFALSE 9370
// begin repeat ComAgressiveMove ( FilterAllUnits ( [ f_side , 2 ] ) , 51 , 99 ) ;
9222: LD_INT 22
9224: PUSH
9225: LD_INT 2
9227: PUSH
9228: EMPTY
9229: LIST
9230: LIST
9231: PPUSH
9232: CALL_OW 69
9236: PPUSH
9237: LD_INT 51
9239: PPUSH
9240: LD_INT 99
9242: PPUSH
9243: CALL_OW 114
// wait ( 0 0$1 ) ;
9247: LD_INT 35
9249: PPUSH
9250: CALL_OW 67
// if FilterAllUnits ( [ [ f_side , 2 ] , [ f_distxy , 51 , 99 , 2 ] ] ) then
9254: LD_INT 22
9256: PUSH
9257: LD_INT 2
9259: PUSH
9260: EMPTY
9261: LIST
9262: LIST
9263: PUSH
9264: LD_INT 92
9266: PUSH
9267: LD_INT 51
9269: PUSH
9270: LD_INT 99
9272: PUSH
9273: LD_INT 2
9275: PUSH
9276: EMPTY
9277: LIST
9278: LIST
9279: LIST
9280: LIST
9281: PUSH
9282: EMPTY
9283: LIST
9284: LIST
9285: PPUSH
9286: CALL_OW 69
9290: IFFALSE 9350
// for i in FilterAllUnits ( [ [ f_side , 2 ] , [ f_distxy , 51 , 99 , 2 ] ] ) do
9292: LD_ADDR_VAR 0 1
9296: PUSH
9297: LD_INT 22
9299: PUSH
9300: LD_INT 2
9302: PUSH
9303: EMPTY
9304: LIST
9305: LIST
9306: PUSH
9307: LD_INT 92
9309: PUSH
9310: LD_INT 51
9312: PUSH
9313: LD_INT 99
9315: PUSH
9316: LD_INT 2
9318: PUSH
9319: EMPTY
9320: LIST
9321: LIST
9322: LIST
9323: LIST
9324: PUSH
9325: EMPTY
9326: LIST
9327: LIST
9328: PPUSH
9329: CALL_OW 69
9333: PUSH
9334: FOR_IN
9335: IFFALSE 9348
// RemoveUnit ( i ) ;
9337: LD_VAR 0 1
9341: PPUSH
9342: CALL_OW 64
9346: GO 9334
9348: POP
9349: POP
// until FilterAllUnits ( [ f_side , 2 ] ) = 0 ;
9350: LD_INT 22
9352: PUSH
9353: LD_INT 2
9355: PUSH
9356: EMPTY
9357: LIST
9358: LIST
9359: PPUSH
9360: CALL_OW 69
9364: PUSH
9365: LD_INT 0
9367: EQUAL
9368: IFFALSE 9222
// end ; end ;
9370: PPOPN 1
9372: END
// every 0 0$1 trigger jmm_in_ovsyenko do var i , tmp , sib ;
9373: LD_EXP 4
9377: IFFALSE 10159
9379: GO 9381
9381: DISABLE
9382: LD_INT 0
9384: PPUSH
9385: PPUSH
9386: PPUSH
// begin Wait ( game_time ) ;
9387: LD_EXP 7
9391: PPUSH
9392: CALL_OW 67
// repeat wait ( 0 0$1 ) ;
9396: LD_INT 35
9398: PPUSH
9399: CALL_OW 67
// until ( not ru_can_attack ) ;
9403: LD_EXP 8
9407: NOT
9408: IFFALSE 9396
// Wait ( 0 0$35 ) ;
9410: LD_INT 1225
9412: PPUSH
9413: CALL_OW 67
// DialogueOn ;
9417: CALL_OW 6
// InGameOn ;
9421: CALL_OW 8
// SayRadio ( Powell , D12-Pow-1 ) ;
9425: LD_EXP 24
9429: PPUSH
9430: LD_STRING D12-Pow-1
9432: PPUSH
9433: CALL_OW 94
// InGameOff ;
9437: CALL_OW 9
// DialogueOff ;
9441: CALL_OW 7
// ChangeMissionObjectives ( M4 ) ;
9445: LD_STRING M4
9447: PPUSH
9448: CALL_OW 337
// SetAreaMapShow ( endMissionArea , 1 ) ;
9452: LD_INT 5
9454: PPUSH
9455: LD_INT 1
9457: PPUSH
9458: CALL_OW 424
// repeat wait ( 0 0$1 ) ;
9462: LD_INT 35
9464: PPUSH
9465: CALL_OW 67
// until FilterAllUnits ( [ [ f_side , 1 ] , [ f_type , unit_human ] ] ) = FilterUnitsInArea ( endMissionArea , [ [ f_side , 1 ] , [ f_or , [ f_type , unit_human ] , [ f_driving ] ] ] ) ;
9469: LD_INT 22
9471: PUSH
9472: LD_INT 1
9474: PUSH
9475: EMPTY
9476: LIST
9477: LIST
9478: PUSH
9479: LD_INT 21
9481: PUSH
9482: LD_INT 1
9484: PUSH
9485: EMPTY
9486: LIST
9487: LIST
9488: PUSH
9489: EMPTY
9490: LIST
9491: LIST
9492: PPUSH
9493: CALL_OW 69
9497: PUSH
9498: LD_INT 5
9500: PPUSH
9501: LD_INT 22
9503: PUSH
9504: LD_INT 1
9506: PUSH
9507: EMPTY
9508: LIST
9509: LIST
9510: PUSH
9511: LD_INT 2
9513: PUSH
9514: LD_INT 21
9516: PUSH
9517: LD_INT 1
9519: PUSH
9520: EMPTY
9521: LIST
9522: LIST
9523: PUSH
9524: LD_INT 55
9526: PUSH
9527: EMPTY
9528: LIST
9529: PUSH
9530: EMPTY
9531: LIST
9532: LIST
9533: LIST
9534: PUSH
9535: EMPTY
9536: LIST
9537: LIST
9538: PPUSH
9539: CALL_OW 70
9543: EQUAL
9544: IFFALSE 9462
// if not player_get_info then
9546: LD_EXP 15
9550: NOT
9551: IFFALSE 9562
// player_get_info := - 1 ;
9553: LD_ADDR_EXP 15
9557: PUSH
9558: LD_INT 1
9560: NEG
9561: ST_TO_ADDR
// AddMedal ( player_get_info , Information ) ;
9562: LD_EXP 15
9566: PPUSH
9567: LD_STRING Information
9569: PPUSH
9570: CALL_OW 101
// tmp := FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_class , 2 ] , [ f_class , 16 ] , [ f_weapon , us_cargo_bay ] ] ] ) ;
9574: LD_ADDR_VAR 0 2
9578: PUSH
9579: LD_INT 22
9581: PUSH
9582: LD_INT 1
9584: PUSH
9585: EMPTY
9586: LIST
9587: LIST
9588: PUSH
9589: LD_INT 2
9591: PUSH
9592: LD_INT 25
9594: PUSH
9595: LD_INT 2
9597: PUSH
9598: EMPTY
9599: LIST
9600: LIST
9601: PUSH
9602: LD_INT 25
9604: PUSH
9605: LD_INT 16
9607: PUSH
9608: EMPTY
9609: LIST
9610: LIST
9611: PUSH
9612: LD_INT 34
9614: PUSH
9615: LD_INT 12
9617: PUSH
9618: EMPTY
9619: LIST
9620: LIST
9621: PUSH
9622: EMPTY
9623: LIST
9624: LIST
9625: LIST
9626: LIST
9627: PUSH
9628: EMPTY
9629: LIST
9630: LIST
9631: PPUSH
9632: CALL_OW 69
9636: ST_TO_ADDR
// sib := GetTerminalCargo ;
9637: LD_ADDR_VAR 0 3
9641: PUSH
9642: CALL 748 0 0
9646: ST_TO_ADDR
// sib := sib + GetResourceArea ( terminalArea , mat_siberit ) ;
9647: LD_ADDR_VAR 0 3
9651: PUSH
9652: LD_VAR 0 3
9656: PUSH
9657: LD_INT 6
9659: PPUSH
9660: LD_INT 3
9662: PPUSH
9663: CALL_OW 287
9667: PLUS
9668: ST_TO_ADDR
// sib := sib + GetCargo ( tmp , mat_siberit ) ;
9669: LD_ADDR_VAR 0 3
9673: PUSH
9674: LD_VAR 0 3
9678: PUSH
9679: LD_VAR 0 2
9683: PPUSH
9684: LD_INT 3
9686: PPUSH
9687: CALL_OW 289
9691: PLUS
9692: ST_TO_ADDR
// if sib < ( 2 + Difficulty ) * 50 then
9693: LD_VAR 0 3
9697: PUSH
9698: LD_INT 2
9700: PUSH
9701: LD_OWVAR 67
9705: PLUS
9706: PUSH
9707: LD_INT 50
9709: MUL
9710: LESS
9711: IFFALSE 9736
// AddMedal ( - 2 * Difficulty + 1 , MuchSiberite ) else
9713: LD_INT 2
9715: NEG
9716: PUSH
9717: LD_OWVAR 67
9721: MUL
9722: PUSH
9723: LD_INT 1
9725: PLUS
9726: PPUSH
9727: LD_STRING MuchSiberite
9729: PPUSH
9730: CALL_OW 101
9734: GO 9746
// AddMedal ( 1 , MuchSiberite ) ;
9736: LD_INT 1
9738: PPUSH
9739: LD_STRING MuchSiberite
9741: PPUSH
9742: CALL_OW 101
// RewardPeople ( FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] , [ f_class , 8 ] ] ] ) ) ;
9746: LD_INT 22
9748: PUSH
9749: LD_INT 1
9751: PUSH
9752: EMPTY
9753: LIST
9754: LIST
9755: PUSH
9756: LD_INT 2
9758: PUSH
9759: LD_INT 25
9761: PUSH
9762: LD_INT 1
9764: PUSH
9765: EMPTY
9766: LIST
9767: LIST
9768: PUSH
9769: LD_INT 25
9771: PUSH
9772: LD_INT 2
9774: PUSH
9775: EMPTY
9776: LIST
9777: LIST
9778: PUSH
9779: LD_INT 25
9781: PUSH
9782: LD_INT 3
9784: PUSH
9785: EMPTY
9786: LIST
9787: LIST
9788: PUSH
9789: LD_INT 25
9791: PUSH
9792: LD_INT 4
9794: PUSH
9795: EMPTY
9796: LIST
9797: LIST
9798: PUSH
9799: LD_INT 25
9801: PUSH
9802: LD_INT 8
9804: PUSH
9805: EMPTY
9806: LIST
9807: LIST
9808: PUSH
9809: EMPTY
9810: LIST
9811: LIST
9812: LIST
9813: LIST
9814: LIST
9815: LIST
9816: PUSH
9817: EMPTY
9818: LIST
9819: LIST
9820: PPUSH
9821: CALL_OW 69
9825: PPUSH
9826: CALL_OW 43
// tmp := FilterAllUnits ( [ [ f_side , 1 ] , [ f_class , 8 ] ] ) ;
9830: LD_ADDR_VAR 0 2
9834: PUSH
9835: LD_INT 22
9837: PUSH
9838: LD_INT 1
9840: PUSH
9841: EMPTY
9842: LIST
9843: LIST
9844: PUSH
9845: LD_INT 25
9847: PUSH
9848: LD_INT 8
9850: PUSH
9851: EMPTY
9852: LIST
9853: LIST
9854: PUSH
9855: EMPTY
9856: LIST
9857: LIST
9858: PPUSH
9859: CALL_OW 69
9863: ST_TO_ADDR
// if tmp then
9864: LD_VAR 0 2
9868: IFFALSE 9899
// for i in tmp do
9870: LD_ADDR_VAR 0 1
9874: PUSH
9875: LD_VAR 0 2
9879: PUSH
9880: FOR_IN
9881: IFFALSE 9897
// SetClass ( i , 1 ) ;
9883: LD_VAR 0 1
9887: PPUSH
9888: LD_INT 1
9890: PPUSH
9891: CALL_OW 336
9895: GO 9880
9897: POP
9898: POP
// SaveVariable ( sib , 09_sibRes ) ;
9899: LD_VAR 0 3
9903: PPUSH
9904: LD_STRING 09_sibRes
9906: PPUSH
9907: CALL_OW 39
// SaveVariable ( player_get_info , 09_arInfo ) ;
9911: LD_EXP 15
9915: PPUSH
9916: LD_STRING 09_arInfo
9918: PPUSH
9919: CALL_OW 39
// SaveCharacters ( JMM , mission_prefix & JMM ) ;
9923: LD_EXP 17
9927: PPUSH
9928: LD_EXP 1
9932: PUSH
9933: LD_STRING JMM
9935: STR
9936: PPUSH
9937: CALL_OW 38
// if IsLive ( Gary ) then
9941: LD_EXP 18
9945: PPUSH
9946: CALL_OW 300
9950: IFFALSE 9970
// SaveCharacters ( Gary , mission_prefix & Gary ) ;
9952: LD_EXP 18
9956: PPUSH
9957: LD_EXP 1
9961: PUSH
9962: LD_STRING Gary
9964: STR
9965: PPUSH
9966: CALL_OW 38
// if IsLive ( Bobby ) then
9970: LD_EXP 19
9974: PPUSH
9975: CALL_OW 300
9979: IFFALSE 9999
// SaveCharacters ( Bobby , mission_prefix & Bobby ) ;
9981: LD_EXP 19
9985: PPUSH
9986: LD_EXP 1
9990: PUSH
9991: LD_STRING Bobby
9993: STR
9994: PPUSH
9995: CALL_OW 38
// if IsLive ( Cyrus ) then
9999: LD_EXP 20
10003: PPUSH
10004: CALL_OW 300
10008: IFFALSE 10028
// SaveCharacters ( Cyrus , mission_prefix & Cyrus ) ;
10010: LD_EXP 20
10014: PPUSH
10015: LD_EXP 1
10019: PUSH
10020: LD_STRING Cyrus
10022: STR
10023: PPUSH
10024: CALL_OW 38
// if IsLive ( Houten ) then
10028: LD_EXP 21
10032: PPUSH
10033: CALL_OW 300
10037: IFFALSE 10057
// SaveCharacters ( Houten , mission_prefix & Houten ) ;
10039: LD_EXP 21
10043: PPUSH
10044: LD_EXP 1
10048: PUSH
10049: LD_STRING Houten
10051: STR
10052: PPUSH
10053: CALL_OW 38
// tmp := FilterAllUnits ( [ [ f_side , 1 ] , [ f_or , [ f_class , 1 ] , [ f_class , 2 ] , [ f_class , 3 ] , [ f_class , 4 ] ] ] ) ;
10057: LD_ADDR_VAR 0 2
10061: PUSH
10062: LD_INT 22
10064: PUSH
10065: LD_INT 1
10067: PUSH
10068: EMPTY
10069: LIST
10070: LIST
10071: PUSH
10072: LD_INT 2
10074: PUSH
10075: LD_INT 25
10077: PUSH
10078: LD_INT 1
10080: PUSH
10081: EMPTY
10082: LIST
10083: LIST
10084: PUSH
10085: LD_INT 25
10087: PUSH
10088: LD_INT 2
10090: PUSH
10091: EMPTY
10092: LIST
10093: LIST
10094: PUSH
10095: LD_INT 25
10097: PUSH
10098: LD_INT 3
10100: PUSH
10101: EMPTY
10102: LIST
10103: LIST
10104: PUSH
10105: LD_INT 25
10107: PUSH
10108: LD_INT 4
10110: PUSH
10111: EMPTY
10112: LIST
10113: LIST
10114: PUSH
10115: EMPTY
10116: LIST
10117: LIST
10118: LIST
10119: LIST
10120: LIST
10121: PUSH
10122: EMPTY
10123: LIST
10124: LIST
10125: PPUSH
10126: CALL_OW 69
10130: ST_TO_ADDR
// if tmp then
10131: LD_VAR 0 2
10135: IFFALSE 10155
// SaveCharacters ( tmp , mission_prefix & others ) ;
10137: LD_VAR 0 2
10141: PPUSH
10142: LD_EXP 1
10146: PUSH
10147: LD_STRING others
10149: STR
10150: PPUSH
10151: CALL_OW 38
// YouWin ;
10155: CALL_OW 103
// end ; end_of_file
10159: PPOPN 3
10161: END
// on BuildingStarted ( b , eng ) do begin if GetBType ( b ) = b_depot and not terminal then
10162: LD_VAR 0 1
10166: PPUSH
10167: CALL_OW 266
10171: PUSH
10172: LD_INT 0
10174: EQUAL
10175: PUSH
10176: LD_EXP 3
10180: NOT
10181: AND
10182: IFFALSE 10206
// begin terminal := b ;
10184: LD_ADDR_EXP 3
10188: PUSH
10189: LD_VAR 0 1
10193: ST_TO_ADDR
// SetBName ( terminal , terminal ) ;
10194: LD_EXP 3
10198: PPUSH
10199: LD_STRING terminal
10201: PPUSH
10202: CALL_OW 500
// end ; end ;
10206: PPOPN 2
10208: END
// on BuildingComplete ( b ) do var i ;
10209: LD_INT 0
10211: PPUSH
// begin if GetSide ( b ) = 3 then
10212: LD_VAR 0 1
10216: PPUSH
10217: CALL_OW 255
10221: PUSH
10222: LD_INT 3
10224: EQUAL
10225: IFFALSE 10265
// for i = 1 to 4 do
10227: LD_ADDR_VAR 0 2
10231: PUSH
10232: DOUBLE
10233: LD_INT 1
10235: DEC
10236: ST_TO_ADDR
10237: LD_INT 4
10239: PUSH
10240: FOR_TO
10241: IFFALSE 10263
// ru_rebuild := Delete ( ru_rebuild , 1 ) ;
10243: LD_ADDR_EXP 34
10247: PUSH
10248: LD_EXP 34
10252: PPUSH
10253: LD_INT 1
10255: PPUSH
10256: CALL_OW 3
10260: ST_TO_ADDR
10261: GO 10240
10263: POP
10264: POP
// end ;
10265: PPOPN 2
10267: END
// on VehicleConstructed ( veh , fac ) do var i ;
10268: LD_INT 0
10270: PPUSH
// begin if GetSide ( veh ) = 3 then
10271: LD_VAR 0 1
10275: PPUSH
10276: CALL_OW 255
10280: PUSH
10281: LD_INT 3
10283: EQUAL
10284: IFFALSE 10367
// begin if not GetWeapon ( veh ) in [ ru_bulldozer , ru_crane , ru_cargo_bay ] then
10286: LD_VAR 0 1
10290: PPUSH
10291: CALL_OW 264
10295: PUSH
10296: LD_INT 53
10298: PUSH
10299: LD_INT 52
10301: PUSH
10302: LD_INT 51
10304: PUSH
10305: EMPTY
10306: LIST
10307: LIST
10308: LIST
10309: IN
10310: NOT
10311: IFFALSE 10329
// ru_force := ru_force ^ veh ;
10313: LD_ADDR_EXP 33
10317: PUSH
10318: LD_EXP 33
10322: PUSH
10323: LD_VAR 0 1
10327: ADD
10328: ST_TO_ADDR
// for i = 1 to 4 do
10329: LD_ADDR_VAR 0 3
10333: PUSH
10334: DOUBLE
10335: LD_INT 1
10337: DEC
10338: ST_TO_ADDR
10339: LD_INT 4
10341: PUSH
10342: FOR_TO
10343: IFFALSE 10365
// ru_produce_list := Delete ( ru_produce_list , 1 ) ;
10345: LD_ADDR_EXP 35
10349: PUSH
10350: LD_EXP 35
10354: PPUSH
10355: LD_INT 1
10357: PPUSH
10358: CALL_OW 3
10362: ST_TO_ADDR
10363: GO 10342
10365: POP
10366: POP
// end ; end ;
10367: PPOPN 3
10369: END
// on Contact ( s1 , s2 ) do begin if ( s1 = 1 and s2 = 2 ) or ( s1 = 2 and s2 = 1 ) then
10370: LD_VAR 0 1
10374: PUSH
10375: LD_INT 1
10377: EQUAL
10378: PUSH
10379: LD_VAR 0 2
10383: PUSH
10384: LD_INT 2
10386: EQUAL
10387: AND
10388: PUSH
10389: LD_VAR 0 1
10393: PUSH
10394: LD_INT 2
10396: EQUAL
10397: PUSH
10398: LD_VAR 0 2
10402: PUSH
10403: LD_INT 1
10405: EQUAL
10406: AND
10407: OR
10408: IFFALSE 10418
// player_attacked_ar := true ;
10410: LD_ADDR_EXP 16
10414: PUSH
10415: LD_INT 1
10417: ST_TO_ADDR
// end ;
10418: PPOPN 2
10420: END
// on UnitDestroyed ( un ) do begin if un = JMM then
10421: LD_VAR 0 1
10425: PUSH
10426: LD_EXP 17
10430: EQUAL
10431: IFFALSE 10440
// YouLost ( JMM ) ;
10433: LD_STRING JMM
10435: PPUSH
10436: CALL_OW 104
// if un = terminal then
10440: LD_VAR 0 1
10444: PUSH
10445: LD_EXP 3
10449: EQUAL
10450: IFFALSE 10459
// YouLost ( Terminal ) ;
10452: LD_STRING Terminal
10454: PPUSH
10455: CALL_OW 104
// if un in FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] ] ) then
10459: LD_VAR 0 1
10463: PUSH
10464: LD_INT 22
10466: PUSH
10467: LD_INT 3
10469: PUSH
10470: EMPTY
10471: LIST
10472: LIST
10473: PUSH
10474: LD_INT 21
10476: PUSH
10477: LD_INT 3
10479: PUSH
10480: EMPTY
10481: LIST
10482: LIST
10483: PUSH
10484: EMPTY
10485: LIST
10486: LIST
10487: PPUSH
10488: CALL_OW 69
10492: IN
10493: IFFALSE 10639
// begin if GetBType ( un ) in [ b_turret , b_oil_power ] then
10495: LD_VAR 0 1
10499: PPUSH
10500: CALL_OW 266
10504: PUSH
10505: LD_INT 33
10507: PUSH
10508: LD_INT 26
10510: PUSH
10511: EMPTY
10512: LIST
10513: LIST
10514: IN
10515: IFFALSE 10574
// ru_rebuild := ru_rebuild ^ [ GetBType ( un ) , GetX ( un ) , GetY ( un ) , GetDir ( un ) ] ;
10517: LD_ADDR_EXP 34
10521: PUSH
10522: LD_EXP 34
10526: PUSH
10527: LD_VAR 0 1
10531: PPUSH
10532: CALL_OW 266
10536: PUSH
10537: LD_VAR 0 1
10541: PPUSH
10542: CALL_OW 250
10546: PUSH
10547: LD_VAR 0 1
10551: PPUSH
10552: CALL_OW 251
10556: PUSH
10557: LD_VAR 0 1
10561: PPUSH
10562: CALL_OW 254
10566: PUSH
10567: EMPTY
10568: LIST
10569: LIST
10570: LIST
10571: LIST
10572: ADD
10573: ST_TO_ADDR
// if GetBType ( un ) = b_barracks then
10574: LD_VAR 0 1
10578: PPUSH
10579: CALL_OW 266
10583: PUSH
10584: LD_INT 5
10586: EQUAL
10587: IFFALSE 10639
// ru_rebuild := ru_rebuild ^ [ b_armoury , GetX ( un ) , GetY ( un ) , GetDir ( un ) ] ;
10589: LD_ADDR_EXP 34
10593: PUSH
10594: LD_EXP 34
10598: PUSH
10599: LD_INT 4
10601: PUSH
10602: LD_VAR 0 1
10606: PPUSH
10607: CALL_OW 250
10611: PUSH
10612: LD_VAR 0 1
10616: PPUSH
10617: CALL_OW 251
10621: PUSH
10622: LD_VAR 0 1
10626: PPUSH
10627: CALL_OW 254
10631: PUSH
10632: EMPTY
10633: LIST
10634: LIST
10635: LIST
10636: LIST
10637: ADD
10638: ST_TO_ADDR
// end ; if un in ru_force then
10639: LD_VAR 0 1
10643: PUSH
10644: LD_EXP 33
10648: IN
10649: IFFALSE 10682
// begin ru_force := ru_force diff un ;
10651: LD_ADDR_EXP 33
10655: PUSH
10656: LD_EXP 33
10660: PUSH
10661: LD_VAR 0 1
10665: DIFF
10666: ST_TO_ADDR
// if not ru_force then
10667: LD_EXP 33
10671: NOT
10672: IFFALSE 10682
// ru_can_attack := false ;
10674: LD_ADDR_EXP 8
10678: PUSH
10679: LD_INT 0
10681: ST_TO_ADDR
// end ; end ; end_of_file
10682: PPOPN 1
10684: END
// every 0 0$01 trigger powell_want_sib and powell_want_sib_counter do var sib ;
10685: LD_EXP 5
10689: PUSH
10690: LD_EXP 6
10694: AND
10695: IFFALSE 10773
10697: GO 10699
10699: DISABLE
10700: LD_INT 0
10702: PPUSH
// begin enable ;
10703: ENABLE
// sib := 60 - GetTerminalCargo ( ) ;
10704: LD_ADDR_VAR 0 1
10708: PUSH
10709: LD_INT 60
10711: PUSH
10712: CALL 748 0 0
10716: MINUS
10717: ST_TO_ADDR
// if sib < 0 then
10718: LD_VAR 0 1
10722: PUSH
10723: LD_INT 0
10725: LESS
10726: IFFALSE 10736
// sib := 0 ;
10728: LD_ADDR_VAR 0 1
10732: PUSH
10733: LD_INT 0
10735: ST_TO_ADDR
// display_strings := [ #Am09-1 , sib , powell_want_sib_counter ] ;
10736: LD_ADDR_OWVAR 47
10740: PUSH
10741: LD_STRING #Am09-1
10743: PUSH
10744: LD_VAR 0 1
10748: PUSH
10749: LD_EXP 6
10753: PUSH
10754: EMPTY
10755: LIST
10756: LIST
10757: LIST
10758: ST_TO_ADDR
// powell_want_sib_counter := powell_want_sib_counter - 0 0$01 ;
10759: LD_ADDR_EXP 6
10763: PUSH
10764: LD_EXP 6
10768: PUSH
10769: LD_INT 35
10771: MINUS
10772: ST_TO_ADDR
// end ;
10773: PPOPN 1
10775: END
// every 0 0$1 trigger powell_want_sib_counter = 0 0$00 do
10776: LD_EXP 6
10780: PUSH
10781: LD_INT 0
10783: EQUAL
10784: IFFALSE 10796
10786: GO 10788
10788: DISABLE
// display_strings := [ ] ;
10789: LD_ADDR_OWVAR 47
10793: PUSH
10794: EMPTY
10795: ST_TO_ADDR
10796: END
// every 0 0$35 + 1 1$0 do
10797: GO 10799
10799: DISABLE
// begin enable ;
10800: ENABLE
// CreateCratesXYR ( rand ( 1 , 5 ) , 75 , 75 , 20 , true ) ;
10801: LD_INT 1
10803: PPUSH
10804: LD_INT 5
10806: PPUSH
10807: CALL_OW 12
10811: PPUSH
10812: LD_INT 75
10814: PPUSH
10815: LD_INT 75
10817: PPUSH
10818: LD_INT 20
10820: PPUSH
10821: LD_INT 1
10823: PPUSH
10824: CALL_OW 56
// if tick > 40 40$0 then
10828: LD_OWVAR 1
10832: PUSH
10833: LD_INT 84000
10835: GREATER
10836: IFFALSE 10839
// disable ;
10838: DISABLE
// end ;
10839: END
// every 2 2$30 trigger jmm_in_ovsyenko do
10840: LD_EXP 4
10844: IFFALSE 10871
10846: GO 10848
10848: DISABLE
// begin enable ;
10849: ENABLE
// CreateCratesArea ( rand ( 2 , 5 ) , cratesArea , true ) ;
10850: LD_INT 2
10852: PPUSH
10853: LD_INT 5
10855: PPUSH
10856: CALL_OW 12
10860: PPUSH
10861: LD_INT 8
10863: PPUSH
10864: LD_INT 1
10866: PPUSH
10867: CALL_OW 55
// end ; end_of_file
10871: END
// export Vervecken , Gali , Bogdanovic , Kantor , Herczeg , Ronn , Mia ; export ar_force ; export function PrepareArabian ; var veh , tmp , i , x , y ; begin
10872: LD_INT 0
10874: PPUSH
10875: PPUSH
10876: PPUSH
10877: PPUSH
10878: PPUSH
10879: PPUSH
// x := 76 ;
10880: LD_ADDR_VAR 0 5
10884: PUSH
10885: LD_INT 76
10887: ST_TO_ADDR
// y := 147 ;
10888: LD_ADDR_VAR 0 6
10892: PUSH
10893: LD_INT 147
10895: ST_TO_ADDR
// uc_side := 2 ;
10896: LD_ADDR_OWVAR 20
10900: PUSH
10901: LD_INT 2
10903: ST_TO_ADDR
// uc_nation := 2 ;
10904: LD_ADDR_OWVAR 21
10908: PUSH
10909: LD_INT 2
10911: ST_TO_ADDR
// InitHc ;
10912: CALL_OW 19
// PrepareHuman ( sex_male , 1 , 6 ) ;
10916: LD_INT 1
10918: PPUSH
10919: LD_INT 1
10921: PPUSH
10922: LD_INT 6
10924: PPUSH
10925: CALL_OW 380
// hc_name := Nicolas Vervecken ;
10929: LD_ADDR_OWVAR 26
10933: PUSH
10934: LD_STRING Nicolas Vervecken
10936: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
10937: LD_ADDR_OWVAR 33
10941: PUSH
10942: LD_STRING SecondCharsGal
10944: ST_TO_ADDR
// hc_face_number := 3 ;
10945: LD_ADDR_OWVAR 34
10949: PUSH
10950: LD_INT 3
10952: ST_TO_ADDR
// hc_attr := [ 11 , 10 ] ;
10953: LD_ADDR_OWVAR 29
10957: PUSH
10958: LD_INT 11
10960: PUSH
10961: LD_INT 10
10963: PUSH
10964: EMPTY
10965: LIST
10966: LIST
10967: ST_TO_ADDR
// Vervecken := CreateHuman ;
10968: LD_ADDR_EXP 25
10972: PUSH
10973: CALL_OW 44
10977: ST_TO_ADDR
// ar_force := Vervecken ;
10978: LD_ADDR_EXP 32
10982: PUSH
10983: LD_EXP 25
10987: ST_TO_ADDR
// PrepareHuman ( sex_male , 2 , 6 ) ;
10988: LD_INT 1
10990: PPUSH
10991: LD_INT 2
10993: PPUSH
10994: LD_INT 6
10996: PPUSH
10997: CALL_OW 380
// hc_name := Louis Gali ;
11001: LD_ADDR_OWVAR 26
11005: PUSH
11006: LD_STRING Louis Gali
11008: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
11009: LD_ADDR_OWVAR 33
11013: PUSH
11014: LD_STRING SecondCharsGal
11016: ST_TO_ADDR
// hc_face_number := 2 ;
11017: LD_ADDR_OWVAR 34
11021: PUSH
11022: LD_INT 2
11024: ST_TO_ADDR
// hc_attr := [ 10 , 11 ] ;
11025: LD_ADDR_OWVAR 29
11029: PUSH
11030: LD_INT 10
11032: PUSH
11033: LD_INT 11
11035: PUSH
11036: EMPTY
11037: LIST
11038: LIST
11039: ST_TO_ADDR
// Gali := CreateHuman ;
11040: LD_ADDR_EXP 26
11044: PUSH
11045: CALL_OW 44
11049: ST_TO_ADDR
// ar_force := ar_force ^ Gali ;
11050: LD_ADDR_EXP 32
11054: PUSH
11055: LD_EXP 32
11059: PUSH
11060: LD_EXP 26
11064: ADD
11065: ST_TO_ADDR
// PrepareHuman ( sex_female , 1 , 6 ) ;
11066: LD_INT 2
11068: PPUSH
11069: LD_INT 1
11071: PPUSH
11072: LD_INT 6
11074: PPUSH
11075: CALL_OW 380
// hc_name := Maria Bogdanovic ;
11079: LD_ADDR_OWVAR 26
11083: PUSH
11084: LD_STRING Maria Bogdanovic
11086: ST_TO_ADDR
// hc_gallery := SecondCharsGal ;
11087: LD_ADDR_OWVAR 33
11091: PUSH
11092: LD_STRING SecondCharsGal
11094: ST_TO_ADDR
// hc_face_number := 14 ;
11095: LD_ADDR_OWVAR 34
11099: PUSH
11100: LD_INT 14
11102: ST_TO_ADDR
// hc_attr := [ 12 , 9 ] ;
11103: LD_ADDR_OWVAR 29
11107: PUSH
11108: LD_INT 12
11110: PUSH
11111: LD_INT 9
11113: PUSH
11114: EMPTY
11115: LIST
11116: LIST
11117: ST_TO_ADDR
// Bogdanovic := CreateHuman ;
11118: LD_ADDR_EXP 27
11122: PUSH
11123: CALL_OW 44
11127: ST_TO_ADDR
// ar_force := ar_force ^ Bogdanovic ;
11128: LD_ADDR_EXP 32
11132: PUSH
11133: LD_EXP 32
11137: PUSH
11138: LD_EXP 27
11142: ADD
11143: ST_TO_ADDR
// PrepareHuman ( sex_male , 3 , 6 ) ;
11144: LD_INT 1
11146: PPUSH
11147: LD_INT 3
11149: PPUSH
11150: LD_INT 6
11152: PPUSH
11153: CALL_OW 380
// hc_name = Kntor Radomr ;
11157: LD_ADDR_OWVAR 26
11161: PUSH
11162: LD_STRING Kntor Radomr
11164: ST_TO_ADDR
// hc_gallery = sandar ;
11165: LD_ADDR_OWVAR 33
11169: PUSH
11170: LD_STRING sandar
11172: ST_TO_ADDR
// hc_face_number = 12 ;
11173: LD_ADDR_OWVAR 34
11177: PUSH
11178: LD_INT 12
11180: ST_TO_ADDR
// hc_attr = [ 9 , 9 ] ;
11181: LD_ADDR_OWVAR 29
11185: PUSH
11186: LD_INT 9
11188: PUSH
11189: LD_INT 9
11191: PUSH
11192: EMPTY
11193: LIST
11194: LIST
11195: ST_TO_ADDR
// Kantor = CreateHuman ;
11196: LD_ADDR_EXP 28
11200: PUSH
11201: CALL_OW 44
11205: ST_TO_ADDR
// ar_force := ar_force ^ Kantor ;
11206: LD_ADDR_EXP 32
11210: PUSH
11211: LD_EXP 32
11215: PUSH
11216: LD_EXP 28
11220: ADD
11221: ST_TO_ADDR
// PrepareHuman ( sex_male , 3 , 6 ) ;
11222: LD_INT 1
11224: PPUSH
11225: LD_INT 3
11227: PPUSH
11228: LD_INT 6
11230: PPUSH
11231: CALL_OW 380
// hc_name = Herczeg Farkas ;
11235: LD_ADDR_OWVAR 26
11239: PUSH
11240: LD_STRING Herczeg Farkas
11242: ST_TO_ADDR
// hc_gallery = sandar ;
11243: LD_ADDR_OWVAR 33
11247: PUSH
11248: LD_STRING sandar
11250: ST_TO_ADDR
// hc_face_number = 28 ;
11251: LD_ADDR_OWVAR 34
11255: PUSH
11256: LD_INT 28
11258: ST_TO_ADDR
// hc_attr = [ 10 , 9 ] ;
11259: LD_ADDR_OWVAR 29
11263: PUSH
11264: LD_INT 10
11266: PUSH
11267: LD_INT 9
11269: PUSH
11270: EMPTY
11271: LIST
11272: LIST
11273: ST_TO_ADDR
// Herczeg = CreateHuman ;
11274: LD_ADDR_EXP 29
11278: PUSH
11279: CALL_OW 44
11283: ST_TO_ADDR
// ar_force := ar_force ^ Herczeg ;
11284: LD_ADDR_EXP 32
11288: PUSH
11289: LD_EXP 32
11293: PUSH
11294: LD_EXP 29
11298: ADD
11299: ST_TO_ADDR
// PrepareHuman ( sex_male , 1 , 6 ) ;
11300: LD_INT 1
11302: PPUSH
11303: LD_INT 1
11305: PPUSH
11306: LD_INT 6
11308: PPUSH
11309: CALL_OW 380
// hc_name = Ronn Horntvedt ;
11313: LD_ADDR_OWVAR 26
11317: PUSH
11318: LD_STRING Ronn Horntvedt
11320: ST_TO_ADDR
// hc_gallery = sandar ;
11321: LD_ADDR_OWVAR 33
11325: PUSH
11326: LD_STRING sandar
11328: ST_TO_ADDR
// hc_face_number = 29 ;
11329: LD_ADDR_OWVAR 34
11333: PUSH
11334: LD_INT 29
11336: ST_TO_ADDR
// hc_attr = [ 11 , 11 ] ;
11337: LD_ADDR_OWVAR 29
11341: PUSH
11342: LD_INT 11
11344: PUSH
11345: LD_INT 11
11347: PUSH
11348: EMPTY
11349: LIST
11350: LIST
11351: ST_TO_ADDR
// Ronn = CreateHuman ;
11352: LD_ADDR_EXP 30
11356: PUSH
11357: CALL_OW 44
11361: ST_TO_ADDR
// ar_force := ar_force ^ Ronn ;
11362: LD_ADDR_EXP 32
11366: PUSH
11367: LD_EXP 32
11371: PUSH
11372: LD_EXP 30
11376: ADD
11377: ST_TO_ADDR
// PrepareHuman ( sex_female , 3 , 6 ) ;
11378: LD_INT 2
11380: PPUSH
11381: LD_INT 3
11383: PPUSH
11384: LD_INT 6
11386: PPUSH
11387: CALL_OW 380
// hc_name = Mia D. Mathiasen ;
11391: LD_ADDR_OWVAR 26
11395: PUSH
11396: LD_STRING Mia D. Mathiasen
11398: ST_TO_ADDR
// hc_gallery = sandar ;
11399: LD_ADDR_OWVAR 33
11403: PUSH
11404: LD_STRING sandar
11406: ST_TO_ADDR
// hc_face_number = 31 ;
11407: LD_ADDR_OWVAR 34
11411: PUSH
11412: LD_INT 31
11414: ST_TO_ADDR
// hc_attr = [ 10 , 10 ] ;
11415: LD_ADDR_OWVAR 29
11419: PUSH
11420: LD_INT 10
11422: PUSH
11423: LD_INT 10
11425: PUSH
11426: EMPTY
11427: LIST
11428: LIST
11429: ST_TO_ADDR
// Mia = CreateHuman ;
11430: LD_ADDR_EXP 31
11434: PUSH
11435: CALL_OW 44
11439: ST_TO_ADDR
// ar_force := ar_force ^ Mia ;
11440: LD_ADDR_EXP 32
11444: PUSH
11445: LD_EXP 32
11449: PUSH
11450: LD_EXP 31
11454: ADD
11455: ST_TO_ADDR
// for i = 1 to 2 do
11456: LD_ADDR_VAR 0 4
11460: PUSH
11461: DOUBLE
11462: LD_INT 1
11464: DEC
11465: ST_TO_ADDR
11466: LD_INT 2
11468: PUSH
11469: FOR_TO
11470: IFFALSE 11511
// tmp := tmp ^ PrepareTank ( 2 , 2 , ar_half_tracked , engine_combustion , control_manual , ar_cargo_bay , 30 ) ;
11472: LD_ADDR_VAR 0 3
11476: PUSH
11477: LD_VAR 0 3
11481: PUSH
11482: LD_INT 2
11484: PPUSH
11485: LD_INT 2
11487: PPUSH
11488: LD_INT 14
11490: PPUSH
11491: LD_INT 1
11493: PPUSH
11494: LD_INT 1
11496: PPUSH
11497: LD_INT 32
11499: PPUSH
11500: LD_INT 30
11502: PPUSH
11503: CALL 248 0 7
11507: ADD
11508: ST_TO_ADDR
11509: GO 11469
11511: POP
11512: POP
// tmp := tmp ^ PrepareTank ( 2 , 2 , ar_half_tracked , engine_combustion , control_manual , ar_flame_thrower , 33 ) ;
11513: LD_ADDR_VAR 0 3
11517: PUSH
11518: LD_VAR 0 3
11522: PUSH
11523: LD_INT 2
11525: PPUSH
11526: LD_INT 2
11528: PPUSH
11529: LD_INT 14
11531: PPUSH
11532: LD_INT 1
11534: PPUSH
11535: LD_INT 1
11537: PPUSH
11538: LD_INT 26
11540: PPUSH
11541: LD_INT 33
11543: PPUSH
11544: CALL 248 0 7
11548: ADD
11549: ST_TO_ADDR
// tmp := tmp diff 0 ;
11550: LD_ADDR_VAR 0 3
11554: PUSH
11555: LD_VAR 0 3
11559: PUSH
11560: LD_INT 0
11562: DIFF
11563: ST_TO_ADDR
// for i in ar_force do
11564: LD_ADDR_VAR 0 4
11568: PUSH
11569: LD_EXP 32
11573: PUSH
11574: FOR_IN
11575: IFFALSE 11718
// begin if GetClass ( i ) = 3 then
11577: LD_VAR 0 4
11581: PPUSH
11582: CALL_OW 257
11586: PUSH
11587: LD_INT 3
11589: EQUAL
11590: IFFALSE 11672
// begin SetDir ( tmp [ 1 ] , 1 ) ;
11592: LD_VAR 0 3
11596: PUSH
11597: LD_INT 1
11599: ARRAY
11600: PPUSH
11601: LD_INT 1
11603: PPUSH
11604: CALL_OW 233
// PlaceUnitXY ( tmp [ 1 ] , x , y , false ) ;
11608: LD_VAR 0 3
11612: PUSH
11613: LD_INT 1
11615: ARRAY
11616: PPUSH
11617: LD_VAR 0 5
11621: PPUSH
11622: LD_VAR 0 6
11626: PPUSH
11627: LD_INT 0
11629: PPUSH
11630: CALL_OW 48
// PlaceHumanInUnit ( i , tmp [ 1 ] ) ;
11634: LD_VAR 0 4
11638: PPUSH
11639: LD_VAR 0 3
11643: PUSH
11644: LD_INT 1
11646: ARRAY
11647: PPUSH
11648: CALL_OW 52
// tmp := Delete ( tmp , 1 ) ;
11652: LD_ADDR_VAR 0 3
11656: PUSH
11657: LD_VAR 0 3
11661: PPUSH
11662: LD_INT 1
11664: PPUSH
11665: CALL_OW 3
11669: ST_TO_ADDR
// end else
11670: GO 11694
// PlaceUnitXY ( i , x , y , false ) ;
11672: LD_VAR 0 4
11676: PPUSH
11677: LD_VAR 0 5
11681: PPUSH
11682: LD_VAR 0 6
11686: PPUSH
11687: LD_INT 0
11689: PPUSH
11690: CALL_OW 48
// ComMoveXY ( i , 86 , 121 ) ;
11694: LD_VAR 0 4
11698: PPUSH
11699: LD_INT 86
11701: PPUSH
11702: LD_INT 121
11704: PPUSH
11705: CALL_OW 111
// wait ( 0 0$2 ) ;
11709: LD_INT 70
11711: PPUSH
11712: CALL_OW 67
// end ;
11716: GO 11574
11718: POP
11719: POP
// ar_force := ar_force ^ tmp ;
11720: LD_ADDR_EXP 32
11724: PUSH
11725: LD_EXP 32
11729: PUSH
11730: LD_VAR 0 3
11734: ADD
11735: ST_TO_ADDR
// ar_spawned := true ;
11736: LD_ADDR_EXP 11
11740: PUSH
11741: LD_INT 1
11743: ST_TO_ADDR
// end ; end_of_file
11744: LD_VAR 0 1
11748: RET
// export ru_force , ru_rebuild , ru_produce_list ; export function PrepareRussian ; var i , un , tmp , skill , lab , dep ; begin
11749: LD_INT 0
11751: PPUSH
11752: PPUSH
11753: PPUSH
11754: PPUSH
11755: PPUSH
11756: PPUSH
11757: PPUSH
// InitHc ;
11758: CALL_OW 19
// uc_side := 3 ;
11762: LD_ADDR_OWVAR 20
11766: PUSH
11767: LD_INT 3
11769: ST_TO_ADDR
// uc_nation := 3 ;
11770: LD_ADDR_OWVAR 21
11774: PUSH
11775: LD_INT 3
11777: ST_TO_ADDR
// skill := [ 5 , 6 , 7 ] [ Difficulty ] ;
11778: LD_ADDR_VAR 0 5
11782: PUSH
11783: LD_INT 5
11785: PUSH
11786: LD_INT 6
11788: PUSH
11789: LD_INT 7
11791: PUSH
11792: EMPTY
11793: LIST
11794: LIST
11795: LIST
11796: PUSH
11797: LD_OWVAR 67
11801: ARRAY
11802: ST_TO_ADDR
// ru_force := [ ] ;
11803: LD_ADDR_EXP 33
11807: PUSH
11808: EMPTY
11809: ST_TO_ADDR
// ru_rebuild := [ ] ;
11810: LD_ADDR_EXP 34
11814: PUSH
11815: EMPTY
11816: ST_TO_ADDR
// ru_produce_list := [ ru_heavy_tracked , engine_combustion , control_computer , ru_bulldozer ] ;
11817: LD_ADDR_EXP 35
11821: PUSH
11822: LD_INT 24
11824: PUSH
11825: LD_INT 1
11827: PUSH
11828: LD_INT 3
11830: PUSH
11831: LD_INT 53
11833: PUSH
11834: EMPTY
11835: LIST
11836: LIST
11837: LIST
11838: LIST
11839: ST_TO_ADDR
// lab := FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_lab_full ] ] ) [ 1 ] ;
11840: LD_ADDR_VAR 0 6
11844: PUSH
11845: LD_INT 22
11847: PUSH
11848: LD_INT 3
11850: PUSH
11851: EMPTY
11852: LIST
11853: LIST
11854: PUSH
11855: LD_INT 30
11857: PUSH
11858: LD_INT 8
11860: PUSH
11861: EMPTY
11862: LIST
11863: LIST
11864: PUSH
11865: EMPTY
11866: LIST
11867: LIST
11868: PPUSH
11869: CALL_OW 69
11873: PUSH
11874: LD_INT 1
11876: ARRAY
11877: ST_TO_ADDR
// tmp := [ ru_gatling_gun , ru_heavy_gun , ru_rocket_launcher ] ;
11878: LD_ADDR_VAR 0 4
11882: PUSH
11883: LD_INT 43
11885: PUSH
11886: LD_INT 46
11888: PUSH
11889: LD_INT 45
11891: PUSH
11892: EMPTY
11893: LIST
11894: LIST
11895: LIST
11896: ST_TO_ADDR
// dep := FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_warehouse ] ] ) [ 1 ] ;
11897: LD_ADDR_VAR 0 7
11901: PUSH
11902: LD_INT 22
11904: PUSH
11905: LD_INT 3
11907: PUSH
11908: EMPTY
11909: LIST
11910: LIST
11911: PUSH
11912: LD_INT 30
11914: PUSH
11915: LD_INT 1
11917: PUSH
11918: EMPTY
11919: LIST
11920: LIST
11921: PUSH
11922: EMPTY
11923: LIST
11924: LIST
11925: PPUSH
11926: CALL_OW 69
11930: PUSH
11931: LD_INT 1
11933: ARRAY
11934: ST_TO_ADDR
// SetResourceType ( GetBase ( dep ) , mat_cans , 5000 ) ;
11935: LD_VAR 0 7
11939: PPUSH
11940: CALL_OW 274
11944: PPUSH
11945: LD_INT 1
11947: PPUSH
11948: LD_INT 5000
11950: PPUSH
11951: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_oil , 1000 ) ;
11955: LD_VAR 0 7
11959: PPUSH
11960: CALL_OW 274
11964: PPUSH
11965: LD_INT 2
11967: PPUSH
11968: LD_INT 1000
11970: PPUSH
11971: CALL_OW 277
// SetResourceType ( GetBase ( dep ) , mat_siberit , 30 ) ;
11975: LD_VAR 0 7
11979: PPUSH
11980: CALL_OW 274
11984: PPUSH
11985: LD_INT 3
11987: PPUSH
11988: LD_INT 30
11990: PPUSH
11991: CALL_OW 277
// for i in FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_turret ] ] ) do
11995: LD_ADDR_VAR 0 2
11999: PUSH
12000: LD_INT 22
12002: PUSH
12003: LD_INT 3
12005: PUSH
12006: EMPTY
12007: LIST
12008: LIST
12009: PUSH
12010: LD_INT 30
12012: PUSH
12013: LD_INT 33
12015: PUSH
12016: EMPTY
12017: LIST
12018: LIST
12019: PUSH
12020: EMPTY
12021: LIST
12022: LIST
12023: PPUSH
12024: CALL_OW 69
12028: PUSH
12029: FOR_IN
12030: IFFALSE 12062
// begin PlaceWeaponTurret ( i , tmp [ rand ( 1 , tmp ) ] ) ;
12032: LD_VAR 0 2
12036: PPUSH
12037: LD_VAR 0 4
12041: PUSH
12042: LD_INT 1
12044: PPUSH
12045: LD_VAR 0 4
12049: PPUSH
12050: CALL_OW 12
12054: ARRAY
12055: PPUSH
12056: CALL_OW 431
// end ;
12060: GO 12029
12062: POP
12063: POP
// for i = 1 to 4 do
12064: LD_ADDR_VAR 0 2
12068: PUSH
12069: DOUBLE
12070: LD_INT 1
12072: DEC
12073: ST_TO_ADDR
12074: LD_INT 4
12076: PUSH
12077: FOR_TO
12078: IFFALSE 12139
// begin PrepareHuman ( false , class_bazooker , skill ) ;
12080: LD_INT 0
12082: PPUSH
12083: LD_INT 9
12085: PPUSH
12086: LD_VAR 0 5
12090: PPUSH
12091: CALL_OW 380
// PlaceHumanInUnit ( CreateHuman , FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_barracks ] ] ) [ 1 ] ) ;
12095: CALL_OW 44
12099: PPUSH
12100: LD_INT 22
12102: PUSH
12103: LD_INT 3
12105: PUSH
12106: EMPTY
12107: LIST
12108: LIST
12109: PUSH
12110: LD_INT 30
12112: PUSH
12113: LD_INT 5
12115: PUSH
12116: EMPTY
12117: LIST
12118: LIST
12119: PUSH
12120: EMPTY
12121: LIST
12122: LIST
12123: PPUSH
12124: CALL_OW 69
12128: PUSH
12129: LD_INT 1
12131: ARRAY
12132: PPUSH
12133: CALL_OW 52
// end ;
12137: GO 12077
12139: POP
12140: POP
// for i = 1 to 5 do
12141: LD_ADDR_VAR 0 2
12145: PUSH
12146: DOUBLE
12147: LD_INT 1
12149: DEC
12150: ST_TO_ADDR
12151: LD_INT 5
12153: PUSH
12154: FOR_TO
12155: IFFALSE 12216
// begin PrepareHuman ( false , class_mechanic , skill ) ;
12157: LD_INT 0
12159: PPUSH
12160: LD_INT 3
12162: PPUSH
12163: LD_VAR 0 5
12167: PPUSH
12168: CALL_OW 380
// PlaceHumanInUnit ( CreateHuman , FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_factory ] ] ) [ 1 ] ) ;
12172: CALL_OW 44
12176: PPUSH
12177: LD_INT 22
12179: PUSH
12180: LD_INT 3
12182: PUSH
12183: EMPTY
12184: LIST
12185: LIST
12186: PUSH
12187: LD_INT 30
12189: PUSH
12190: LD_INT 3
12192: PUSH
12193: EMPTY
12194: LIST
12195: LIST
12196: PUSH
12197: EMPTY
12198: LIST
12199: LIST
12200: PPUSH
12201: CALL_OW 69
12205: PUSH
12206: LD_INT 1
12208: ARRAY
12209: PPUSH
12210: CALL_OW 52
// end ;
12214: GO 12154
12216: POP
12217: POP
// for i = 1 to 4 do
12218: LD_ADDR_VAR 0 2
12222: PUSH
12223: DOUBLE
12224: LD_INT 1
12226: DEC
12227: ST_TO_ADDR
12228: LD_INT 4
12230: PUSH
12231: FOR_TO
12232: IFFALSE 12293
// begin PrepareHuman ( false , class_engineer , skill ) ;
12234: LD_INT 0
12236: PPUSH
12237: LD_INT 2
12239: PPUSH
12240: LD_VAR 0 5
12244: PPUSH
12245: CALL_OW 380
// PlaceHumanInUnit ( CreateHuman , FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_warehouse ] ] ) [ 1 ] ) ;
12249: CALL_OW 44
12253: PPUSH
12254: LD_INT 22
12256: PUSH
12257: LD_INT 3
12259: PUSH
12260: EMPTY
12261: LIST
12262: LIST
12263: PUSH
12264: LD_INT 30
12266: PUSH
12267: LD_INT 1
12269: PUSH
12270: EMPTY
12271: LIST
12272: LIST
12273: PUSH
12274: EMPTY
12275: LIST
12276: LIST
12277: PPUSH
12278: CALL_OW 69
12282: PUSH
12283: LD_INT 1
12285: ARRAY
12286: PPUSH
12287: CALL_OW 52
// end ;
12291: GO 12231
12293: POP
12294: POP
// for i = 1 to 3 do
12295: LD_ADDR_VAR 0 2
12299: PUSH
12300: DOUBLE
12301: LD_INT 1
12303: DEC
12304: ST_TO_ADDR
12305: LD_INT 3
12307: PUSH
12308: FOR_TO
12309: IFFALSE 12342
// begin PrepareHuman ( false , class_scientistic , skill ) ;
12311: LD_INT 0
12313: PPUSH
12314: LD_INT 4
12316: PPUSH
12317: LD_VAR 0 5
12321: PPUSH
12322: CALL_OW 380
// PlaceHumanInUnit ( CreateHuman , lab ) ;
12326: CALL_OW 44
12330: PPUSH
12331: LD_VAR 0 6
12335: PPUSH
12336: CALL_OW 52
// end ;
12340: GO 12308
12342: POP
12343: POP
// AddComResearch ( lab , tech_tech2 ) ;
12344: LD_VAR 0 6
12348: PPUSH
12349: LD_INT 49
12351: PPUSH
12352: CALL_OW 184
// AddComResearch ( lab , tech_tech3 ) ;
12356: LD_VAR 0 6
12360: PPUSH
12361: LD_INT 50
12363: PPUSH
12364: CALL_OW 184
// AddComResearch ( lab , tech_weap1 ) ;
12368: LD_VAR 0 6
12372: PPUSH
12373: LD_INT 51
12375: PPUSH
12376: CALL_OW 184
// AddComResearch ( lab , tech_weap2 ) ;
12380: LD_VAR 0 6
12384: PPUSH
12385: LD_INT 52
12387: PPUSH
12388: CALL_OW 184
// AddComResearch ( lab , tech_gatling ) ;
12392: LD_VAR 0 6
12396: PPUSH
12397: LD_INT 69
12399: PPUSH
12400: CALL_OW 184
// AddComResearch ( lab , tech_gun ) ;
12404: LD_VAR 0 6
12408: PPUSH
12409: LD_INT 39
12411: PPUSH
12412: CALL_OW 184
// AddComResearch ( lab , tech_advmet ) ;
12416: LD_VAR 0 6
12420: PPUSH
12421: LD_INT 34
12423: PPUSH
12424: CALL_OW 184
// AddComResearch ( lab , tech_rocket ) ;
12428: LD_VAR 0 6
12432: PPUSH
12433: LD_INT 40
12435: PPUSH
12436: CALL_OW 184
// AddComResearch ( lab , tech_comp1 ) ;
12440: LD_VAR 0 6
12444: PPUSH
12445: LD_INT 57
12447: PPUSH
12448: CALL_OW 184
// if Difficulty > 1 then
12452: LD_OWVAR 67
12456: PUSH
12457: LD_INT 1
12459: GREATER
12460: IFFALSE 12474
// AddComResearch ( lab , tech_comp2 ) ;
12462: LD_VAR 0 6
12466: PPUSH
12467: LD_INT 58
12469: PPUSH
12470: CALL_OW 184
// end ;
12474: LD_VAR 0 1
12478: RET
// every 5 5$00 trigger FilterAllUnits ( [ [ f_side , 3 ] , [ f_weapon , ru_bulldozer ] ] ) do var i , un ;
12479: LD_INT 22
12481: PUSH
12482: LD_INT 3
12484: PUSH
12485: EMPTY
12486: LIST
12487: LIST
12488: PUSH
12489: LD_INT 34
12491: PUSH
12492: LD_INT 53
12494: PUSH
12495: EMPTY
12496: LIST
12497: LIST
12498: PUSH
12499: EMPTY
12500: LIST
12501: LIST
12502: PPUSH
12503: CALL_OW 69
12507: IFFALSE 12585
12509: GO 12511
12511: DISABLE
12512: LD_INT 0
12514: PPUSH
12515: PPUSH
// begin un := FilterAllUnits ( [ [ f_side , 3 ] , [ f_weapon , ru_bulldozer ] ] ) ;
12516: LD_ADDR_VAR 0 2
12520: PUSH
12521: LD_INT 22
12523: PUSH
12524: LD_INT 3
12526: PUSH
12527: EMPTY
12528: LIST
12529: LIST
12530: PUSH
12531: LD_INT 34
12533: PUSH
12534: LD_INT 53
12536: PUSH
12537: EMPTY
12538: LIST
12539: LIST
12540: PUSH
12541: EMPTY
12542: LIST
12543: LIST
12544: PPUSH
12545: CALL_OW 69
12549: ST_TO_ADDR
// CutTreeInArea ( un [ 1 ] , cutTreeArea ) ;
12550: LD_VAR 0 2
12554: PUSH
12555: LD_INT 1
12557: ARRAY
12558: PPUSH
12559: LD_INT 7
12561: PPUSH
12562: CALL 906 0 2
// AddComMoveXY ( un [ 1 ] , 170 , 235 ) ;
12566: LD_VAR 0 2
12570: PUSH
12571: LD_INT 1
12573: ARRAY
12574: PPUSH
12575: LD_INT 170
12577: PPUSH
12578: LD_INT 235
12580: PPUSH
12581: CALL_OW 171
// end ;
12585: PPOPN 2
12587: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] ] ) do var un , i , tmp , engs , dep , to_heal , sci , lab ;
12588: LD_INT 22
12590: PUSH
12591: LD_INT 3
12593: PUSH
12594: EMPTY
12595: LIST
12596: LIST
12597: PUSH
12598: LD_INT 21
12600: PUSH
12601: LD_INT 3
12603: PUSH
12604: EMPTY
12605: LIST
12606: LIST
12607: PUSH
12608: EMPTY
12609: LIST
12610: LIST
12611: PPUSH
12612: CALL_OW 69
12616: IFFALSE 13394
12618: GO 12620
12620: DISABLE
12621: LD_INT 0
12623: PPUSH
12624: PPUSH
12625: PPUSH
12626: PPUSH
12627: PPUSH
12628: PPUSH
12629: PPUSH
12630: PPUSH
// begin enable ;
12631: ENABLE
// tmp := FilterAllUnits ( [ [ f_side , 3 ] , [ f_type , unit_building ] , [ f_not , [ f_lives , 1000 ] ] ] ) ;
12632: LD_ADDR_VAR 0 3
12636: PUSH
12637: LD_INT 22
12639: PUSH
12640: LD_INT 3
12642: PUSH
12643: EMPTY
12644: LIST
12645: LIST
12646: PUSH
12647: LD_INT 21
12649: PUSH
12650: LD_INT 3
12652: PUSH
12653: EMPTY
12654: LIST
12655: LIST
12656: PUSH
12657: LD_INT 3
12659: PUSH
12660: LD_INT 24
12662: PUSH
12663: LD_INT 1000
12665: PUSH
12666: EMPTY
12667: LIST
12668: LIST
12669: PUSH
12670: EMPTY
12671: LIST
12672: LIST
12673: PUSH
12674: EMPTY
12675: LIST
12676: LIST
12677: LIST
12678: PPUSH
12679: CALL_OW 69
12683: ST_TO_ADDR
// engs := FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 2 ] ] ) ;
12684: LD_ADDR_VAR 0 4
12688: PUSH
12689: LD_INT 22
12691: PUSH
12692: LD_INT 3
12694: PUSH
12695: EMPTY
12696: LIST
12697: LIST
12698: PUSH
12699: LD_INT 25
12701: PUSH
12702: LD_INT 2
12704: PUSH
12705: EMPTY
12706: LIST
12707: LIST
12708: PUSH
12709: EMPTY
12710: LIST
12711: LIST
12712: PPUSH
12713: CALL_OW 69
12717: ST_TO_ADDR
// dep := FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_warehouse ] ] ) [ 1 ] ;
12718: LD_ADDR_VAR 0 5
12722: PUSH
12723: LD_INT 22
12725: PUSH
12726: LD_INT 3
12728: PUSH
12729: EMPTY
12730: LIST
12731: LIST
12732: PUSH
12733: LD_INT 30
12735: PUSH
12736: LD_INT 1
12738: PUSH
12739: EMPTY
12740: LIST
12741: LIST
12742: PUSH
12743: EMPTY
12744: LIST
12745: LIST
12746: PPUSH
12747: CALL_OW 69
12751: PUSH
12752: LD_INT 1
12754: ARRAY
12755: ST_TO_ADDR
// lab := FilterAllUnits ( [ [ f_side , 3 ] , [ f_or , [ f_btype , b_lab ] , [ f_btype , b_lab_half ] , [ f_btype , b_lab_full ] ] ] ) [ 1 ] ;
12756: LD_ADDR_VAR 0 8
12760: PUSH
12761: LD_INT 22
12763: PUSH
12764: LD_INT 3
12766: PUSH
12767: EMPTY
12768: LIST
12769: LIST
12770: PUSH
12771: LD_INT 2
12773: PUSH
12774: LD_INT 30
12776: PUSH
12777: LD_INT 6
12779: PUSH
12780: EMPTY
12781: LIST
12782: LIST
12783: PUSH
12784: LD_INT 30
12786: PUSH
12787: LD_INT 7
12789: PUSH
12790: EMPTY
12791: LIST
12792: LIST
12793: PUSH
12794: LD_INT 30
12796: PUSH
12797: LD_INT 8
12799: PUSH
12800: EMPTY
12801: LIST
12802: LIST
12803: PUSH
12804: EMPTY
12805: LIST
12806: LIST
12807: LIST
12808: LIST
12809: PUSH
12810: EMPTY
12811: LIST
12812: LIST
12813: PPUSH
12814: CALL_OW 69
12818: PUSH
12819: LD_INT 1
12821: ARRAY
12822: ST_TO_ADDR
// if not engs then
12823: LD_VAR 0 4
12827: NOT
12828: IFFALSE 12832
// exit ;
12830: GO 13394
// to_heal := UnitFilter ( engs , [ f_not , [ f_lives , 600 ] ] ) ;
12832: LD_ADDR_VAR 0 6
12836: PUSH
12837: LD_VAR 0 4
12841: PPUSH
12842: LD_INT 3
12844: PUSH
12845: LD_INT 24
12847: PUSH
12848: LD_INT 600
12850: PUSH
12851: EMPTY
12852: LIST
12853: LIST
12854: PUSH
12855: EMPTY
12856: LIST
12857: LIST
12858: PPUSH
12859: CALL_OW 72
12863: ST_TO_ADDR
// sci := FilterAllUnits ( [ [ f_side , 3 ] , [ f_class , 4 ] ] ) ;
12864: LD_ADDR_VAR 0 7
12868: PUSH
12869: LD_INT 22
12871: PUSH
12872: LD_INT 3
12874: PUSH
12875: EMPTY
12876: LIST
12877: LIST
12878: PUSH
12879: LD_INT 25
12881: PUSH
12882: LD_INT 4
12884: PUSH
12885: EMPTY
12886: LIST
12887: LIST
12888: PUSH
12889: EMPTY
12890: LIST
12891: LIST
12892: PPUSH
12893: CALL_OW 69
12897: ST_TO_ADDR
// if not tmp and not ru_rebuild then
12898: LD_VAR 0 3
12902: NOT
12903: PUSH
12904: LD_EXP 34
12908: NOT
12909: AND
12910: IFFALSE 12970
// begin if UnitFilter ( engs , [ f_not , [ f_inside ] ] ) then
12912: LD_VAR 0 4
12916: PPUSH
12917: LD_INT 3
12919: PUSH
12920: LD_INT 54
12922: PUSH
12923: EMPTY
12924: LIST
12925: PUSH
12926: EMPTY
12927: LIST
12928: LIST
12929: PPUSH
12930: CALL_OW 72
12934: IFFALSE 12968
// ComEnterUnit ( UnitFilter ( engs , [ f_not , [ f_inside ] ] ) , dep ) ;
12936: LD_VAR 0 4
12940: PPUSH
12941: LD_INT 3
12943: PUSH
12944: LD_INT 54
12946: PUSH
12947: EMPTY
12948: LIST
12949: PUSH
12950: EMPTY
12951: LIST
12952: LIST
12953: PPUSH
12954: CALL_OW 72
12958: PPUSH
12959: LD_VAR 0 5
12963: PPUSH
12964: CALL_OW 120
// exit ;
12968: GO 13394
// end ; if UnitFilter ( engs , [ f_inside ] ) then
12970: LD_VAR 0 4
12974: PPUSH
12975: LD_INT 54
12977: PUSH
12978: EMPTY
12979: LIST
12980: PPUSH
12981: CALL_OW 72
12985: IFFALSE 13007
// ComExitBuilding ( UnitFilter ( engs , [ f_inside ] ) ) ;
12987: LD_VAR 0 4
12991: PPUSH
12992: LD_INT 54
12994: PUSH
12995: EMPTY
12996: LIST
12997: PPUSH
12998: CALL_OW 72
13002: PPUSH
13003: CALL_OW 122
// if not tmp then
13007: LD_VAR 0 3
13011: NOT
13012: IFFALSE 13144
// begin if not FilterAllUnits ( [ [ f_enemy , 3 ] , [ f_distxy , 147 , 212 , 30 ] ] ) then
13014: LD_INT 81
13016: PUSH
13017: LD_INT 3
13019: PUSH
13020: EMPTY
13021: LIST
13022: LIST
13023: PUSH
13024: LD_INT 92
13026: PUSH
13027: LD_INT 147
13029: PUSH
13030: LD_INT 212
13032: PUSH
13033: LD_INT 30
13035: PUSH
13036: EMPTY
13037: LIST
13038: LIST
13039: LIST
13040: LIST
13041: PUSH
13042: EMPTY
13043: LIST
13044: LIST
13045: PPUSH
13046: CALL_OW 69
13050: NOT
13051: IFFALSE 13144
// begin if not HasTask ( engs [ 1 ] ) then
13053: LD_VAR 0 4
13057: PUSH
13058: LD_INT 1
13060: ARRAY
13061: PPUSH
13062: CALL_OW 314
13066: NOT
13067: IFFALSE 13144
// begin i := ComBuild ( engs , ru_rebuild [ 1 ] , ru_rebuild [ 2 ] , ru_rebuild [ 3 ] , ru_rebuild [ 4 ] ) ;
13069: LD_ADDR_VAR 0 2
13073: PUSH
13074: LD_VAR 0 4
13078: PPUSH
13079: LD_EXP 34
13083: PUSH
13084: LD_INT 1
13086: ARRAY
13087: PPUSH
13088: LD_EXP 34
13092: PUSH
13093: LD_INT 2
13095: ARRAY
13096: PPUSH
13097: LD_EXP 34
13101: PUSH
13102: LD_INT 3
13104: ARRAY
13105: PPUSH
13106: LD_EXP 34
13110: PUSH
13111: LD_INT 4
13113: ARRAY
13114: PPUSH
13115: CALL_OW 145
13119: ST_TO_ADDR
// if GetBType ( i ) = b_armoury then
13120: LD_VAR 0 2
13124: PPUSH
13125: CALL_OW 266
13129: PUSH
13130: LD_INT 4
13132: EQUAL
13133: IFFALSE 13144
// AddComUpgrade ( i ) ;
13135: LD_VAR 0 2
13139: PPUSH
13140: CALL_OW 206
// end ; end ; end ; for i in engs do
13144: LD_ADDR_VAR 0 2
13148: PUSH
13149: LD_VAR 0 4
13153: PUSH
13154: FOR_IN
13155: IFFALSE 13273
// begin if i in to_heal and sci then
13157: LD_VAR 0 2
13161: PUSH
13162: LD_VAR 0 6
13166: IN
13167: PUSH
13168: LD_VAR 0 7
13172: AND
13173: IFFALSE 13224
// begin if GetDistUnitXY ( i , 149 , 220 ) < 5 then
13175: LD_VAR 0 2
13179: PPUSH
13180: LD_INT 149
13182: PPUSH
13183: LD_INT 220
13185: PPUSH
13186: CALL_OW 297
13190: PUSH
13191: LD_INT 5
13193: LESS
13194: IFFALSE 13198
// continue ;
13196: GO 13154
// ComMoveXY ( i , 149 , 220 ) ;
13198: LD_VAR 0 2
13202: PPUSH
13203: LD_INT 149
13205: PPUSH
13206: LD_INT 220
13208: PPUSH
13209: CALL_OW 111
// AddComHold ( i ) ;
13213: LD_VAR 0 2
13217: PPUSH
13218: CALL_OW 200
// end else
13222: GO 13271
// if not HasTask ( i ) or WantsToAttack ( i ) then
13224: LD_VAR 0 2
13228: PPUSH
13229: CALL_OW 314
13233: NOT
13234: PUSH
13235: LD_VAR 0 2
13239: PPUSH
13240: CALL_OW 319
13244: OR
13245: IFFALSE 13271
// ComRepairBuilding ( i , NearestUnitToUnit ( tmp , i ) ) ;
13247: LD_VAR 0 2
13251: PPUSH
13252: LD_VAR 0 3
13256: PPUSH
13257: LD_VAR 0 2
13261: PPUSH
13262: CALL_OW 74
13266: PPUSH
13267: CALL_OW 130
// end ;
13271: GO 13154
13273: POP
13274: POP
// if to_heal and sci then
13275: LD_VAR 0 6
13279: PUSH
13280: LD_VAR 0 7
13284: AND
13285: IFFALSE 13346
// begin if UnitFilter ( sci , [ f_inside ] ) then
13287: LD_VAR 0 7
13291: PPUSH
13292: LD_INT 54
13294: PUSH
13295: EMPTY
13296: LIST
13297: PPUSH
13298: CALL_OW 72
13302: IFFALSE 13326
// ComExitBuilding ( UnitFilter ( sci , [ f_inside ] ) ) else
13304: LD_VAR 0 7
13308: PPUSH
13309: LD_INT 54
13311: PUSH
13312: EMPTY
13313: LIST
13314: PPUSH
13315: CALL_OW 72
13319: PPUSH
13320: CALL_OW 122
13324: GO 13344
// ComHeal ( sci , to_heal [ 1 ] ) ;
13326: LD_VAR 0 7
13330: PPUSH
13331: LD_VAR 0 6
13335: PUSH
13336: LD_INT 1
13338: ARRAY
13339: PPUSH
13340: CALL_OW 128
// end else
13344: GO 13394
// if UnitFilter ( sci , [ f_outside ] ) and lab then
13346: LD_VAR 0 7
13350: PPUSH
13351: LD_INT 56
13353: PUSH
13354: EMPTY
13355: LIST
13356: PPUSH
13357: CALL_OW 72
13361: PUSH
13362: LD_VAR 0 8
13366: AND
13367: IFFALSE 13394
// ComEnterUnit ( UnitFilter ( sci , [ f_outside ] ) , lab ) ;
13369: LD_VAR 0 7
13373: PPUSH
13374: LD_INT 56
13376: PUSH
13377: EMPTY
13378: LIST
13379: PPUSH
13380: CALL_OW 72
13384: PPUSH
13385: LD_VAR 0 8
13389: PPUSH
13390: CALL_OW 120
// end ;
13394: PPOPN 8
13396: END
// every 0 0$1 trigger FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_factory ] ] ) and ru_produce_list do var i , tmp , fac ;
13397: LD_INT 22
13399: PUSH
13400: LD_INT 3
13402: PUSH
13403: EMPTY
13404: LIST
13405: LIST
13406: PUSH
13407: LD_INT 30
13409: PUSH
13410: LD_INT 3
13412: PUSH
13413: EMPTY
13414: LIST
13415: LIST
13416: PUSH
13417: EMPTY
13418: LIST
13419: LIST
13420: PPUSH
13421: CALL_OW 69
13425: PUSH
13426: LD_EXP 35
13430: AND
13431: IFFALSE 13557
13433: GO 13435
13435: DISABLE
13436: LD_INT 0
13438: PPUSH
13439: PPUSH
13440: PPUSH
// begin enable ;
13441: ENABLE
// fac := FilterAllUnits ( [ [ f_side , 3 ] , [ f_btype , b_factory ] ] ) [ 1 ] ;
13442: LD_ADDR_VAR 0 3
13446: PUSH
13447: LD_INT 22
13449: PUSH
13450: LD_INT 3
13452: PUSH
13453: EMPTY
13454: LIST
13455: LIST
13456: PUSH
13457: LD_INT 30
13459: PUSH
13460: LD_INT 3
13462: PUSH
13463: EMPTY
13464: LIST
13465: LIST
13466: PUSH
13467: EMPTY
13468: LIST
13469: LIST
13470: PPUSH
13471: CALL_OW 69
13475: PUSH
13476: LD_INT 1
13478: ARRAY
13479: ST_TO_ADDR
// if UnitsInside ( fac ) = 0 then
13480: LD_VAR 0 3
13484: PPUSH
13485: CALL_OW 313
13489: PUSH
13490: LD_INT 0
13492: EQUAL
13493: IFFALSE 13497
// exit ;
13495: GO 13557
// if BuildingStatus ( fac ) = bs_idle then
13497: LD_VAR 0 3
13501: PPUSH
13502: CALL_OW 461
13506: PUSH
13507: LD_INT 2
13509: EQUAL
13510: IFFALSE 13557
// ComConstruct ( fac , ru_produce_list [ 1 ] , ru_produce_list [ 2 ] , ru_produce_list [ 3 ] , ru_produce_list [ 4 ] ) ;
13512: LD_VAR 0 3
13516: PPUSH
13517: LD_EXP 35
13521: PUSH
13522: LD_INT 1
13524: ARRAY
13525: PPUSH
13526: LD_EXP 35
13530: PUSH
13531: LD_INT 2
13533: ARRAY
13534: PPUSH
13535: LD_EXP 35
13539: PUSH
13540: LD_INT 3
13542: ARRAY
13543: PPUSH
13544: LD_EXP 35
13548: PUSH
13549: LD_INT 4
13551: ARRAY
13552: PPUSH
13553: CALL_OW 125
// end ;
13557: PPOPN 3
13559: END
// export function PrepareAttack ( wave ) ; var i , un , tmp ; begin
13560: LD_INT 0
13562: PPUSH
13563: PPUSH
13564: PPUSH
13565: PPUSH
// uc_side := 3 ;
13566: LD_ADDR_OWVAR 20
13570: PUSH
13571: LD_INT 3
13573: ST_TO_ADDR
// uc_nation := 3 ;
13574: LD_ADDR_OWVAR 21
13578: PUSH
13579: LD_INT 3
13581: ST_TO_ADDR
// for i = 1 to Difficulty do
13582: LD_ADDR_VAR 0 3
13586: PUSH
13587: DOUBLE
13588: LD_INT 1
13590: DEC
13591: ST_TO_ADDR
13592: LD_OWVAR 67
13596: PUSH
13597: FOR_TO
13598: IFFALSE 13647
// ru_produce_list := ru_produce_list ^ [ ru_heavy_tracked , engine_combustion , control_computer , ru_rocket_launcher , ru_heavy_tracked , engine_combustion , control_computer , ru_heavy_gun ] ;
13600: LD_ADDR_EXP 35
13604: PUSH
13605: LD_EXP 35
13609: PUSH
13610: LD_INT 24
13612: PUSH
13613: LD_INT 1
13615: PUSH
13616: LD_INT 3
13618: PUSH
13619: LD_INT 45
13621: PUSH
13622: LD_INT 24
13624: PUSH
13625: LD_INT 1
13627: PUSH
13628: LD_INT 3
13630: PUSH
13631: LD_INT 46
13633: PUSH
13634: EMPTY
13635: LIST
13636: LIST
13637: LIST
13638: LIST
13639: LIST
13640: LIST
13641: LIST
13642: LIST
13643: ADD
13644: ST_TO_ADDR
13645: GO 13597
13647: POP
13648: POP
// repeat wait ( 0 0$1 ) ;
13649: LD_INT 35
13651: PPUSH
13652: CALL_OW 67
// until ru_produce_list < 4 ;
13656: LD_EXP 35
13660: PUSH
13661: LD_INT 4
13663: LESS
13664: IFFALSE 13649
// case wave of 1 :
13666: LD_VAR 0 1
13670: PUSH
13671: LD_INT 1
13673: DOUBLE
13674: EQUAL
13675: IFTRUE 13679
13677: GO 13764
13679: POP
// begin for i = 1 to [ 5 , 6 , 8 ] [ Difficulty ] do
13680: LD_ADDR_VAR 0 3
13684: PUSH
13685: DOUBLE
13686: LD_INT 1
13688: DEC
13689: ST_TO_ADDR
13690: LD_INT 5
13692: PUSH
13693: LD_INT 6
13695: PUSH
13696: LD_INT 8
13698: PUSH
13699: EMPTY
13700: LIST
13701: LIST
13702: LIST
13703: PUSH
13704: LD_OWVAR 67
13708: ARRAY
13709: PUSH
13710: FOR_TO
13711: IFFALSE 13719
// Sold ;
13713: CALL 13889 0 0
13717: GO 13710
13719: POP
13720: POP
// for i = 1 to [ 2 , 3 , 3 ] [ Difficulty ] do
13721: LD_ADDR_VAR 0 3
13725: PUSH
13726: DOUBLE
13727: LD_INT 1
13729: DEC
13730: ST_TO_ADDR
13731: LD_INT 2
13733: PUSH
13734: LD_INT 3
13736: PUSH
13737: LD_INT 3
13739: PUSH
13740: EMPTY
13741: LIST
13742: LIST
13743: LIST
13744: PUSH
13745: LD_OWVAR 67
13749: ARRAY
13750: PUSH
13751: FOR_TO
13752: IFFALSE 13760
// Tank ;
13754: CALL 14003 0 0
13758: GO 13751
13760: POP
13761: POP
// end ; 2 .. 9 :
13762: GO 13884
13764: LD_INT 2
13766: DOUBLE
13767: GREATEREQUAL
13768: IFFALSE 13776
13770: LD_INT 9
13772: DOUBLE
13773: LESSEQUAL
13774: IFTRUE 13778
13776: GO 13883
13778: POP
// begin for i = 1 to [ 6 , 6 , 8 ] [ Difficulty ] + ( wave div 2 ) do
13779: LD_ADDR_VAR 0 3
13783: PUSH
13784: DOUBLE
13785: LD_INT 1
13787: DEC
13788: ST_TO_ADDR
13789: LD_INT 6
13791: PUSH
13792: LD_INT 6
13794: PUSH
13795: LD_INT 8
13797: PUSH
13798: EMPTY
13799: LIST
13800: LIST
13801: LIST
13802: PUSH
13803: LD_OWVAR 67
13807: ARRAY
13808: PUSH
13809: LD_VAR 0 1
13813: PUSH
13814: LD_INT 2
13816: DIV
13817: PLUS
13818: PUSH
13819: FOR_TO
13820: IFFALSE 13828
// Sold ;
13822: CALL 13889 0 0
13826: GO 13819
13828: POP
13829: POP
// for i = 1 to [ 3 , 4 , 4 ] [ Difficulty ] + ( wave div 2 ) do
13830: LD_ADDR_VAR 0 3
13834: PUSH
13835: DOUBLE
13836: LD_INT 1
13838: DEC
13839: ST_TO_ADDR
13840: LD_INT 3
13842: PUSH
13843: LD_INT 4
13845: PUSH
13846: LD_INT 4
13848: PUSH
13849: EMPTY
13850: LIST
13851: LIST
13852: LIST
13853: PUSH
13854: LD_OWVAR 67
13858: ARRAY
13859: PUSH
13860: LD_VAR 0 1
13864: PUSH
13865: LD_INT 2
13867: DIV
13868: PLUS
13869: PUSH
13870: FOR_TO
13871: IFFALSE 13879
// Tank ;
13873: CALL 14003 0 0
13877: GO 13870
13879: POP
13880: POP
// end ; end ;
13881: GO 13884
13883: POP
// end ;
13884: LD_VAR 0 2
13888: RET
// function Sold ( ) ; var un , skill ; begin
13889: LD_INT 0
13891: PPUSH
13892: PPUSH
13893: PPUSH
// InitHc ;
13894: CALL_OW 19
// skill := [ 6 , 7 , 7 ] [ Difficulty ] ;
13898: LD_ADDR_VAR 0 3
13902: PUSH
13903: LD_INT 6
13905: PUSH
13906: LD_INT 7
13908: PUSH
13909: LD_INT 7
13911: PUSH
13912: EMPTY
13913: LIST
13914: LIST
13915: LIST
13916: PUSH
13917: LD_OWVAR 67
13921: ARRAY
13922: ST_TO_ADDR
// PrepareHuman ( false , [ class_soldier , class_bazooker ] [ rand ( 1 , 2 ) ] , skill ) ;
13923: LD_INT 0
13925: PPUSH
13926: LD_INT 1
13928: PUSH
13929: LD_INT 9
13931: PUSH
13932: EMPTY
13933: LIST
13934: LIST
13935: PUSH
13936: LD_INT 1
13938: PPUSH
13939: LD_INT 2
13941: PPUSH
13942: CALL_OW 12
13946: ARRAY
13947: PPUSH
13948: LD_VAR 0 3
13952: PPUSH
13953: CALL_OW 380
// un := CreateHuman ;
13957: LD_ADDR_VAR 0 2
13961: PUSH
13962: CALL_OW 44
13966: ST_TO_ADDR
// PlaceUnitArea ( un , ruForestSpawn , false ) ;
13967: LD_VAR 0 2
13971: PPUSH
13972: LD_INT 4
13974: PPUSH
13975: LD_INT 0
13977: PPUSH
13978: CALL_OW 49
// ru_force := ru_force ^ un ;
13982: LD_ADDR_EXP 33
13986: PUSH
13987: LD_EXP 33
13991: PUSH
13992: LD_VAR 0 2
13996: ADD
13997: ST_TO_ADDR
// end ;
13998: LD_VAR 0 1
14002: RET
// function Tank ( ) ; var un , chassis , weapon , skill ; begin
14003: LD_INT 0
14005: PPUSH
14006: PPUSH
14007: PPUSH
14008: PPUSH
14009: PPUSH
// InitHc ;
14010: CALL_OW 19
// skill := [ 5 , 6 , 7 ] [ Difficulty ] ;
14014: LD_ADDR_VAR 0 5
14018: PUSH
14019: LD_INT 5
14021: PUSH
14022: LD_INT 6
14024: PUSH
14025: LD_INT 7
14027: PUSH
14028: EMPTY
14029: LIST
14030: LIST
14031: LIST
14032: PUSH
14033: LD_OWVAR 67
14037: ARRAY
14038: ST_TO_ADDR
// chassis := [ ru_medium_tracked , ru_heavy_tracked ] [ rand ( 1 , 2 ) ] ;
14039: LD_ADDR_VAR 0 3
14043: PUSH
14044: LD_INT 22
14046: PUSH
14047: LD_INT 24
14049: PUSH
14050: EMPTY
14051: LIST
14052: LIST
14053: PUSH
14054: LD_INT 1
14056: PPUSH
14057: LD_INT 2
14059: PPUSH
14060: CALL_OW 12
14064: ARRAY
14065: ST_TO_ADDR
// if chassis = ru_medium_tracked then
14066: LD_VAR 0 3
14070: PUSH
14071: LD_INT 22
14073: EQUAL
14074: IFFALSE 14109
// weapon := [ ru_rocket_launcher , ru_gatling_gun , ru_gun ] [ rand ( 1 , 3 ) ] else
14076: LD_ADDR_VAR 0 4
14080: PUSH
14081: LD_INT 45
14083: PUSH
14084: LD_INT 43
14086: PUSH
14087: LD_INT 44
14089: PUSH
14090: EMPTY
14091: LIST
14092: LIST
14093: LIST
14094: PUSH
14095: LD_INT 1
14097: PPUSH
14098: LD_INT 3
14100: PPUSH
14101: CALL_OW 12
14105: ARRAY
14106: ST_TO_ADDR
14107: GO 14140
// weapon := [ ru_heavy_gun , ru_gun , ru_rocket_launcher ] [ rand ( 1 , 3 ) ] ;
14109: LD_ADDR_VAR 0 4
14113: PUSH
14114: LD_INT 46
14116: PUSH
14117: LD_INT 44
14119: PUSH
14120: LD_INT 45
14122: PUSH
14123: EMPTY
14124: LIST
14125: LIST
14126: LIST
14127: PUSH
14128: LD_INT 1
14130: PPUSH
14131: LD_INT 3
14133: PPUSH
14134: CALL_OW 12
14138: ARRAY
14139: ST_TO_ADDR
// un := PrepareTank ( 3 , 3 , chassis , engine_combustion , [ control_computer , control_computer , control_computer , control_manual ] [ rand ( 1 , 4 ) ] , weapon , 99 ) ;
14140: LD_ADDR_VAR 0 2
14144: PUSH
14145: LD_INT 3
14147: PPUSH
14148: LD_INT 3
14150: PPUSH
14151: LD_VAR 0 3
14155: PPUSH
14156: LD_INT 1
14158: PPUSH
14159: LD_INT 3
14161: PUSH
14162: LD_INT 3
14164: PUSH
14165: LD_INT 3
14167: PUSH
14168: LD_INT 1
14170: PUSH
14171: EMPTY
14172: LIST
14173: LIST
14174: LIST
14175: LIST
14176: PUSH
14177: LD_INT 1
14179: PPUSH
14180: LD_INT 4
14182: PPUSH
14183: CALL_OW 12
14187: ARRAY
14188: PPUSH
14189: LD_VAR 0 4
14193: PPUSH
14194: LD_INT 99
14196: PPUSH
14197: CALL 248 0 7
14201: ST_TO_ADDR
// if GetControl ( un ) = control_manual then
14202: LD_VAR 0 2
14206: PPUSH
14207: CALL_OW 263
14211: PUSH
14212: LD_INT 1
14214: EQUAL
14215: IFFALSE 14246
// begin PrepareHuman ( false , 3 , skill ) ;
14217: LD_INT 0
14219: PPUSH
14220: LD_INT 3
14222: PPUSH
14223: LD_VAR 0 5
14227: PPUSH
14228: CALL_OW 380
// PlaceHumanInUnit ( CreateHuman , un ) ;
14232: CALL_OW 44
14236: PPUSH
14237: LD_VAR 0 2
14241: PPUSH
14242: CALL_OW 52
// end ; PlaceUnitArea ( un , ruRoadSpawn , false ) ;
14246: LD_VAR 0 2
14250: PPUSH
14251: LD_INT 3
14253: PPUSH
14254: LD_INT 0
14256: PPUSH
14257: CALL_OW 49
// ru_force := ru_force ^ un ;
14261: LD_ADDR_EXP 33
14265: PUSH
14266: LD_EXP 33
14270: PUSH
14271: LD_VAR 0 2
14275: ADD
14276: ST_TO_ADDR
// ComMoveXY ( un , 126 , 158 ) ;
14277: LD_VAR 0 2
14281: PPUSH
14282: LD_INT 126
14284: PPUSH
14285: LD_INT 158
14287: PPUSH
14288: CALL_OW 111
// Wait ( 0 0$3 ) ;
14292: LD_INT 105
14294: PPUSH
14295: CALL_OW 67
// ComStop ( un ) ;
14299: LD_VAR 0 2
14303: PPUSH
14304: CALL_OW 141
// end ;
14308: LD_VAR 0 1
14312: RET
// every 0 0$1 do var i , time , wave ;
14313: GO 14315
14315: DISABLE
14316: LD_INT 0
14318: PPUSH
14319: PPUSH
14320: PPUSH
// begin time := [ 12 12$00 , 11 11$00 , 10 10$00 ] [ Difficulty ] ;
14321: LD_ADDR_VAR 0 2
14325: PUSH
14326: LD_INT 25200
14328: PUSH
14329: LD_INT 23100
14331: PUSH
14332: LD_INT 21000
14334: PUSH
14335: EMPTY
14336: LIST
14337: LIST
14338: LIST
14339: PUSH
14340: LD_OWVAR 67
14344: ARRAY
14345: ST_TO_ADDR
// wait ( time ) ;
14346: LD_VAR 0 2
14350: PPUSH
14351: CALL_OW 67
// time := [ 8 8$00 , 7 7$30 , 7 7$00 ] [ Difficulty ] ;
14355: LD_ADDR_VAR 0 2
14359: PUSH
14360: LD_INT 16800
14362: PUSH
14363: LD_INT 15750
14365: PUSH
14366: LD_INT 14700
14368: PUSH
14369: EMPTY
14370: LIST
14371: LIST
14372: LIST
14373: PUSH
14374: LD_OWVAR 67
14378: ARRAY
14379: ST_TO_ADDR
// wave := 0 ;
14380: LD_ADDR_VAR 0 3
14384: PUSH
14385: LD_INT 0
14387: ST_TO_ADDR
// while true do
14388: LD_INT 1
14390: IFFALSE 14477
// begin wave := wave + 1 ;
14392: LD_ADDR_VAR 0 3
14396: PUSH
14397: LD_VAR 0 3
14401: PUSH
14402: LD_INT 1
14404: PLUS
14405: ST_TO_ADDR
// if FilterAllUnits ( [ f_side , 2 ] ) then
14406: LD_INT 22
14408: PUSH
14409: LD_INT 2
14411: PUSH
14412: EMPTY
14413: LIST
14414: LIST
14415: PPUSH
14416: CALL_OW 69
14420: IFFALSE 14449
// repeat wait ( 0 0$1 ) ;
14422: LD_INT 35
14424: PPUSH
14425: CALL_OW 67
// until FilterAllUnits ( [ f_side , 2 ] ) = 0 ;
14429: LD_INT 22
14431: PUSH
14432: LD_INT 2
14434: PUSH
14435: EMPTY
14436: LIST
14437: LIST
14438: PPUSH
14439: CALL_OW 69
14443: PUSH
14444: LD_INT 0
14446: EQUAL
14447: IFFALSE 14422
// PrepareAttack ( wave ) ;
14449: LD_VAR 0 3
14453: PPUSH
14454: CALL 13560 0 1
// ru_can_attack := true ;
14458: LD_ADDR_EXP 8
14462: PUSH
14463: LD_INT 1
14465: ST_TO_ADDR
// wait ( time ) ;
14466: LD_VAR 0 2
14470: PPUSH
14471: CALL_OW 67
// end ;
14475: GO 14388
// end ;
14477: PPOPN 3
14479: END
// every 0 0$1 trigger ru_can_attack and ru_force do var i , tmp , un , points1 , points2 ;
14480: LD_EXP 8
14484: PUSH
14485: LD_EXP 33
14489: AND
14490: IFFALSE 14863
14492: GO 14494
14494: DISABLE
14495: LD_INT 0
14497: PPUSH
14498: PPUSH
14499: PPUSH
14500: PPUSH
14501: PPUSH
// begin enable ;
14502: ENABLE
// points1 := [ 107 , 123 ] ;
14503: LD_ADDR_VAR 0 4
14507: PUSH
14508: LD_INT 107
14510: PUSH
14511: LD_INT 123
14513: PUSH
14514: EMPTY
14515: LIST
14516: LIST
14517: ST_TO_ADDR
// points2 := [ 55 , 42 ] ;
14518: LD_ADDR_VAR 0 5
14522: PUSH
14523: LD_INT 55
14525: PUSH
14526: LD_INT 42
14528: PUSH
14529: EMPTY
14530: LIST
14531: LIST
14532: ST_TO_ADDR
// for i in ru_force do
14533: LD_ADDR_VAR 0 1
14537: PUSH
14538: LD_EXP 33
14542: PUSH
14543: FOR_IN
14544: IFFALSE 14861
// begin un := NearestUnitToUnit ( FilterAllUnits ( [ f_enemy , 3 ] ) , i ) ;
14546: LD_ADDR_VAR 0 3
14550: PUSH
14551: LD_INT 81
14553: PUSH
14554: LD_INT 3
14556: PUSH
14557: EMPTY
14558: LIST
14559: LIST
14560: PPUSH
14561: CALL_OW 69
14565: PPUSH
14566: LD_VAR 0 1
14570: PPUSH
14571: CALL_OW 74
14575: ST_TO_ADDR
// if GetDistUnits ( i , un ) < 10 then
14576: LD_VAR 0 1
14580: PPUSH
14581: LD_VAR 0 3
14585: PPUSH
14586: CALL_OW 296
14590: PUSH
14591: LD_INT 10
14593: LESS
14594: IFFALSE 14739
// begin if GetType ( i ) = unit_human and GetClass ( i ) = 1 and un in FilterAllUnits ( [ [ f_type , unit_vehicle ] , [ f_empty ] ] ) then
14596: LD_VAR 0 1
14600: PPUSH
14601: CALL_OW 247
14605: PUSH
14606: LD_INT 1
14608: EQUAL
14609: PUSH
14610: LD_VAR 0 1
14614: PPUSH
14615: CALL_OW 257
14619: PUSH
14620: LD_INT 1
14622: EQUAL
14623: AND
14624: PUSH
14625: LD_VAR 0 3
14629: PUSH
14630: LD_INT 21
14632: PUSH
14633: LD_INT 2
14635: PUSH
14636: EMPTY
14637: LIST
14638: LIST
14639: PUSH
14640: LD_INT 58
14642: PUSH
14643: EMPTY
14644: LIST
14645: PUSH
14646: EMPTY
14647: LIST
14648: LIST
14649: PPUSH
14650: CALL_OW 69
14654: IN
14655: AND
14656: IFFALSE 14674
// ComEnterUnit ( i , un ) else
14658: LD_VAR 0 1
14662: PPUSH
14663: LD_VAR 0 3
14667: PPUSH
14668: CALL_OW 120
14672: GO 14737
// if not un in FilterAllUnits ( [ [ f_type , unit_vehicle ] , [ f_empty ] ] ) then
14674: LD_VAR 0 3
14678: PUSH
14679: LD_INT 21
14681: PUSH
14682: LD_INT 2
14684: PUSH
14685: EMPTY
14686: LIST
14687: LIST
14688: PUSH
14689: LD_INT 58
14691: PUSH
14692: EMPTY
14693: LIST
14694: PUSH
14695: EMPTY
14696: LIST
14697: LIST
14698: PPUSH
14699: CALL_OW 69
14703: IN
14704: NOT
14705: IFFALSE 14723
// ComAttackUnit ( i , un ) else
14707: LD_VAR 0 1
14711: PPUSH
14712: LD_VAR 0 3
14716: PPUSH
14717: CALL_OW 115
14721: GO 14737
// ComMoveUnit ( i , un ) ;
14723: LD_VAR 0 1
14727: PPUSH
14728: LD_VAR 0 3
14732: PPUSH
14733: CALL_OW 112
// end else
14737: GO 14859
// begin if GetDistUnitXY ( i , points1 [ 1 ] , points1 [ 2 ] ) > GetDistUnitXY ( i , points2 [ 1 ] , points2 [ 2 ] ) and ru_can_attack_terminal then
14739: LD_VAR 0 1
14743: PPUSH
14744: LD_VAR 0 4
14748: PUSH
14749: LD_INT 1
14751: ARRAY
14752: PPUSH
14753: LD_VAR 0 4
14757: PUSH
14758: LD_INT 2
14760: ARRAY
14761: PPUSH
14762: CALL_OW 297
14766: PUSH
14767: LD_VAR 0 1
14771: PPUSH
14772: LD_VAR 0 5
14776: PUSH
14777: LD_INT 1
14779: ARRAY
14780: PPUSH
14781: LD_VAR 0 5
14785: PUSH
14786: LD_INT 2
14788: ARRAY
14789: PPUSH
14790: CALL_OW 297
14794: GREATER
14795: PUSH
14796: LD_EXP 9
14800: AND
14801: IFFALSE 14832
// ComAgressiveMove ( i , points2 [ 1 ] , points2 [ 2 ] ) else
14803: LD_VAR 0 1
14807: PPUSH
14808: LD_VAR 0 5
14812: PUSH
14813: LD_INT 1
14815: ARRAY
14816: PPUSH
14817: LD_VAR 0 5
14821: PUSH
14822: LD_INT 2
14824: ARRAY
14825: PPUSH
14826: CALL_OW 114
14830: GO 14859
// ComAgressiveMove ( i , points1 [ 1 ] , points1 [ 2 ] ) ;
14832: LD_VAR 0 1
14836: PPUSH
14837: LD_VAR 0 4
14841: PUSH
14842: LD_INT 1
14844: ARRAY
14845: PPUSH
14846: LD_VAR 0 4
14850: PUSH
14851: LD_INT 2
14853: ARRAY
14854: PPUSH
14855: CALL_OW 114
// end ; end ;
14859: GO 14543
14861: POP
14862: POP
// end ;
14863: PPOPN 5
14865: END
